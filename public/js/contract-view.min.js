function htmlEncode(t){return document.createElement("a").appendChild(document.createTextNode(t)).parentNode.innerHTML}function htmlDecode(t){var e=document.createElement("a");return e.innerHTML=t,e.textContent}function nl2br(t,e){var n=e||"undefined"==typeof e?"<br />":"<br>";return(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+n+"$2")}!function(t){function e(t,e,n,o){var r,a=0,i=0,s=0,n=(n||"(").toString(),o=(o||")").toString();for(r=0;r<t.length;r++){var l=t[r];if(l.indexOf(n,a)>l.indexOf(o,a)||~l.indexOf(n,a)&&!~l.indexOf(o,a)||!~l.indexOf(n,a)&&~l.indexOf(o,a)){if(i=l.indexOf(n,a),s=l.indexOf(o,a),~i&&!~s||!~i&&~s){var c=t.slice(0,(r||1)+1).join(e);t=[c].concat(t.slice((r||1)+1))}a=(s>i?s:i)+1,r=0}else a=0}return t}function n(t,e){for(var n,r=0,a="";n=t.substr(r).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)r=n.index+n[0].length,n[0]=n[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),a+=t.substr(0,n.index)+n[0];t=a+=t.substr(r);var i,s,l=t.match(/:([^\/]+)/gi);if(l){s=l.length;for(var c=0;c<s;c++)i=l[c],t="::"===i.slice(0,2)?i.slice(1):t.replace(i,o(i,e))}return t}function o(t,e,n){n=t;for(var o in e)if(e.hasOwnProperty(o)&&(n=e[o](t),n!==t))break;return n===t?"([._a-zA-Z0-9-%()]+)":n}function r(t,e,n){if(!t.length)return n();var o=0;!function r(){e(t[o],function(e){e||e===!1?(n(e),n=function(){}):(o+=1,o===t.length?n():r())})}()}function a(t){for(var e=[],n=0,o=t.length;n<o;n++)e=e.concat(t[n]);return e}function i(t,e){for(var n=0;n<t.length;n+=1)if(e(t[n],n,t)===!1)return}function l(){return""===c.hash||"#"===c.hash}var c=document.location,u={mode:"modern",hash:c.hash,history:!1,check:function(){var t=c.hash;t!=this.hash&&(this.hash=t,this.onHashChanged())},fire:function(){"modern"===this.mode?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(t,e){function n(t){for(var e=0,n=p.listeners.length;e<n;e++)p.listeners[e](t)}var o=this;if(this.history=e,p.listeners||(p.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))this.history===!0?setTimeout(function(){window.onpopstate=n},500):window.onhashchange=n,this.mode="modern";else{var r=document.createElement("iframe");r.id="state-frame",r.style.display="none",document.body.appendChild(r),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&o.check()}),window.setInterval(function(){o.check()},50),this.onHashChanged=n,this.mode="legacy"}return p.listeners.push(t),this.mode},destroy:function(t){if(p&&p.listeners)for(var e=p.listeners,n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},setHash:function(t){return"legacy"===this.mode&&this.writeFrame(t),this.history===!0?(window.history.pushState({},document.title,t),this.fire()):c.hash="/"===t[0]?t:"/"+t,this},writeFrame:function(t){var e=document.getElementById("state-frame"),n=e.contentDocument||e.contentWindow.document;n.open(),n.write("<script>_hash = '"+t+"'; onload = parent.listener.syncHash;<script>"),n.close()},syncHash:function(){var t=this._hash;return t!=c.hash&&(c.hash=t),this},onHashChanged:function(){}},p=t.Router=function(t){return this instanceof p?(this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(t||{}),void 0):new p(t)};p.prototype.init=function(t){var e,n=this;return this.handler=function(t){var e=t&&t.newURL||window.location.hash,o=n.history===!0?n.getPath():e.replace(/.*#/,"");n.dispatch("on","/"===o.charAt(0)?o:"/"+o)},u.init(this.handler,this.history),this.history===!1?l()&&t?c.hash=t:l()||n.dispatch("on","/"+c.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(e=l()&&t?t:l()?null:c.hash.replace(/^#/,""),e&&window.history.replaceState({},document.title,e)):e=this.getPath(),(e||this.run_in_init===!0)&&this.handler()),this},p.prototype.explode=function(){var t=this.history===!0?this.getPath():c.hash;return"/"===t.charAt(1)&&(t=t.slice(1)),t.slice(1,t.length).split("/")},p.prototype.setRoute=function(t,e,n){var o=this.explode();return"number"==typeof t&&"string"==typeof e?o[t]=e:"string"==typeof n?o.splice(t,e,s):o=[t],u.setHash(o.join("/")),o},p.prototype.insertEx=function(t,e,n,o){return"once"===t&&(t="on",n=function(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}(n)),this._insert(t,e,n,o)},p.prototype.getRoute=function(t){var e=t;if("number"==typeof t)e=this.explode()[t];else if("string"==typeof t){var n=this.explode();e=n.indexOf(t)}else e=this.explode();return e},p.prototype.destroy=function(){return u.destroy(this.handler),this},p.prototype.getPath=function(){var t=window.location.pathname;return"/"!==t.substr(0,1)&&(t="/"+t),t};var d=/\?.*/;p.prototype.configure=function(t){t=t||{};for(var e=0;e<this.methods.length;e++)this._methods[this.methods[e]]=!0;return this.recurse=t.recurse||this.recurse||!1,this.async=t.async||!1,this.delimiter=t.delimiter||"/",this.strict="undefined"==typeof t.strict||t.strict,this.notfound=t.notfound,this.resource=t.resource,this.history=t.html5history&&this.historySupport||!1,this.run_in_init=this.history===!0&&t.run_handler_in_init!==!1,this.convert_hash_in_init=this.history===!0&&t.convert_hash_in_init!==!1,this.every={after:t.after||null,before:t.before||null,on:t.on||null},this},p.prototype.param=function(t,e){":"!==t[0]&&(t=":"+t);var n=new RegExp(t,"g");return this.params[t]=function(t){return t.replace(n,e.source||e)},this},p.prototype.on=p.prototype.route=function(t,n,o){var r=this;return!o&&"function"==typeof n&&(o=n,n=t,t="on"),Array.isArray(n)?n.forEach(function(e){r.on(t,e,o)}):(n.source&&(n=n.source.replace(/\\\//gi,"/")),Array.isArray(t)?t.forEach(function(t){r.on(t.toLowerCase(),n,o)}):(n=n.split(new RegExp(this.delimiter)),n=e(n,this.delimiter),this.insert(t,this.scope.concat(n),o),void 0))},p.prototype.path=function(t,n){var o=this.scope.length;t.source&&(t=t.source.replace(/\\\//gi,"/")),t=t.split(new RegExp(this.delimiter)),t=e(t,this.delimiter),this.scope=this.scope.concat(t),n.call(this,this),this.scope.splice(o,t.length)},p.prototype.dispatch=function(t,e,n){function o(){a.last=i.after,a.invoke(a.runlist(i),a,n)}var r,a=this,i=this.traverse(t,e.replace(d,""),this.routes,""),s=this._invoked;return this._invoked=!0,i&&0!==i.length?("forward"===this.recurse&&(i=i.reverse()),r=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last],r&&r.length>0&&s?(this.async?this.invoke(r,this,o):(this.invoke(r,this),o()),!0):(o(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:t,path:e},n),!1)},p.prototype.invoke=function(t,e,n){var o,a=this;this.async?(o=function(n,a){return Array.isArray(n)?r(n,o,a):void("function"==typeof n&&n.apply(e,(t.captures||[]).concat(a)))},r(t,o,function(){n&&n.apply(e,arguments)})):(o=function(n){return Array.isArray(n)?i(n,o):"function"==typeof n?n.apply(e,t.captures||[]):void("string"==typeof n&&a.resource&&a.resource[n].apply(e,t.captures||[]))},i(t,o))},p.prototype.traverse=function(t,e,n,o,r){function a(t){function e(t){for(var n=t.length-1;n>=0;n--)Array.isArray(t[n])?(e(t[n]),0===t[n].length&&t.splice(n,1)):r(t[n])||t.splice(n,1)}function n(t){for(var e=[],o=0;o<t.length;o++)e[o]=Array.isArray(t[o])?n(t[o]):t[o];return e}if(!r)return t;var o=n(t);return o.matched=t.matched,o.captures=t.captures,o.after=t.after.filter(r),e(o),o}var i,s,l,c,u=[];if(e===this.delimiter&&n[t])return c=[[n.before,n[t]].filter(Boolean)],c.after=[n.after].filter(Boolean),c.matched=!0,c.captures=[],a(c);for(var p in n)if(n.hasOwnProperty(p)&&(!this._methods[p]||this._methods[p]&&"object"==typeof n[p]&&!Array.isArray(n[p]))){if(i=s=o+this.delimiter+p,this.strict||(s+="["+this.delimiter+"]?"),l=e.match(new RegExp("^"+s)),!l)continue;if(l[0]&&l[0]==e&&n[p][t])return c=[[n[p].before,n[p][t]].filter(Boolean)],c.after=[n[p].after].filter(Boolean),c.matched=!0,c.captures=l.slice(1),this.recurse&&n===this.routes&&(c.push([n.before,n.on].filter(Boolean)),c.after=c.after.concat([n.after].filter(Boolean))),a(c);if(c=this.traverse(t,e,n[p],i),c.matched)return c.length>0&&(u=u.concat(c)),this.recurse&&(u.push([n[p].before,n[p].on].filter(Boolean)),c.after=c.after.concat([n[p].after].filter(Boolean)),n===this.routes&&(u.push([n.before,n.on].filter(Boolean)),c.after=c.after.concat([n.after].filter(Boolean)))),u.matched=!0,u.captures=c.captures,u.after=c.after,a(u)}return!1},p.prototype.insert=function(t,e,o,r){var a,i,s,l,c;if(e=e.filter(function(t){return t&&t.length>0}),r=r||this.routes,c=e.shift(),/\:|\*/.test(c)&&!/\\d|\\w/.test(c)&&(c=n(c,this.params)),e.length>0)return r[c]=r[c]||{},this.insert(t,e,o,r[c]);if(c||e.length||r!==this.routes){if(i=typeof r[c],s=Array.isArray(r[c]),r[c]&&!s&&"object"==i)switch(a=typeof r[c][t]){case"function":return void(r[c][t]=[r[c][t],o]);case"object":return void r[c][t].push(o);case"undefined":return void(r[c][t]=o)}else if("undefined"==i)return l={},l[t]=o,r[c]=l,void 0;throw new Error("Invalid route context: "+i)}switch(a=typeof r[t]){case"function":return void(r[t]=[r[t],o]);case"object":return void r[t].push(o);case"undefined":return void(r[t]=o)}},p.prototype.extend=function(t){function e(t){o._methods[t]=!0,o[t]=function(){var e=1===arguments.length?[t,""]:[t];o.on.apply(o,e.concat(Array.prototype.slice.call(arguments)))}}var n,o=this,r=t.length;for(n=0;n<r;n++)e(t[n])},p.prototype.runlist=function(t){var e=this.every&&this.every.before?[this.every.before].concat(a(t)):a(t);return this.every&&this.every.on&&e.push(this.every.on),e.captures=t.captures,e.source=t.source,e},p.prototype.mount=function(t,n){function o(n,o){var a=n,i=n.split(r.delimiter),s=typeof t[n],l=""===i[0]||!r._methods[i[0]],c=l?"on":a;l&&(a=a.slice((a.match(new RegExp("^"+r.delimiter))||[""])[0].length),i.shift()),l&&"object"===s&&!Array.isArray(t[n])?(o=o.concat(i),r.mount(t[n],o)):(l&&(o=o.concat(a.split(r.delimiter)),o=e(o,r.delimiter)),r.insert(c,o,t[n]))}if(t&&"object"==typeof t&&!Array.isArray(t)){var r=this;n=n||[],Array.isArray(n)||(n=n.split(r.delimiter));for(var a in t)t.hasOwnProperty(a)&&o(a,n.slice(0))}}}("object"==typeof exports?exports:window);var ViewerPage=Backbone.Model.extend({}),ViewerPageCollection=Backbone.Collection.extend({model:ViewerPage,sort_key:"page_no",comparator:function(t){return t.get(this.sort_key)},parse:function(t){return t.result}}),Annotation=Backbone.Model.extend({"default":{text:"",cluster:"Other12"}}),AnnotationsCollection=Backbone.Collection.extend({model:Annotation,sort_key:"category",setSortByKey:function(t){this.sort_key=t},comparator:function(t){return t.get(this.sort_key)},parse:function(t){return t.result.map(function(t){return t.category=_lc(t.category_key,t.category),t})},parentAnnotations:function(t){var e=[];return this.models.map(function(n){n.get("category_key")==t&&(e[n.get("annotation_id")]=n.get("text"))}),e},relatedAnnotations:function(t){var e=[];return this.models.map(function(n){n.get("annotation_id")==t.annotation_id&&n.get("id")!=t.id&&e.push(n)}),e},groupByCategory:function(){var t=this.groupBy(function(t){return t.get("category_key")});return t},groupByPage:function(){var t=this.groupBy(function(t){return t.get("page")});return t},totalAnnotations:function(){return _.keys(this.groupByCategory()).length}}),AnnotationCategory=Backbone.Model.extend({}),AnnotationCategories=Backbone.Collection.extend({model:AnnotationCategory}),SearchResultRow=Backbone.Model.extend({}),SearchResultsCollection=Backbone.Collection.extend({model:SearchResultRow,sort_key:"page_no",comparator:function(t){return t.get(this.sort_key)},getSearchTerm:function(){return this.searchTerm},fetch:function(t,e){this.searchTerm=decodeURI(t.searchTerm),this.searchCompleted=!1;var n=this;$.ajax({url:this.url,dataType:"json",type:"GET",data:{q:n.searchTerm},async:!0}).done(function(t){n.destroy(),$.each(t.results,function(t,e){"annotation"==e.type?n.add({text:e.text,page_no:e.page_no,type:e.type,annotation_type:e.annotation_type,annotation_id:e.annotation_id}):n.add({text:e.text,page_no:e.page_no,type:e.type})}),n.searchCompleted=!0,n.trigger("reset")})},destroy:function(){var t=this;_.each(_.clone(t.models),function(t){t.destroy()})}}),Metadata=Backbone.Model.extend({}),ContractApp=Backbone.Model.extend({defaults:{page_no:1,total_pages:0,view:"pdf",search_query:"",contract_id:0,guid:"",selected_annotation_id:0,pdfscale:1,showMeta:!0,canrender:!0,isSearch:!1},initialize:function(t){this.metadata=new Metadata,this.loadMetadata()},setAnnotatorInstance:function(t){return this.set({annotator:t})},getAnnotatorInstance:function(t){return this.get("annotator")},loadMetadata:function(){this.metadata.url=this.getMetadataUrl(),this.metadata.fetch()},setIsSearch:function(t){return this.set({isSearch:t})},getIsSearch:function(){return this.get("isSearch")},getShowMeta:function(){return this.get("showMeta")},getContractId:function(){return this.get("contract_id")},getContractGuid:function(){return this.get("guid")},getMetadataSummaryLink:function(){return app_url+"/contract/"+this.getContractGuid()},getMetadataUrl:function(){return this.get("esapi")+"contract/"+this.getContractGuid()+"/metadata"},getAllPageUrl:function(){return this.get("esapi")+"contract/"+this.getContractGuid()+"/text"},getAllAnnotationsUrl:function(){return this.get("esapi")+"contract/"+this.getContractGuid()+"/annotations"},getSearchUrl:function(){return this.get("esapi")+"contract/"+this.getContractGuid()+"/searchtext"},setPdfLoaded:function(t){this.set({pdfLoaded:t})},isPdfLoaded:function(){return this.get("pdfLoaded")},setPrevClick:function(t){this.set({preClick:t})},isPrevClick:function(){return this.get("preClick")},getPdfUrl:function(){var t=parseInt(this.getCurrentPage()),e=pagesCollection.where({page_no:t});return e&&e[0]&&e[0].attributes?e[0].get("pdf_url"):""},getFullPdfUrl:function(){return""},getLoadAnnotationsUrl:function(){return this.get("esapi")+"contract/"+this.getContractGuid()+"/annotations"},getAnnotationsListAnchor:function(){return app_url+"/contract/"+this.getContractGuid()+"#annotations"},renderStart:function(){this.set({canrender:!0})},renderComplete:function(){this.set({canrender:!1})},canRender:function(){return this.get("canrender")},setCurrentPage:function(t){t=parseInt(t),this.set({page_no:t})},getCurrentPage:function(){return this.get("page_no")},getTotalPages:function(){return this.get("total_pages")},setSelectedAnnotation:function(t){this.set("selected_annotation_id",t)},resetSelectedAnnotation:function(t){this.set("selected_annotation_id",0)},getSelectedAnnotation:function(){return this.get("selected_annotation_id")},setView:function(t){"pdf"!=t.trim()&&"text"!=t.trim()&&"search"!=t.trim()||this.set({view:t})},getView:function(){return this.get("view")},getSearchQuery:function(){return this.get("search_query")},setSearchQuery:function(t){this.set({search_query:t.trim()})},getPdfScale:function(){return this.get("pdfscale")},setPdfScale:function(t){return this.set({pdfscale:t})},triggerScrollToTextPage:function(){"text"!==this.get("view")&&"search"!==this.get("view")||this.trigger("scroll-to-text-page")},triggerGoToPdfPage:function(){"pdf"===this.get("view")&&this.trigger("scroll-to-pdf-page")},triggerUpdateTextPaginationPage:function(t){"text"!==this.get("view")&&"search"!==this.get("view")||this.trigger("update-text-pagination-page",t)},triggerUpdatePdfPaginationPage:function(t){"pdf"===this.get("view")&&this.trigger("update-pdf-pagination-page",t)},getBoxPosition:function(t){var e=$(".pdf-annotator").find("canvas").first();return t.width=t.width*e.width(),t.height=t.height*e.height(),t.x=t.x*e.width(),t.y=t.y*e.height(),t},showPdfAnnotationPopup:function(t){if(0==this.isPdfLoaded())return!0;var e=$(".pdf-annotator");e.find(".annotator-viewer").addClass("annotator-hide");var n=this.getAnnotatorInstance().content.data("annotator").dumpAnnotations(),o=this;n.map(function(n,r){if(n.id==t){var a=o.getBoxPosition(n.shapes[0].geometry),i={top:a.y+a.height/2,left:a.x+a.width/2};setTimeout(function(){e.animate({scrollTop:i.top-200},"fast")}(i,e),300),e.annotator().annotator("showViewer",[n],i)}})},showTextAnnotationPopup:function(t){var e=$(".text-annotator");e.find(".annotator-viewer").addClass("annotator-hide"),e.find(".annotator-hl").each(function(n,o){var o=$(o),r=o.data("annotation");if(r.id==t){var a=o.position();setTimeout(function(){e.animate({scrollTop:a.top-200},"fast")}(a,e),300),a.top=a.top+15,a.left=a.left+o.width()/2,e.annotator().annotator("showViewer",[r],a)}})},isViewVisible:function(t){var e=[];return"text"!==this.getView()&&"search"!==this.getView()||(e=["TextPaginationView","TextViewer","TextSearchForm"]),"pdf"==this.getView()&&(e=["PdfPaginationView","PdfViewer","PdfZoom"]),("search"==this.getView()||this.getIsSearch())&&e.push("TextSearchResultsList"),["text","pdf"].indexOf(this.getView())>=0&&0==this.getIsSearch()&&e.push("AnnotationsViewer"),this.getShowMeta()&&e.push("RightColumnView"),e.indexOf(t)>=0}}),PdfPage=Backbone.Model.extend({defaults:{content:""},initialize:function(t){var e=this;e.init=!1,this.contractApp=t.contractApp,this.contractApp.on("change:page_no",function(){"pdf"===e.contractApp.getView()&&(debug("pdf.js change:page_no called"),e.loadPdf())})},fetchBlob:function(t,e){this.xhr&&4!=this.xhr.readystate&&this.xhr.abort(),this.xhr=new XMLHttpRequest,this.xhr.open("GET",t,!0),this.xhr.responseType="blob",this.xhr.onload=function(t){if(200==this.status){var n=new Blob([this.response],{type:"application/pdf"}),o=URL.createObjectURL(n);e&&e(o)}},this.xhr.send()},loadPdf:function(){var t=this;""!==this.contractApp.getPdfUrl().trim()?(t.init=!0,debug("setting content to -"),t.set({content:"-"}),t.trigger("change:content"),this.fetchBlob(this.contractApp.getPdfUrl(),function(e){t.init=!0,debug("pdf.js loadPdf: fetched ",this.contractApp.getPdfUrl()," setting pdfpage: content"),t.set({content:e})})):(debug("pdf.js loadPdf: no url defined for pdf "," setting pdfpage: content to false"),t.set({content:"-1"}))}});(function(){var t,e,n,o,r,a,i,s,l,c,u,p,d,h,f,m,g,v,y,w,C,_,E,b,R,x,A,T,N=[].slice,P={}.hasOwnProperty,S=function(t,e){function n(){this.constructor=t}for(var o in e)P.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},D=function(t,e){return function(){return t.apply(e,arguments)}},M=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};if(v=function(e){var n;return n=this.map(function(){var n,o,r,a;for(r="",n=this;(null!=n?n.nodeType:void 0)===Node.ELEMENT_NODE&&n!==e;)a=n.tagName.replace(":","\\:"),o=t(n.parentNode).children(a).index(n)+1,o="["+o+"]",r="/"+n.tagName.toLowerCase()+o+r,n=n.parentNode;return r}),n.get()},y=function(t){var e,n,o,r;return e=function(t){var e,n;return e=h(t),n=f(t),""+e+"["+n+"]"},r=t,n=function(t){var n;for(n="";t!==r;){if(null==t)throw new Error("Called getPathTo on a node which was not a descendant of @rootNode. "+r);n=e(t)+"/"+n,t=t.parentNode}return n="/"+n,n=n.replace(/\/$/,"")},o=this.map(function(){var t;return t=n(this)}),o.get()},c=function(t,e,n){var o,r,a,i,s,l;if(!t.hasChildNodes())throw new Error("XPath error: node has no children!");for(r=t.childNodes,a=0,s=0,l=r.length;s<l;s++)if(o=r[s],i=h(o),i===e&&(a+=1,a===n))return o;throw new Error("XPath error: wanted child not found.")},h=function(t){var e;switch(e=t.nodeName.toLowerCase()){case"#text":return"text()";case"#comment":return"comment()";case"#cdata-section":return"cdata-section()";default:return e}},f=function(t){var e,n;for(e=0,n=t;n;)n.nodeName===t.nodeName&&e++,n=n.previousSibling;return e},m=null,"undefined"!=typeof Gettext&&null!==Gettext?(C=new Gettext({domain:"annotator"}),m=function(t){return C.gettext(t)}):m=function(t){return t},T=function(t){return m(t)},("undefined"!=typeof jQuery&&null!==jQuery&&null!=(x=jQuery.fn)?x.jquery:void 0)||console.error(T("Annotator requires jQuery: have you included lib/vendor/jquery.js?")),JSON&&JSON.parse&&JSON.stringify||console.error(T("Annotator requires a JSON implementation: have you included lib/vendor/json2.js?")),t=jQuery,a={},a.flatten=function(e){var n;return(n=function(e){var o,r,a,i;for(r=[],a=0,i=e.length;a<i;a++)o=e[a],r=r.concat(o&&t.isArray(o)?n(o):o);return r})(e)},a.contains=function(t,e){var n;for(n=e;null!=n;){if(n===t)return!0;n=n.parentNode}return!1},a.getTextNodes=function(t){var e;return e=function(t){var n;if(t&&t.nodeType!==Node.TEXT_NODE){if(n=[],t.nodeType!==Node.COMMENT_NODE)for(t=t.lastChild;t;)n.push(e(t)),t=t.previousSibling;return n.reverse()}return t},t.map(function(){return a.flatten(e(this))})},a.getLastTextNodeUpTo=function(t){var e;switch(t.nodeType){case Node.TEXT_NODE:return t;case Node.ELEMENT_NODE:if(null!=t.lastChild&&(e=a.getLastTextNodeUpTo(t.lastChild),null!=e))return e}return t=t.previousSibling,null!=t?a.getLastTextNodeUpTo(t):null},a.getFirstTextNodeNotBefore=function(t){var e;switch(t.nodeType){case Node.TEXT_NODE:return t;case Node.ELEMENT_NODE:if(null!=t.firstChild&&(e=a.getFirstTextNodeNotBefore(t.firstChild),null!=e))return e}return t=t.nextSibling,null!=t?a.getFirstTextNodeNotBefore(t):null},a.readRangeViaSelection=function(t){var e;return e=a.getGlobal().getSelection(),e.removeAllRanges(),e.addRange(t.toRange()),e.toString()},a.xpathFromNode=function(t,e){var n,o;try{o=v.call(t,e)}catch(r){n=r,console.log("jQuery-based XPath construction failed! Falling back to manual."),o=y.call(t,e)}return o},a.nodeFromXPath=function(t,e){var n,o,r,a,i,s,l,u;for(i=t.substring(1).split("/"),r=e,s=0,l=i.length;s<l;s++)a=i[s],u=a.split("["),o=u[0],n=u[1],n=null!=n?parseInt((null!=n?n.split("]"):void 0)[0]):1,r=c(r,o.toLowerCase(),n);return r},a.escape=function(t){return t.replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},a.uuid=function(){var t;return t=0,function(){return t++}}(),a.getGlobal=function(){return function(){return this}()},a.maxZIndex=function(e){var n,o;return n=function(){var n,r,a;for(a=[],n=0,r=e.length;n<r;n++)o=e[n],"static"===t(o).css("position")?a.push(-1):a.push(parseInt(t(o).css("z-index"),10)||-1);return a}(),Math.max.apply(Math,n)},a.mousePosition=function(e,n){var o,r;return"absolute"!==(r=t(n).css("position"))&&"fixed"!==r&&"relative"!==r&&(n=t(n).offsetParent()[0]),o=t(n).offset(),{top:e.pageY-o.top,left:e.pageX-o.left}},a.preventEventDefault=function(t){return null!=t&&"function"==typeof t.preventDefault?t.preventDefault():void 0},p=["log","debug","info","warn","exception","assert","dir","dirxml","trace","group","groupEnd","groupCollapsed","time","timeEnd","profile","profileEnd","count","clear","table","error","notifyFirebug","firebug","userObjects"],"undefined"!=typeof console&&null!==console)for(null==console.group&&(console.group=function(t){return console.log("GROUP: ",t)}),null==console.groupCollapsed&&(console.groupCollapsed=console.group),_=0,b=p.length;_<b;_++)u=p[_],null==console[u]&&(console[u]=function(){return console.log(T("Not implemented:")+(" console."+name))});else{for(this.console={},E=0,R=p.length;E<R;E++)u=p[E],this.console[u]=function(){};this.console.error=function(){var t;return t=1<=arguments.length?N.call(arguments,0):[],alert("ERROR: "+t.join(", "))},this.console.warn=function(){var t;return t=1<=arguments.length?N.call(arguments,0):[],alert("WARNING: "+t.join(", "))}}n=function(){function e(e,n){this.options=t.extend(!0,{},this.options,n),this.element=t(e),this._closures={},this.on=this.subscribe,this.addEvents()}return e.prototype.events={},e.prototype.options={},e.prototype.element=null,e.prototype.addEvents=function(){var t,n,o,r,a;for(r=e._parseEvents(this.events),a=[],n=0,o=r.length;n<o;n++)t=r[n],a.push(this._addEvent(t.selector,t.event,t.functionName));return a},e.prototype.removeEvents=function(){var t,n,o,r,a;for(r=e._parseEvents(this.events),a=[],n=0,o=r.length;n<o;n++)t=r[n],a.push(this._removeEvent(t.selector,t.event,t.functionName));return a},e.prototype._addEvent=function(t,n,o){var r;return r=function(t){return function(){return t[o].apply(t,arguments)}}(this),""===t&&e._isCustomEvent(n)?this.subscribe(n,r):this.element.delegate(t,n,r),this._closures[""+t+"/"+n+"/"+o]=r,this},e.prototype._removeEvent=function(t,n,o){var r;return r=this._closures[""+t+"/"+n+"/"+o],""===t&&e._isCustomEvent(n)?this.unsubscribe(n,r):this.element.undelegate(t,n,r),delete this._closures[""+t+"/"+n+"/"+o],this},e.prototype.publish=function(){return this.element.triggerHandler.apply(this.element,arguments),this},e.prototype.subscribe=function(e,n){var o;return o=function(){return n.apply(this,[].slice.call(arguments,1))},o.guid=n.guid=t.guid+=1,this.element.bind(e,o),this},e.prototype.unsubscribe=function(){return this.element.unbind.apply(this.element,arguments),this},e}(),n._parseEvents=function(t){var e,n,o,r,a,i,s;n=[];for(r in t)o=t[r],s=r.split(" "),a=2<=s.length?N.call(s,0,i=s.length-1):(i=0,[]),e=s[i++],n.push({selector:a.join(" "),event:e,functionName:o});return n},n.natives=function(){var t,e,n;return e=function(){var e,o;e=jQuery.event.special,o=[];for(t in e)P.call(e,t)&&(n=e[t],o.push(t));return o}(),"blur focus focusin focusout load resize scroll unload click dblclick\nmousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\nchange select submit keydown keypress keyup error".split(/[^a-z]+/).concat(e)}(),n._isCustomEvent=function(e){return e=e.split(".")[0],t.inArray(e,n.natives)===-1},r={},r.sniff=function(t){return null!=t.commonAncestorContainer?new r.BrowserRange(t):"string"==typeof t.start?new r.SerializedRange(t):t.start&&"object"==typeof t.start?new r.NormalizedRange(t):(console.error(T("Could not sniff range type")),!1)},r.nodeFromXPath=function(e,n){var o,r,i,s,l;return null==n&&(n=document),r=function(t,e){var o;null==e&&(e=null);try{return document.evaluate("."+t,n,e,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(r){return o=r,console.log("XPath evaluation failed."),console.log("Trying fallback..."),a.nodeFromXPath(t,n)}},t.isXMLDoc(document.documentElement)?(o=document.createNSResolver(null===document.ownerDocument?document.documentElement:document.ownerDocument.documentElement),s=r(e,o),s||(e=function(){var t,n,o,r;for(o=e.split("/"),r=[],t=0,n=o.length;t<n;t++)l=o[t],l&&l.indexOf(":")===-1?r.push(l.replace(/^([a-z]+)/,"xhtml:$1")):r.push(l);return r}().join("/"),i=document.lookupNamespaceURI(null),o=function(t){return"xhtml"===t?i:document.documentElement.getAttribute("xmlns:"+t)},s=r(e,o)),s):r(e)},r.RangeError=function(t){function e(t,n,o){this.type=t,this.message=n,this.parent=null!=o?o:null,e.__super__.constructor.call(this,this.message)}return S(e,t),e}(Error),r.BrowserRange=function(){function t(t){this.commonAncestorContainer=t.commonAncestorContainer,this.startContainer=t.startContainer,this.startOffset=t.startOffset,this.endContainer=t.endContainer,this.endOffset=t.endOffset}return t.prototype.normalize=function(t){var e,n,o,i;if(this.tainted)return console.error(T("You may only call normalize() once on a BrowserRange!")),!1;if(this.tainted=!0,i={},this.startContainer.nodeType===Node.ELEMENT_NODE?(i.start=a.getFirstTextNodeNotBefore(this.startContainer.childNodes[this.startOffset]),i.startOffset=0):(i.start=this.startContainer,i.startOffset=this.startOffset),this.endContainer.nodeType===Node.ELEMENT_NODE){if(n=this.endContainer.childNodes[this.endOffset],null!=n){for(e=n;null!=e&&e.nodeType!==Node.TEXT_NODE;)e=e.firstChild;null!=e&&(i.end=e,i.endOffset=0)}null==i.end&&(n=this.endContainer.childNodes[this.endOffset-1],i.end=a.getLastTextNodeUpTo(n),i.endOffset=i.end.nodeValue.length)}else i.end=this.endContainer,i.endOffset=this.endOffset;for(o={},i.startOffset>0?i.start.nodeValue.length>i.startOffset?o.start=i.start.splitText(i.startOffset):o.start=i.start.nextSibling:o.start=i.start,i.start===i.end?(o.start.nodeValue.length>i.endOffset-i.startOffset&&o.start.splitText(i.endOffset-i.startOffset),o.end=o.start):(i.end.nodeValue.length>i.endOffset&&i.end.splitText(i.endOffset),o.end=i.end),o.commonAncestor=this.commonAncestorContainer;o.commonAncestor.nodeType!==Node.ELEMENT_NODE;)o.commonAncestor=o.commonAncestor.parentNode;return new r.NormalizedRange(o)},t.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},t}(),r.NormalizedRange=function(){function e(t){this.commonAncestor=t.commonAncestor,this.start=t.start,this.end=t.end}return e.prototype.normalize=function(t){return this},e.prototype.limit=function(e){var n,o,r,a,i,s;if(n=t.grep(this.textNodes(),function(n){return n.parentNode===e||t.contains(e,n.parentNode)}),!n.length)return null;for(this.start=n[0],this.end=n[n.length-1],r=t(this.start).parents(),s=t(this.end).parents(),a=0,i=s.length;a<i;a++)if(o=s[a],r.index(o)!==-1){this.commonAncestor=o;break}return this},e.prototype.serialize=function(e,n){var o,i,s;return i=function(o,r){var i,s,l,c,u,p,d,h;for(c=n?t(o).parents(":not("+n+")").eq(0):t(o).parent(),p=a.xpathFromNode(c,e)[0],u=a.getTextNodes(c),s=u.slice(0,u.index(o)),l=0,d=0,h=s.length;d<h;d++)i=s[d],l+=i.nodeValue.length;return r?[p,l+o.nodeValue.length]:[p,l]},s=i(this.start),o=i(this.end,!0),new r.SerializedRange({start:s[0],end:o[0],startOffset:s[1],endOffset:o[1]})},e.prototype.text=function(){var t;return function(){var e,n,o,r;for(o=this.textNodes(),r=[],e=0,n=o.length;e<n;e++)t=o[e],r.push(t.nodeValue);return r}.call(this).join("")},e.prototype.textNodes=function(){var e,n,o,r;return o=a.getTextNodes(t(this.commonAncestor)),r=[o.index(this.start),o.index(this.end)],n=r[0],e=r[1],t.makeArray(o.slice(n,+e+1||9e9))},e.prototype.toRange=function(){var t;return t=document.createRange(),t.setStartBefore(this.start),t.setEndAfter(this.end),t},e}(),r.SerializedRange=function(){function e(t){this.start=t.start,this.startOffset=t.startOffset,this.end=t.end,this.endOffset=t.endOffset}return e.prototype.normalize=function(e){var n,o,i,s,l,c,u,p,d,h,f,m,g,v;for(c={},g=["start","end"],d=0,f=g.length;d<f;d++){l=g[d];try{s=r.nodeFromXPath(this[l],e)}catch(y){throw o=y,new r.RangeError(l,"Error while finding "+l+" node: "+this[l]+": "+o,o)}if(!s)throw new r.RangeError(l,"Couldn't find "+l+" node: "+this[l]);for(i=0,u=this[l+"Offset"],"end"===l&&u--,v=a.getTextNodes(t(s)),h=0,m=v.length;h<m;h++){if(p=v[h],i+p.nodeValue.length>u){c[l+"Container"]=p,c[l+"Offset"]=this[l+"Offset"]-i;break}i+=p.nodeValue.length}if(null==c[l+"Offset"])throw new r.RangeError(""+l+"offset","Couldn't find offset "+this[l+"Offset"]+" in element "+this[l])}return n=null==document.compareDocumentPosition?function(t,e){return t.contains(e)}:function(t,e){return 16&t.compareDocumentPosition(e)},t(c.startContainer).parents().each(function(){if(n(this,c.endContainer))return c.commonAncestorContainer=this,!1}),new r.BrowserRange(c).normalize(e)},e.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},e.prototype.toObject=function(){return{start:this.start,startOffset:this.startOffset,end:this.end,endOffset:this.endOffset}},e}(),w=this.Annotator,e=function(e){function n(e,o){return this.onDeleteAnnotation=D(this.onDeleteAnnotation,this),this.onEditAnnotation=D(this.onEditAnnotation,this),this.onAdderClick=D(this.onAdderClick,this),this.onAdderMousedown=D(this.onAdderMousedown,this),this.onHighlightMouseover=D(this.onHighlightMouseover,this),this.checkForEndSelection=D(this.checkForEndSelection,this),this.checkForStartSelection=D(this.checkForStartSelection,this),this.clearViewerHideTimer=D(this.clearViewerHideTimer,this),this.startViewerHideTimer=D(this.startViewerHideTimer,this),this.showViewer=D(this.showViewer,this),this.onEditorSubmit=D(this.onEditorSubmit,this),this.onEditorHide=D(this.onEditorHide,this),this.showEditor=D(this.showEditor,this),n.__super__.constructor.apply(this,arguments),this.plugins={},n.supported()?(this.options.readOnly||this._setupDocumentEvents(),this._setupWrapper()._setupViewer()._setupEditor(),
this._setupDynamicStyle(),this.adder=t(this.html.adder).appendTo(this.wrapper).hide(),void n._instances.push(this)):this}return S(n,e),n.prototype.events={".annotator-adder button click":"onAdderClick",".annotator-adder button mousedown":"onAdderMousedown",".annotator-hl mouseover":"onHighlightMouseover",".annotator-hl mouseout":"startViewerHideTimer"},n.prototype.html={adder:'<div class="annotator-adder"><button>'+T("Annotate")+"</button></div>",wrapper:'<div class="annotator-wrapper"></div>'},n.prototype.options={readOnly:!1},n.prototype.plugins={},n.prototype.editor=null,n.prototype.viewer=null,n.prototype.selectedRanges=null,n.prototype.mouseIsDown=!1,n.prototype.ignoreMouseup=!1,n.prototype.viewerHideTimer=null,n.prototype._setupWrapper=function(){return this.wrapper=t(this.html.wrapper),this.element.find("script").remove(),this.element.wrapInner(this.wrapper),this.wrapper=this.element.find(".annotator-wrapper"),this},n.prototype._setupViewer=function(){return this.viewer=new n.Viewer({readOnly:this.options.readOnly}),this.viewer.hide().on("edit",this.onEditAnnotation).on("delete",this.onDeleteAnnotation).addField({load:function(e){return function(n,o){return o.text?t(n).html(a.escape(o.text)):t(n).html("<i>"+T("No Comment")+"</i>"),e.publish("annotationViewerTextField",[n,o])}}(this)}).element.appendTo(this.wrapper).bind({mouseover:this.clearViewerHideTimer,mouseout:this.startViewerHideTimer}),this},n.prototype._setupEditor=function(){return this.editor=new n.Editor,this.editor.hide().on("hide",this.onEditorHide).on("save",this.onEditorSubmit).addField({type:"textarea",label:T("Comments")+"…",load:function(e,n){return t(e).find("textarea").val(n.text||"")},submit:function(e,n){return n.text=t(e).find("textarea").val()}}),this.editor.element.appendTo(this.wrapper),this},n.prototype._setupDocumentEvents=function(){return t(document).bind({mouseup:this.checkForEndSelection,mousedown:this.checkForStartSelection}),this},n.prototype._setupDynamicStyle=function(){var e,n,o,r;return o=t("#annotator-dynamic-style"),o.length||(o=t('<style id="annotator-dynamic-style"></style>').appendTo(document.head)),n="*"+function(){var t,e,n,o;for(n=["adder","outer","notice","filter"],o=[],t=0,e=n.length;t<e;t++)r=n[t],o.push(":not(.annotator-"+r+")");return o}().join(""),e=a.maxZIndex(t(document.body).find(n)),e=Math.max(e,1e3),o.text([".annotator-adder, .annotator-outer, .annotator-notice {","  z-index: "+(e+20)+";","}",".annotator-filter {","  z-index: "+(e+10)+";","}"].join("\n")),this},n.prototype.destroy=function(){var e,o,r,a;t(document).unbind({mouseup:this.checkForEndSelection,mousedown:this.checkForStartSelection}),t("#annotator-dynamic-style").remove(),this.adder.remove(),this.viewer.destroy(),this.editor.destroy(),this.wrapper.find(".annotator-hl").each(function(){return t(this).contents().insertBefore(this),t(this).remove()}),this.wrapper.contents().insertBefore(this.wrapper),this.wrapper.remove(),this.element.data("annotator",null),a=this.plugins;for(o in a)r=a[o],this.plugins[o].destroy();if(this.removeEvents(),e=n._instances.indexOf(this),e!==-1)return n._instances.splice(e,1)},n.prototype.getSelectedRanges=function(){var e,n,o,i,s,l,c,u,p;for(c=a.getGlobal().getSelection(),s=[],l=[],c.isCollapsed||(s=function(){var t,a,s;for(s=[],n=t=0,a=c.rangeCount;0<=a?t<a:t>a;n=0<=a?++t:--t)i=c.getRangeAt(n),e=new r.BrowserRange(i),o=e.normalize().limit(this.wrapper[0]),null===o&&l.push(i),s.push(o);return s}.call(this),c.removeAllRanges()),u=0,p=l.length;u<p;u++)i=l[u],c.addRange(i);return t.grep(s,function(t){return t&&c.addRange(t.toRange()),t})},n.prototype.createAnnotation=function(){var t;return t={},this.publish("beforeAnnotationCreated",[t]),t},n.prototype.setupAnnotation=function(e){var n,o,a,i,s,l,c,u,p,d;for(s=this.wrapper[0],e.ranges||(e.ranges=this.selectedRanges),a=[],d=e.ranges,l=0,u=d.length;l<u;l++){i=d[l];try{a.push(r.sniff(i).normalize(s))}catch(h){if(n=h,!(n instanceof r.RangeError))throw n;this.publish("rangeNormalizeFail",[e,i,n])}}for(e.quote=[],e.ranges=[],e.highlights=[],c=0,p=a.length;c<p;c++)o=a[c],e.quote.push(t.trim(o.text())),e.ranges.push(o.serialize(this.wrapper[0],".annotator-hl")),t.merge(e.highlights,this.highlightRange(o));return e.quote=e.quote.join(" / "),t(e.highlights).data("annotation",e),e},n.prototype.updateAnnotation=function(t){return this.publish("beforeAnnotationUpdated",[t]),this.publish("annotationUpdated",[t]),t},n.prototype.deleteAnnotation=function(e){var n,o,r,a,i;if(null!=e.highlights)for(i=e.highlights,r=0,a=i.length;r<a;r++)o=i[r],null!=o.parentNode&&(n=o.childNodes[0],t(o).replaceWith(o.childNodes));return this.publish("annotationDeleted",[e]),e},n.prototype.loadAnnotations=function(t){var e,n;return null==t&&(t=[]),n=function(t){return function(o){var r,a,i,s;for(null==o&&(o=[]),a=o.splice(0,10),i=0,s=a.length;i<s;i++)r=a[i],t.setupAnnotation(r);return o.length>0?setTimeout(function(){return n(o)},10):t.publish("annotationsLoaded",[e])}}(this),e=t.slice(),n(t),this},n.prototype.dumpAnnotations=function(){return this.plugins.Store?this.plugins.Store.dumpAnnotations():(console.warn(T("Can't dump annotations without Store plugin.")),!1)},n.prototype.highlightRange=function(e,n){var o,r,a,i,s,l,c;for(null==n&&(n="annotator-hl"),a=/^\s*$/,o=t("<span class='"+n+"'></span>"),l=e.textNodes(),c=[],i=0,s=l.length;i<s;i++)r=l[i],a.test(r.nodeValue)||c.push(t(r).wrapAll(o).parent().show()[0]);return c},n.prototype.highlightRanges=function(e,n){var o,r,a,i;for(null==n&&(n="annotator-hl"),o=[],a=0,i=e.length;a<i;a++)r=e[a],t.merge(o,this.highlightRange(r,n));return o},n.prototype.addPlugin=function(t,e){var o,r;return this.plugins[t]?console.error(T("You cannot have more than one instance of any plugin.")):(o=n.Plugin[t],"function"==typeof o?(this.plugins[t]=new o(this.element[0],e),this.plugins[t].annotator=this,"function"==typeof(r=this.plugins[t]).pluginInit&&r.pluginInit()):console.error(T("Could not load ")+t+T(" plugin. Have you included the appropriate <script> tag?"))),this},n.prototype.showEditor=function(t,e){return this.editor.element.css(e),this.editor.load(t),this.publish("annotationEditorShown",[this.editor,t]),this},n.prototype.onEditorHide=function(){return this.publish("annotationEditorHidden",[this.editor]),this.ignoreMouseup=!1},n.prototype.onEditorSubmit=function(t){return this.publish("annotationEditorSubmit",[this.editor,t])},n.prototype.showViewer=function(t,e){return this.viewer.element.css(e),this.viewer.load(t),this.publish("annotationViewerShown",[this.viewer,t])},n.prototype.startViewerHideTimer=function(){if(!this.viewerHideTimer)return this.viewerHideTimer=setTimeout(this.viewer.hide,250)},n.prototype.clearViewerHideTimer=function(){return clearTimeout(this.viewerHideTimer),this.viewerHideTimer=!1},n.prototype.checkForStartSelection=function(t){return t&&this.isAnnotator(t.target)||this.startViewerHideTimer(),this.mouseIsDown=!0},n.prototype.checkForEndSelection=function(e){var n,o,r,i,s;if(this.mouseIsDown=!1,!this.ignoreMouseup){for(this.selectedRanges=this.getSelectedRanges(),s=this.selectedRanges,r=0,i=s.length;r<i;r++)if(o=s[r],n=o.commonAncestor,t(n).hasClass("annotator-hl")&&(n=t(n).parents("[class!=annotator-hl]")[0]),this.isAnnotator(n))return;return e&&this.selectedRanges.length?this.adder.css(a.mousePosition(e,this.wrapper[0])).show():this.adder.hide()}},n.prototype.isAnnotator=function(e){return!!t(e).parents().addBack().filter("[class^=annotator-]").not(this.wrapper).length},n.prototype.onHighlightMouseover=function(e){var n;return this.clearViewerHideTimer(),!this.mouseIsDown&&!this.viewer.isShown()&&(n=t(e.target).parents(".annotator-hl").addBack().map(function(){return t(this).data("annotation")}),this.showViewer(t.makeArray(n),a.mousePosition(e,this.wrapper[0])))},n.prototype.onAdderMousedown=function(t){return null!=t&&t.preventDefault(),this.ignoreMouseup=!0},n.prototype.onAdderClick=function(e){var n,o,r,a,i;return null!=e&&e.preventDefault(),a=this.adder.position(),this.adder.hide(),n=this.setupAnnotation(this.createAnnotation()),t(n.highlights).addClass("annotator-hl-temporary"),i=function(e){return function(){return r(),t(n.highlights).removeClass("annotator-hl-temporary"),e.publish("annotationCreated",[n])}}(this),o=function(t){return function(){return r(),t.deleteAnnotation(n)}}(this),r=function(t){return function(){return t.unsubscribe("annotationEditorHidden",o),t.unsubscribe("annotationEditorSubmit",i)}}(this),this.subscribe("annotationEditorHidden",o),this.subscribe("annotationEditorSubmit",i),this.showEditor(n,a)},n.prototype.onEditAnnotation=function(t){var e,n,o;return n=this.viewer.element.position(),o=function(n){return function(){return e(),n.updateAnnotation(t)}}(this),e=function(t){return function(){return t.unsubscribe("annotationEditorHidden",e),t.unsubscribe("annotationEditorSubmit",o)}}(this),this.subscribe("annotationEditorHidden",e),this.subscribe("annotationEditorSubmit",o),this.viewer.hide(),this.showEditor(t,n)},n.prototype.onDeleteAnnotation=function(t){return this.viewer.hide(),this.deleteAnnotation(t)},n}(n),e.Plugin=function(t){function e(t,n){e.__super__.constructor.apply(this,arguments)}return S(e,t),e.prototype.pluginInit=function(){},e.prototype.destroy=function(){return this.removeEvents()},e}(n),d=a.getGlobal(),null==(null!=(A=d.document)?A.evaluate:void 0)&&t.getScript("http://assets.annotateit.org/vendor/xpath.min.js"),null==d.getSelection&&t.getScript("http://assets.annotateit.org/vendor/ierange.min.js"),null==d.JSON&&t.getScript("http://assets.annotateit.org/vendor/json2.min.js"),null==d.Node&&(d.Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),e.$=t,e.Delegator=n,e.Range=r,e.Util=a,e._instances=[],e._t=T,e.supported=function(){return function(){return!!this.getSelection}()},e.noConflict=function(){return a.getGlobal().Annotator=w,this},t.fn.annotator=function(n){var o;return o=Array.prototype.slice.call(arguments,1),this.each(function(){var r;return r=t.data(this,"annotator"),r?n&&r[n].apply(r,o):(r=new e(this,n),t.data(this,"annotator",r))})},this.Annotator=e,e.Widget=function(n){function o(n,r){o.__super__.constructor.apply(this,arguments),this.classes=t.extend({},e.Widget.prototype.classes,this.classes)}return S(o,n),o.prototype.classes={hide:"annotator-hide",invert:{x:"annotator-invert-x",y:"annotator-invert-y"}},o.prototype.destroy=function(){return this.removeEvents(),this.element.remove()},o.prototype.checkOrientation=function(){var n,o,r,a,i;return this.resetOrientation(),i=t(e.Util.getGlobal()),a=this.element.children(":first"),o=a.offset(),r={top:i.scrollTop(),right:i.width()+i.scrollLeft()},n={top:o.top,right:o.left+a.width()},n.top-r.top<0&&this.invertY(),n.right-r.right>0&&this.invertX(),this},o.prototype.resetOrientation=function(){return this.element.removeClass(this.classes.invert.x).removeClass(this.classes.invert.y),this},o.prototype.invertX=function(){return this.element.addClass(this.classes.invert.x),this},o.prototype.invertY=function(){return this.element.addClass(this.classes.invert.y),this},o.prototype.isInvertedY=function(){return this.element.hasClass(this.classes.invert.y)},o.prototype.isInvertedX=function(){return this.element.hasClass(this.classes.invert.x)},o}(n),e.Editor=function(n){function o(e){this.onCancelButtonMouseover=D(this.onCancelButtonMouseover,this),this.processKeypress=D(this.processKeypress,this),this.submit=D(this.submit,this),this.load=D(this.load,this),this.hide=D(this.hide,this),this.show=D(this.show,this),o.__super__.constructor.call(this,t(this.html)[0],e),this.fields=[],this.annotation={}}return S(o,n),o.prototype.events={"form submit":"submit",".annotator-save click":"submit",".annotator-cancel click":"hide",".annotator-cancel mouseover":"onCancelButtonMouseover","textarea keydown":"processKeypress"},o.prototype.classes={hide:"annotator-hide",focus:"annotator-focus"},o.prototype.html='<div class="annotator-outer annotator-editor">\n  <form class="annotator-widget">\n    <ul class="annotator-listing"></ul>\n    <div class="annotator-controls">\n      <a href="#cancel" class="annotator-cancel">'+T("Cancel")+'</a>\n<a href="#save" class="annotator-save annotator-focus">'+T("Save")+"</a>\n    </div>\n  </form>\n</div>",o.prototype.options={},o.prototype.show=function(t){return e.Util.preventEventDefault(t),this.element.removeClass(this.classes.hide),this.element.find(".annotator-save").addClass(this.classes.focus),this.checkOrientation(),this.element.find(":input:first").focus(),this.setupDraggables(),this.publish("show")},o.prototype.hide=function(t){return e.Util.preventEventDefault(t),this.element.addClass(this.classes.hide),this.publish("hide")},o.prototype.load=function(t){var e,n,o,r;for(this.annotation=t,this.publish("load",[this.annotation]),r=this.fields,n=0,o=r.length;n<o;n++)e=r[n],e.load(e.element,this.annotation);return this.show()},o.prototype.submit=function(t){var n,o,r,a;for(e.Util.preventEventDefault(t),a=this.fields,o=0,r=a.length;o<r;o++)n=a[o],n.submit(n.element,this.annotation);return this.publish("save",[this.annotation]),this.hide()},o.prototype.addField=function(n){var o,r,a;switch(r=t.extend({id:"annotator-field-"+e.Util.uuid(),type:"input",label:"",load:function(){},submit:function(){}},n),a=null,o=t('<li class="annotator-item" />'),r.element=o[0],r.type){case"textarea":a=t("<textarea />");break;case"input":case"checkbox":a=t("<input />");break;case"select":a=t("<select />")}return o.append(a),a.attr({id:r.id,placeholder:r.label}),"checkbox"===r.type&&(a[0].type="checkbox",o.addClass("annotator-checkbox"),o.append(t("<label />",{"for":r.id,html:r.label}))),this.element.find("ul:first").append(o),this.fields.push(r),r.element},o.prototype.checkOrientation=function(){var t,e;return o.__super__.checkOrientation.apply(this,arguments),e=this.element.find("ul"),t=this.element.find(".annotator-controls"),this.element.hasClass(this.classes.invert.y)?t.insertBefore(e):t.is(":first-child")&&t.insertAfter(e),this},o.prototype.processKeypress=function(t){return 27===t.keyCode?this.hide():13!==t.keyCode||t.shiftKey?void 0:this.submit()},o.prototype.onCancelButtonMouseover=function(){return this.element.find("."+this.classes.focus).removeClass(this.classes.focus)},o.prototype.setupDraggables=function(){var e,n,o,r,a,i,s,l,c,u,p;return this.element.find(".annotator-resize").remove(),o=this.element.hasClass(this.classes.invert.y)?this.element.find(".annotator-item:last"):this.element.find(".annotator-item:first"),o&&t('<span class="annotator-resize"></span>').appendTo(o),a=null,e=this.classes,r=this.element,u=null,c=r.find(".annotator-resize"),n=r.find(".annotator-controls"),p=!1,i=function(e){if(e.target===this)return a={element:this,top:e.pageY,left:e.pageX},u=r.find("textarea:first"),t(window).bind({"mouseup.annotator-editor-resize":l,"mousemove.annotator-editor-resize":s}),e.preventDefault()},l=function(){return a=null,t(window).unbind(".annotator-editor-resize")},s=function(t){return function(t){var o,i,s,l,d;if(a&&p===!1)return o={top:t.pageY-a.top,left:t.pageX-a.left},a.element===c[0]?(l=u.outerHeight(),d=u.outerWidth(),i=r.hasClass(e.invert.x)?-1:1,s=r.hasClass(e.invert.y)?1:-1,u.height(l+o.top*s),u.width(d+o.left*i),u.outerHeight()!==l&&(a.top=t.pageY),u.outerWidth()!==d&&(a.left=t.pageX)):a.element===n[0]&&(r.css({top:parseInt(r.css("top"),10)+o.top,left:parseInt(r.css("left"),10)+o.left}),a.top=t.pageY,a.left=t.pageX),p=!0,setTimeout(function(){return p=!1},1e3/60)}}(this),c.bind("mousedown",i),n.bind("mousedown",i)},o}(e.Widget),e.Viewer=function(n){function r(e){this.onDeleteClick=D(this.onDeleteClick,this),this.onEditClick=D(this.onEditClick,this),this.load=D(this.load,this),this.hide=D(this.hide,this),this.show=D(this.show,this),r.__super__.constructor.call(this,t(this.html.element)[0],e),this.item=t(this.html.item)[0],this.fields=[],this.annotations=[]}return S(r,n),r.prototype.events={".annotator-edit click":"onEditClick",".annotator-delete click":"onDeleteClick"},r.prototype.classes={hide:"annotator-hide",showControls:"annotator-visible"},r.prototype.html={element:'<div class="annotator-outer annotator-viewer">\n  <ul class="annotator-widget annotator-listing"></ul>\n</div>',item:'<li class="annotator-annotation annotator-item">\n  <span class="annotator-controls">\n    <a href="#" title="View as webpage" class="annotator-link">View as webpage</a>\n    <button title="Edit" class="annotator-edit">Edit</button>\n    <button title="Delete" class="annotator-delete">Delete</button>\n  </span>\n</li>'},r.prototype.options={readOnly:!1},r.prototype.show=function(t){var n;return e.Util.preventEventDefault(t),n=this.element.find(".annotator-controls").addClass(this.classes.showControls),setTimeout(function(t){return function(){return n.removeClass(t.classes.showControls)}}(this),500),this.element.removeClass(this.classes.hide),this.checkOrientation().publish("show")},r.prototype.isShown=function(){return!this.element.hasClass(this.classes.hide)},r.prototype.hide=function(t){return e.Util.preventEventDefault(t),this.element.addClass(this.classes.hide),this.publish("hide")},r.prototype.load=function(e){var n,r,a,i,s,l,c,u,p,d,h,f,m,g,v,y,w;for(this.annotations=e||[],h=this.element.find("ul:first").empty(),y=this.annotations,f=0,g=y.length;f<g;f++)for(n=y[f],u=t(this.item).clone().appendTo(h).data("annotation",n),a=u.find(".annotator-controls"),p=a.find(".annotator-link"),s=a.find(".annotator-edit"),i=a.find(".annotator-delete"),d=new o(n.links||[]).get("alternate",{type:"text/html"}),0===d.length||null==d[0].href?p.remove():p.attr("href",d[0].href),this.options.readOnly?(s.remove(),i.remove()):r={showEdit:function(){return s.removeAttr("disabled")},hideEdit:function(){return s.attr("disabled","disabled")},showDelete:function(){return i.removeAttr("disabled")},hideDelete:function(){return i.attr("disabled","disabled")}},w=this.fields,m=0,v=w.length;m<v;m++)c=w[m],l=t(c.element).clone().appendTo(u)[0],c.load(l,n,r);return this.publish("load",[this.annotations]),this.show()},r.prototype.addField=function(e){var n;return n=t.extend({load:function(){}},e),n.element=t("<div />")[0],this.fields.push(n),n.element,this},r.prototype.onEditClick=function(t){return this.onButtonClick(t,"edit")},r.prototype.onDeleteClick=function(t){return this.onButtonClick(t,"delete")},r.prototype.onButtonClick=function(e,n){var o;return o=t(e.target).parents(".annotator-annotation"),this.publish(n,[o.data("annotation")])},r}(e.Widget),o=function(){function e(t){this.data=t}return e.prototype.get=function(e,n){var o,r,a,i,s,l,c,u,p;for(null==n&&(n={}),n=t.extend({},n,{rel:e}),a=function(){var t;t=[];for(r in n)P.call(n,r)&&(s=n[r],t.push(r));return t}(),u=this.data,p=[],l=0,c=u.length;l<c;l++)o=u[l],i=a.reduce(function(t,e){return t&&o[e]===n[e]},!0),i&&p.push(o);return p},e}(),e=e||{},e.Notification=function(n){function o(e){this.hide=D(this.hide,this),this.show=D(this.show,this),o.__super__.constructor.call(this,t(this.options.html).appendTo(document.body)[0],e)}return S(o,n),o.prototype.events={click:"hide"},o.prototype.options={html:"<div class='annotator-notice'></div>",classes:{show:"annotator-notice-show",info:"annotator-notice-info",success:"annotator-notice-success",error:"annotator-notice-error"}},o.prototype.show=function(n,o){return null==o&&(o=e.Notification.INFO),this.currentStatus=o,t(this.element).addClass(this.options.classes.show).addClass(this.options.classes[this.currentStatus]).html(a.escape(n||"")),setTimeout(this.hide,5e3),this},o.prototype.hide=function(){return null==this.currentStatus&&(this.currentStatus=e.Notification.INFO),t(this.element).removeClass(this.options.classes.show).removeClass(this.options.classes[this.currentStatus]),this},o}(n),e.Notification.INFO="info",e.Notification.SUCCESS="success",e.Notification.ERROR="error",t(function(){var t;return t=new e.Notification,e.showNotification=t.show,e.hideNotification=t.hide}),e.Plugin.Unsupported=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return S(o,n),o.prototype.options={message:e._t("Sorry your current browser does not support the Annotator")},o.prototype.pluginInit=function(){if(!e.supported())return t(function(n){return function(){if(e.showNotification(n.options.message),void 0===window.XMLHttpRequest&&void 0!==ActiveXObject)return t("html").addClass("ie6")}}(this))},o}(e.Plugin),l=function(t){var e,n,o,r,a,i;return r="([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?",e=t.match(new RegExp(r)),o=0,n=new Date(e[1],0,1),e[3]&&n.setMonth(e[3]-1),e[5]&&n.setDate(e[5]),e[7]&&n.setHours(e[7]),e[8]&&n.setMinutes(e[8]),e[10]&&n.setSeconds(e[10]),e[12]&&n.setMilliseconds(1e3*Number("0."+e[12])),e[14]&&(o=60*Number(e[16])+Number(e[17]),o*=null!=(i="-"===e[15])?i:{1:-1}),o-=n.getTimezoneOffset(),a=Number(n)+60*o*1e3,n.setTime(Number(a)),n},i=function(t){var e,n,o,r,a,i,s,l,c,u,p,d,h;if("undefined"!=typeof atob&&null!==atob)return atob(t);if(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,e=0,r="",h=[],!t)return t;for(t+="";c<t.length;)a=n.indexOf(t.charAt(c++)),i=n.indexOf(t.charAt(c++)),s=n.indexOf(t.charAt(c++)),l=n.indexOf(t.charAt(c++)),o=a<<18|i<<12|s<<6|l,u=o>>16&255,p=o>>8&255,d=255&o,64===s?h[e++]=String.fromCharCode(u):64===l?h[e++]=String.fromCharCode(u,p):h[e++]=String.fromCharCode(u,p,d);return h.join("")},s=function(t){var e,n,o,r;if(n=t.length%4,0!==n)for(e=o=0,r=4-n;0<=r?o<r:o>r;e=0<=r?++o:--o)t+="=";return t=t.replace(/-/g,"+"),t=t.replace(/_/g,"/"),i(t)},g=function(t){var e,n,o,r;return r=t.split("."),e=r[0],n=r[1],o=r[2],JSON.parse(s(n))},e.Plugin.Auth=function(n){function o(t,e){o.__super__.constructor.apply(this,arguments),this.waitingForToken=[],this.options.token?this.setToken(this.options.token):this.requestToken()}return S(o,n),o.prototype.options={token:null,tokenUrl:"/auth/token",autoFetch:!0},o.prototype.requestToken=function(){return this.requestInProgress=!0,t.ajax({url:this.options.tokenUrl,dataType:"text",xhrFields:{withCredentials:!0}}).done(function(t){return function(e,n,o){return t.setToken(e)}}(this)).fail(function(t){return function(t,n,o){var r;return r=e._t("Couldn't get auth token:"),console.error(""+r+" "+o,t),e.showNotification(""+r+" "+t.responseText,e.Notification.ERROR)}}(this)).always(function(t){return function(){return t.requestInProgress=!1}}(this))},o.prototype.setToken=function(t){var n;if(this.token=t,this._unsafeToken=g(t),this.haveValidToken()){for(this.options.autoFetch&&(this.refreshTimeout=setTimeout(function(t){return function(){return t.requestToken()}}(this),1e3*(this.timeToExpiry()-2))),this.updateHeaders(),n=[];this.waitingForToken.length>0;)n.push(this.waitingForToken.pop()(this._unsafeToken));return n}if(console.warn(e._t("Didn't get a valid token.")),this.options.autoFetch)return console.warn(e._t("Getting a new token in 10s.")),setTimeout(function(t){return function(){return t.requestToken()}}(this),1e4)},o.prototype.haveValidToken=function(){var t;return t=this._unsafeToken&&this._unsafeToken.issuedAt&&this._unsafeToken.ttl&&this._unsafeToken.consumerKey,!!(t&&this.timeToExpiry()>0)},o.prototype.timeToExpiry=function(){var t,e,n,o;return n=(new Date).getTime()/1e3,e=l(this._unsafeToken.issuedAt).getTime()/1e3,t=e+this._unsafeToken.ttl,o=t-n,o>0?o:0},o.prototype.updateHeaders=function(){var e;return e=this.element.data("annotator:headers"),this.element.data("annotator:headers",t.extend(e,{"x-annotator-auth-token":this.token}))},o.prototype.withToken=function(t){if(null!=t)return this.haveValidToken()?t(this._unsafeToken):(this.waitingForToken.push(t),this.requestInProgress?void 0:this.requestToken())},o}(e.Plugin),e.Plugin.Store=function(n){function o(t,e){this._onError=D(this._onError,this),this._onLoadAnnotationsFromSearch=D(this._onLoadAnnotationsFromSearch,this),this._onLoadAnnotations=D(this._onLoadAnnotations,this),this._getAnnotations=D(this._getAnnotations,this),o.__super__.constructor.apply(this,arguments),this.annotations=[]}return S(o,n),o.prototype.events={annotationCreated:"annotationCreated",annotationDeleted:"annotationDeleted",annotationUpdated:"annotationUpdated"},o.prototype.options={annotationData:{},emulateHTTP:!1,loadFromSearch:!1,prefix:"/store",urls:{create:"/annotations",read:"/annotations/:id",update:"/annotations/:id",destroy:"/annotations/:id",search:"/search"}},o.prototype.pluginInit=function(){if(e.supported())return this.annotator.plugins.Auth?this.annotator.plugins.Auth.withToken(this._getAnnotations):this._getAnnotations()},o.prototype._getAnnotations=function(){return this.options.loadFromSearch?this.loadAnnotationsFromSearch(this.options.loadFromSearch):this.loadAnnotations()},o.prototype.annotationCreated=function(n){return M.call(this.annotations,n)<0?(this.registerAnnotation(n),this._apiRequest("create",n,function(o){return function(r){return null==r.id?console.warn(e._t("Warning: No ID returned from server for annotation "),n):(n.id=r.id,t("#id-annotator-temp").attr("id",n.id),t("#annotator-temp").attr("id","annotation-"+n.id),t("#annotation-"+n.id).children(".annotator-marginviewer-quote").show()),o.updateAnnotation(n,r)}}(this))):this.updateAnnotation(n,{})},o.prototype.annotationUpdated=function(t){if(M.call(this.annotations,t)>=0)return this._apiRequest("update",t,function(e){return function(n){return e.updateAnnotation(t,n)}}(this))},o.prototype.annotationDeleted=function(t){if(M.call(this.annotations,t)>=0)return this._apiRequest("destroy",t,function(e){return function(){return e.unregisterAnnotation(t)}}(this))},o.prototype.registerAnnotation=function(t){return this.annotations.push(t)},o.prototype.unregisterAnnotation=function(t){return this.annotations.splice(this.annotations.indexOf(t),1)},o.prototype.updateAnnotation=function(n,o){return M.call(this.annotations,n)<0?console.error(e._t("Trying to update unregistered annotation!")):t.extend(n,o),t(n.highlights).data("annotation",n)},o.prototype.loadAnnotations=function(){return this._apiRequest("read",null,this._onLoadAnnotations)},o.prototype._onLoadAnnotations=function(t){var e,n,o,r,a,i,s,l,c;for(null==t&&(t=[]),o={},c=this.annotations,a=0,s=c.length;a<s;a++)e=c[a],o[e.id]=e;for(r=[],i=0,l=t.length;i<l;i++)e=t[i],o[e.id]?(n=o[e.id],this.updateAnnotation(n,e)):r.push(e);return this.annotations=this.annotations.concat(r),this.annotator.loadAnnotations(r.slice())},o.prototype.loadAnnotationsFromSearch=function(t){return this._apiRequest("search",t,this._onLoadAnnotationsFromSearch)},o.prototype._onLoadAnnotationsFromSearch=function(t){return null==t&&(t={}),this._onLoadAnnotations(t.rows||t.result||[])},o.prototype.dumpAnnotations=function(){var t,e,n,o,r;for(o=this.annotations,r=[],e=0,n=o.length;e<n;e++)t=o[e],r.push(JSON.parse(this._dataFor(t)));return r},o.prototype._apiRequest=function(e,n,o){var r,a,i,s;return r=n&&n.id,s=this._urlFor(e,r),a=this._apiRequestOptions(e,n,o),i=t.ajax(s,a),i._id=r,i._action=e,i},o.prototype._apiRequestOptions=function(e,n,o){var r,a,i;return a=this._methodFor(e),i={type:a,headers:this.element.data("annotator:headers"),dataType:"json",success:o||function(){},error:this._onError},!this.options.emulateHTTP||"PUT"!==a&&"DELETE"!==a||(i.headers=t.extend(i.headers,{"X-HTTP-Method-Override":a}),i.type="POST"),"search"===e?i=t.extend(i,{data:n}):(r=n&&this._dataFor(n),this.options.emulateJSON?(i.data={json:r},this.options.emulateHTTP&&(i.data._method=a),i):i=t.extend(i,{data:r,contentType:"application/json; charset=utf-8"}))},o.prototype._urlFor=function(t,e){var n;return n=null!=this.options.prefix?this.options.prefix:"",n+=this.options.urls[t],n=n.replace(/\/:id/,null!=e?"/"+e:""),n=n.replace(/:id/,null!=e?e:"")},o.prototype._methodFor=function(t){var e;return e={create:"POST",read:"GET",update:"PUT",destroy:"POST",search:"GET"},e[t]},o.prototype._dataFor=function(e){var n,o;return o=e.highlights,delete e.highlights,t.extend(e,this.options.annotationData),n=JSON.stringify(e),o&&(e.highlights=o),n},o.prototype._onError=function(t){var n,o;switch(n=t._action,o=e._t("Sorry we could not ")+n+e._t(" this annotation"),"search"===t._action?o=e._t("Sorry we could not search the store for annotations"):"read"!==t._action||t._id||(o=e._t("Sorry we could not ")+n+e._t(" the annotations from the store")),t.status){case 401:o=e._t("Sorry you are not allowed to ")+n+e._t(" this annotation");break;case 404:o=e._t("Sorry we could not connect to the annotations store");break;case 500:o=e._t("Sorry something went wrong with the annotation store")}return e.showNotification(o,e.Notification.ERROR),console.error(e._t("API request failed:")+(" '"+t.status+"'"))},o}(e.Plugin),e.Plugin.Permissions=function(n){function o(t,e){this._setAuthFromToken=D(this._setAuthFromToken,this),this.updateViewer=D(this.updateViewer,this),this.updateAnnotationPermissions=D(this.updateAnnotationPermissions,this),this.updatePermissionsField=D(this.updatePermissionsField,this),this.addFieldsToAnnotation=D(this.addFieldsToAnnotation,this),o.__super__.constructor.apply(this,arguments),this.options.user&&(this.setUser(this.options.user),delete this.options.user)}return S(o,n),o.prototype.events={beforeAnnotationCreated:"addFieldsToAnnotation"},o.prototype.options={showViewPermissionsCheckbox:!0,showEditPermissionsCheckbox:!0,userId:function(t){return t},userString:function(t){return t},userAuthorize:function(t,e,n){var o,r,a,i;if(e.permissions){if(r=e.permissions[t]||[],0===r.length)return!0;for(a=0,i=r.length;a<i;a++)if(o=r[a],this.userId(n)===o)return!0;return!1}return!e.user||!!n&&this.userId(n)===this.userId(e.user)},user:"",permissions:{read:[],update:[],"delete":[],admin:[]}},o.prototype.pluginInit=function(){var t,n;if(e.supported())return n=this,t=function(t,e){return function(o,r){return n[t].call(n,e,o,r)}},!this.user&&this.annotator.plugins.Auth&&this.annotator.plugins.Auth.withToken(this._setAuthFromToken),this.options.showViewPermissionsCheckbox===!0&&this.annotator.editor.addField({type:"checkbox",label:e._t("Allow anyone to <strong>view</strong> this annotation"),load:t("updatePermissionsField","read"),submit:t("updateAnnotationPermissions","read")}),this.options.showEditPermissionsCheckbox===!0&&this.annotator.editor.addField({type:"checkbox",label:e._t("Allow anyone to <strong>edit</strong> this annotation"),load:t("updatePermissionsField","update"),submit:t("updateAnnotationPermissions","update")}),this.annotator.viewer.addField({load:this.updateViewer}),this.annotator.plugins.Filter?this.annotator.plugins.Filter.addFilter({label:e._t("User"),property:"user",isFiltered:function(t){return function(e,n){var o,r,a,i;if(n=t.options.userString(n),!e||!n)return!1;for(i=e.split(/\s*/),r=0,a=i.length;r<a;r++)if(o=i[r],n.indexOf(o)===-1)return!1;return!0}}(this)}):void 0},o.prototype.setUser=function(t){return this.user=t},o.prototype.addFieldsToAnnotation=function(t){if(t&&(t.permissions=this.options.permissions,this.user))return t.user=this.user},o.prototype.authorize=function(t,e,n){return void 0===n&&(n=this.user),!this.options.userAuthorize||this.options.userAuthorize.call(this.options,t,e,n)},o.prototype.updatePermissionsField=function(e,n,o){var r;return n=t(n).show(),r=n.find("input").removeAttr("disabled"),this.authorize("admin",o)||n.hide(),this.authorize(e,o||{},null)?r.attr("checked","checked"):r.removeAttr("checked")},o.prototype.updateAnnotationPermissions=function(e,n,o){var r;return o.permissions||(o.permissions=this.options.permissions),r=e+"-permissions",t(n).find("input").is(":checked")?o.permissions[e]=[]:o.permissions[e]=[this.options.userId(this.user)]},o.prototype.updateViewer=function(n,o,r){var a,i;if(n=t(n),i=this.options.userString(o.user),o.user&&i&&"string"==typeof i?(a=e.Util.escape(this.options.userString(o.user)),n.html(a).addClass("annotator-user")):n.remove(),
r&&(this.authorize("update",o)||r.hideEdit(),!this.authorize("delete",o)))return r.hideDelete()},o.prototype._setAuthFromToken=function(t){return this.setUser(t.userId)},o}(e.Plugin),e.Plugin.AnnotateItPermissions=function(e){function n(){return this._setAuthFromToken=D(this._setAuthFromToken,this),this.updateAnnotationPermissions=D(this.updateAnnotationPermissions,this),this.updatePermissionsField=D(this.updatePermissionsField,this),this.addFieldsToAnnotation=D(this.addFieldsToAnnotation,this),n.__super__.constructor.apply(this,arguments)}return S(n,e),n.prototype.options={showViewPermissionsCheckbox:!0,showEditPermissionsCheckbox:!0,groups:{world:"group:__world__",authenticated:"group:__authenticated__",consumer:"group:__consumer__"},userId:function(t){return t.userId},userString:function(t){return t.userId},userAuthorize:function(t,e,n){var o,r,a,i,s,l;return r=e.permissions||{},o=r[t]||[],a=this.groups.world,M.call(o,a)>=0||null!=n&&null!=n.userId&&null!=n.consumerKey&&(n.userId===e.user&&n.consumerKey===e.consumer||(i=this.groups.authenticated,M.call(o,i)>=0||(n.consumerKey===e.consumer&&(s=this.groups.consumer,M.call(o,s)>=0)||(n.consumerKey===e.consumer&&(l=n.userId,M.call(o,l)>=0)||!(n.consumerKey!==e.consumer||!n.admin)))))},permissions:{read:["group:__world__"],update:[],"delete":[],admin:[]}},n.prototype.addFieldsToAnnotation=function(t){if(t&&(t.permissions=this.options.permissions,this.user))return t.user=this.user.userId,t.consumer=this.user.consumerKey},n.prototype.updatePermissionsField=function(e,n,o){var r;return n=t(n).show(),r=n.find("input").removeAttr("disabled"),this.authorize("admin",o)||n.hide(),this.user&&this.authorize(e,o||{},{userId:"__nonexistentuser__",consumerKey:this.user.consumerKey})?r.attr("checked","checked"):r.removeAttr("checked")},n.prototype.updateAnnotationPermissions=function(e,n,o){var r;return o.permissions||(o.permissions=this.options.permissions),r=e+"-permissions",t(n).find("input").is(":checked")?o.permissions[e]=["read"===e?this.options.groups.world:this.options.groups.consumer]:o.permissions[e]=[]},n.prototype._setAuthFromToken=function(t){return this.setUser(t)},n}(e.Plugin.Permissions),e.Plugin.Filter=function(n){function o(e,n){this._onPreviousClick=D(this._onPreviousClick,this),this._onNextClick=D(this._onNextClick,this),this._onFilterKeyup=D(this._onFilterKeyup,this),this._onFilterBlur=D(this._onFilterBlur,this),this._onFilterFocus=D(this._onFilterFocus,this),this.updateHighlights=D(this.updateHighlights,this);var r;e=t(this.html.element).appendTo((null!=n?n.appendTo:void 0)||this.options.appendTo),o.__super__.constructor.call(this,e,n),(r=this.options).filters||(r.filters=[]),this.filter=t(this.html.filter),this.filters=[],this.current=0}return S(o,n),o.prototype.events={".annotator-filter-property input focus":"_onFilterFocus",".annotator-filter-property input blur":"_onFilterBlur",".annotator-filter-property input keyup":"_onFilterKeyup",".annotator-filter-previous click":"_onPreviousClick",".annotator-filter-next click":"_onNextClick",".annotator-filter-clear click":"_onClearClick"},o.prototype.classes={active:"annotator-filter-active",hl:{hide:"annotator-hl-filtered",active:"annotator-hl-active"}},o.prototype.html={element:'<div class="annotator-filter">\n  <strong>'+e._t("Navigate:")+'</strong>\n<span class="annotator-filter-navigation">\n  <button class="annotator-filter-previous">'+e._t("Previous")+'</button>\n<button class="annotator-filter-next">'+e._t("Next")+"</button>\n</span>\n<strong>"+e._t("Filter by:")+"</strong>\n</div>",filter:'<span class="annotator-filter-property">\n  <label></label>\n  <input/>\n  <button class="annotator-filter-clear">'+e._t("Clear")+"</button>\n</span>"},o.prototype.options={appendTo:"body",filters:[],addAnnotationFilter:!0,isFiltered:function(t,e){var n,o,r,a;if(!t||!e)return!1;for(a=t.split(/\s+/),o=0,r=a.length;o<r;o++)if(n=a[o],e.indexOf(n)===-1)return!1;return!0}},o.prototype.pluginInit=function(){var t,n,o,r;for(r=this.options.filters,n=0,o=r.length;n<o;n++)t=r[n],this.addFilter(t);if(this.updateHighlights(),this._setupListeners()._insertSpacer(),this.options.addAnnotationFilter===!0)return this.addFilter({label:e._t("Annotation"),property:"text"})},o.prototype.destroy=function(){var e,n;return o.__super__.destroy.apply(this,arguments),n=t("html"),e=parseInt(n.css("padding-top"),10)||0,n.css("padding-top",e-this.element.outerHeight()),this.element.remove()},o.prototype._insertSpacer=function(){var e,n;return n=t("html"),e=parseInt(n.css("padding-top"),10)||0,n.css("padding-top",e+this.element.outerHeight()),this},o.prototype._setupListeners=function(){var t,e,n,o;for(e=["annotationsLoaded","annotationCreated","annotationUpdated","annotationDeleted"],n=0,o=e.length;n<o;n++)t=e[n],this.annotator.subscribe(t,this.updateHighlights);return this},o.prototype.addFilter=function(n){var o,r;return r=t.extend({label:"",property:"",isFiltered:this.options.isFiltered},n),function(){var t,e,n,a;for(n=this.filters,a=[],t=0,e=n.length;t<e;t++)o=n[t],o.property===r.property&&a.push(o);return a}.call(this).length||(r.id="annotator-filter-"+r.property,r.annotations=[],r.element=this.filter.clone().appendTo(this.element),r.element.find("label").html(r.label).attr("for",r.id),r.element.find("input").attr({id:r.id,placeholder:e._t("Filter by ")+r.label+"…"}),r.element.find("button").hide(),r.element.data("filter",r),this.filters.push(r)),this},o.prototype.updateFilter=function(e){var n,o,r,a,i,s,l;if(e.annotations=[],this.updateHighlights(),this.resetHighlights(),r=t.trim(e.element.find("input").val())){for(o=this.highlights.map(function(){return t(this).data("annotation")}),l=t.makeArray(o),i=0,s=l.length;i<s;i++)n=l[i],a=n[e.property],e.isFiltered(r,a)&&e.annotations.push(n);return this.filterHighlights()}},o.prototype.updateHighlights=function(){return this.highlights=this.annotator.element.find(".annotator-hl:visible"),this.filtered=this.highlights.not(this.classes.hl.hide)},o.prototype.filterHighlights=function(){var e,n,o,r,a,i,s,l,c,u;for(e=t.grep(this.filters,function(t){return!!t.annotations.length}),r=(null!=(u=e[0])?u.annotations:void 0)||[],e.length>1&&(o=[],t.each(e,function(){return t.merge(o,this.annotations)}),s=[],r=[],t.each(o,function(){return t.inArray(this,s)===-1?s.push(this):r.push(this)})),a=this.highlights,i=l=0,c=r.length;l<c;i=++l)n=r[i],a=a.not(n.highlights);return a.addClass(this.classes.hl.hide),this.filtered=this.highlights.not(this.classes.hl.hide),this},o.prototype.resetHighlights=function(){return this.highlights.removeClass(this.classes.hl.hide),this.filtered=this.highlights,this},o.prototype._onFilterFocus=function(e){var n;return n=t(e.target),n.parent().addClass(this.classes.active),n.next("button").show()},o.prototype._onFilterBlur=function(e){var n;if(!e.target.value)return n=t(e.target),n.parent().removeClass(this.classes.active),n.next("button").hide()},o.prototype._onFilterKeyup=function(e){var n;if(n=t(e.target).parent().data("filter"))return this.updateFilter(n)},o.prototype._findNextHighlight=function(t){var e,n,o,r,a,i,s,l;return this.highlights.length?(i=t?0:-1,l=t?-1:0,s=t?"lt":"gt",e=this.highlights.not("."+this.classes.hl.hide),o=e.filter("."+this.classes.hl.active),o.length||(o=e.eq(i)),n=o.data("annotation"),r=e.index(o[0]),a=e.filter(":"+s+"("+r+")").not(n.highlights).eq(l),a.length||(a=e.eq(l)),this._scrollToHighlight(a.data("annotation").highlights)):this},o.prototype._onNextClick=function(t){return this._findNextHighlight()},o.prototype._onPreviousClick=function(t){return this._findNextHighlight(!0)},o.prototype._scrollToHighlight=function(e){return e=t(e),this.highlights.removeClass(this.classes.hl.active),e.addClass(this.classes.hl.active),t("html, body").animate({scrollTop:e.offset().top-(this.element.height()+20)},150)},o.prototype._onClearClick=function(e){return t(e.target).prev("input").val("").keyup().blur()},o}(e.Plugin),e.Plugin.Markdown=function(n){function o(t,n){this.updateTextField=D(this.updateTextField,this),null!=("undefined"!=typeof Showdown&&null!==Showdown?Showdown.converter:void 0)?(o.__super__.constructor.apply(this,arguments),this.converter=new Showdown.converter):console.error(e._t("To use the Markdown plugin, you must include Showdown into the page first."))}return S(o,n),o.prototype.events={annotationViewerTextField:"updateTextField"},o.prototype.updateTextField=function(n,o){var r;return r=e.Util.escape(o.text||""),t(n).html(this.convert(r))},o.prototype.convert=function(t){return this.converter.makeHtml(t)},o}(e.Plugin),e.Plugin.Tags=function(n){function o(){return this.setAnnotationTags=D(this.setAnnotationTags,this),this.updateField=D(this.updateField,this),o.__super__.constructor.apply(this,arguments)}return S(o,n),o.prototype.options={parseTags:function(e){var n;return e=t.trim(e),n=[],e&&(n=e.split(/\s+/)),n},stringifyTags:function(t){return t.join(" ")}},o.prototype.field=null,o.prototype.input=null,o.prototype.pluginInit=function(){if(e.supported())return this.field=this.annotator.editor.addField({label:e._t("Add some tags here")+"…",load:this.updateField,submit:this.setAnnotationTags}),this.annotator.viewer.addField({load:this.updateViewer}),this.annotator.plugins.Filter&&this.annotator.plugins.Filter.addFilter({label:e._t("Tag"),property:"tags",isFiltered:e.Plugin.Tags.filterCallback}),this.input=t(this.field).find(":input")},o.prototype.parseTags=function(t){return this.options.parseTags(t)},o.prototype.stringifyTags=function(t){return this.options.stringifyTags(t)},o.prototype.updateField=function(t,e){var n;return n="",e.tags&&(n=this.stringifyTags(e.tags)),this.input.val(n)},o.prototype.setAnnotationTags=function(t,e){return e.tags=this.parseTags(this.input.val())},o.prototype.updateViewer=function(n,o){return n=t(n),o.tags&&t.isArray(o.tags)&&o.tags.length?n.addClass("annotator-tags").html(function(){var n;return n=t.map(o.tags,function(t){return'<span class="annotator-tag">'+e.Util.escape(t)+"</span>"}).join(" ")}):n.remove()},o}(e.Plugin),e.Plugin.Tags.filterCallback=function(t,e){var n,o,r,a,i,s,l,c;if(null==e&&(e=[]),r=0,o=[],t)for(o=t.split(/\s+/g),i=0,l=o.length;i<l;i++)if(n=o[i],e.length)for(s=0,c=e.length;s<c;s++)a=e[s],a.indexOf(n)!==-1&&(r+=1);return r===o.length},e.prototype.setupPlugins=function(n,o){var r,a,i,s,l,c,u,p,d;null==n&&(n={}),null==o&&(o={}),c=e.Util.getGlobal(),s=["Unsupported","Auth","Tags","Filter","Store","AnnotateItPermissions"],c.Showdown&&s.push("Markdown"),l=c.location.href.split(/#|\?/).shift()||"",i={Tags:{},Filter:{filters:[{label:e._t("User"),property:"user"},{label:e._t("Tags"),property:"tags"}]},Auth:{tokenUrl:n.tokenUrl||"http://annotateit.org/api/token"},Store:{prefix:n.storeUrl||"http://annotateit.org/api",annotationData:{uri:l},loadFromSearch:{uri:l}}};for(r in o)P.call(o,r)&&(a=o[r],M.call(s,r)<0&&s.push(r));for(t.extend(!0,i,o),d=[],u=0,p=s.length;u<p;u++)r=s[u],r in i&&!i[r]?d.push(void 0):d.push(this.addPlugin(r,i[r]));return d}}).call(this);var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};Annotator.Plugin.AnnotatorEvents=function(t){function e(t,n){this.onAnnotationClicked=__bind(this.onAnnotationClicked,this),this.onAnnotationCreated=__bind(this.onAnnotationCreated,this),this.onAnnotationUpdated=__bind(this.onAnnotationUpdated,this),this.onAnnotationDeleted=__bind(this.onAnnotationDeleted,this),this.annotationsLoaded=__bind(this.annotationsLoaded,this),this.onMouseOverAnnotation=__bind(this.onMouseOverAnnotation,this),e.__super__.constructor.apply(this,arguments)}function n(t){var e="pdf"==contractApp.getView()?"pdf":"text",n=$(t.element),o=n.position(),r=$("."+e+"-annotator"),a=r.find("form.annotator-widget"),i=r.find("div.annotator-editor"),s=a.height()+25;r.width()/2<o.left?(n.addClass("annotator-invert-x"),i.addClass("annotator-invert-x")):(n.removeClass("annotator-invert-x"),i.removeClass("annotator-invert-x"));var l=o.top-r.scrollTop();l<s?(n.addClass("annotator-invert-y"),i.addClass("annotator-invert-y")):(n.removeClass("annotator-invert-y"),i.removeClass("annotator-invert-y"))}function o(t,e){var n=$(t.element),o="pdf"==contractApp.getView()?"pdf":"text",r=n.position(),a=$("."+o+"-annotator"),i=a.find("ul.annotator-widget"),s=i.height()+25;a.width()/2<r.left?(n.addClass("annotator-invert-x"),i.addClass("annotator-invert-x")):(n.removeClass("annotator-invert-x"),i.removeClass("annotator-invert-x"));var l=r.top-a.scrollTop();l<s?(n.addClass("annotator-invert-y"),i.addClass("annotator-invert-y")):(n.removeClass("annotator-invert-y"),i.removeClass("annotator-invert-y"))}return __extends(e,t),e.prototype.events={annotationCreated:"onAnnotationCreated",annotationDeleted:"onAnnotationDeleted",annotationUpdated:"onAnnotationUpdated",annotationsLoaded:"annotationsLoaded","annotorious:annotation-clicked":"onAnnotationClicked","annotorious:mouse-over-annotation":"onMouseOverAnnotation"},e.prototype.field=null,e.prototype.input=null,e.prototype.pluginInit=function(t){var e=this.annotator;Annotator.supported()&&(e.viewer.addField({load:this.updateViewer}),this.annotator.subscribe("annotationEditorShown",n).subscribe("annotationViewerShown",o))},e.prototype.options={AnnotatorEvents:{}},e.prototype.onAnnotationClicked=function(t){this.contractApp.trigger("annotations:highlight",t.annotation)},e.prototype.onAnnotationCreated=function(t){t.page=this.contractApp.getCurrentPage(),t.category=t.category.trim();var e=this;setTimeout(function(n){e.contractApp.trigger("annotationCreated",t)},500)},e.prototype.onAnnotationUpdated=function(t){this.contractApp.trigger("annotationUpdated",t)},e.prototype.onAnnotationDeleted=function(t){this.contractApp.trigger("annotationDeleted",t)},e.prototype.onMouseOverAnnotation=function(t){o(t.mouseEvent)},e.prototype.annotationsLoaded=function(t){var e=contractApp.getSelectedAnnotation(),n=window.location.hash;0===e&&""!=n&&"undefined"!=typeof n.split("annotation/")[1]&&(e=n.split("annotation/")[1]),"pdf"==contractApp.getView()&&setTimeout(function(){contractApp.showPdfAnnotationPopup(e)},600),"text"==contractApp.getView()&&contractApp.showTextAnnotationPopup(e)},e}(Annotator.Plugin),Annotator.Plugin.AnnotatorNRGIViewer=function(t){function e(t,n){e.__super__.constructor.apply(this,arguments)}function n(t){var e="",n=t.text;if("undefined"==typeof n)return!1;""!=n&&(e=n.split(" ").splice(0,10).join(" "),e=nl2br(e),n.split(" ").length>10&&(e+=" ..."));var o="";"undefined"!=typeof t.article_reference&&""!=t.article_reference&&(o=" - "+t.article_reference);var r="",a="text";return t.shapes&&(a="pdf"),r=' <a class="annotation-viewer-more" href="#/'+a+"/page/"+t.page_no+"/annotation/"+t.id+'">>></a>','<div class="annotation-viewer-text">'+e+o+r+"</div>"}function o(t){return""}function r(t){return'<div class="annotation-viewer-category">'+t.category+"</div>"}function a(t){var e="",n=annotationsCollection.relatedAnnotations(t);if(n.length>0){var o=[];n.sort(function(t,e){return t.get("page_no")-e.get("page_no")});var r=_.groupBy(n,function(t){return t.get("page_no")});r=_.toArray(r),r.map(function(t,e){var n=t[0],r=!1;e<length-1&&(r=!0);var a=[];t.map(function(t,e){var n="",o="";t.get("shapes")?(o="pdf",n="#/"+o+"/page/"+t.get("page_no")+"/annotation/"+t.get("id")):(o="text",n="#/"+o+"/page/"+t.get("page_no")+"/annotation/"+t.get("id"));var r=""!=t.get("article_reference")?t.get("article_reference"):t.get("page_no");a.push('<a style="margin: 0px 3px" data-view="'+o+'" data-annotation="'+t.get("id")+'" class="parent_annotation_link" href="'+n+'">'+r+"</a>")});var i=n.get("page_no");i+=" ("+a.join(", ")+")",o.push(i)}),e+='<p style="padding: 5px 0px">',e+=r.length>1?"Pages: ":"Page: ",e+=o.join(", "),e+="</p>"}return e}return __extends(e,t),e.prototype.field=null,e.prototype.input=null,e.prototype.pluginInit=function(t){var e=this.annotator;Annotator.supported()&&e.viewer.addField({load:this.updateViewer})},e.prototype.updateViewer=function(t,e){var i=$(t.parentNode).find("div:first-of-type")[0],s=n(e);s+=o(e),s+=r(e),s+=a(e),$(i).html(s),$(t).remove(),$(i).on("click","a.annotation-viewer-more",function(t){t.preventDefault(),contractApp.trigger("annotations:highlight",e)}),$(".annotation-viewer-category").html(_lc(e.category_key,e.category)),$(document).on("click",".parent_annotation_link",function(){var t=$(this);"text"==t.data("view")&&setTimeout(function(){contractApp.showTextAnnotationPopup(t.data("annotation")),contractApp.trigger("annotations:highlight",{id:t.data("annotation")})},300),"pdf"==t.data("view")&&setTimeout(function(){contractApp.showPdfAnnotationPopup(t.data("annotation")),contractApp.trigger("annotations:highlight",{id:t.data("annotation")})},300)})},e}(Annotator.Plugin),Annotator.Plugin.PdfAnnotator=function(t){function e(t,n){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.events={},e.prototype.field=null,e.prototype.notification=null,e.prototype.pluginInit=function(t){var e=this.annotator;if(Annotator.supported()){var n=e.element,o=this;e.subscribe("annotationsLoaded",function(t){$(".annotator-pdf-hl").remove(),t.map(function(t){return void 0===t.shapes?"":void o.annotationLoader(t)})}),n.on("mouseover","div",function(){var t=$(this).data("annotator");if(t){var n={};n.top=parseInt($(this).css("top"))+parseInt($(this).height()),n.left=parseInt($(this).css("left"))+parseInt($(this).width()/2),e.showViewer([t],n)}})}},e.prototype.annotationLoader=function(t){var e=t.shapes[0].geometry;e=this.getShape(e);$("<div></div>").appendTo(this.annotator.element.find(".annotator-wrapper")).data("annotator",t).addClass("annotator-hl").addClass("annotator-pdf-hl").css({position:"absolute",left:e.x,top:e.y,height:e.height,width:e.width})},e.prototype.options={PdfAnnotator:{}},e.prototype.getShape=function(t){var e=this.annotator.element.find("canvas"),n={};return n.x=t.x*e.width(),n.y=t.y*e.height(),n.height=t.height*e.height(),n.width=t.width*e.width(),n},e}(Annotator.Plugin);var AnnotatorjsView=Backbone.View.extend({initialize:function(t){var e=this;return this.options=t,this.api=t.api,this.content=$(this.options.el).annotator({readOnly:!0}),this.content.data("annotator").setupAnnotation=function(t){if(void 0!==t.ranges||$.isEmptyObject(t))return e.content.data("annotator").__proto__.setupAnnotation.call(e.content.data("annotator"),t)},this.contractApp=t.contractApp,this.content.annotator("addPlugin","AnnotatorEvents"),this.content.annotator("addPlugin","AnnotatorNRGIViewer"),this.content.data("annotator").plugins.AnnotatorEvents.contractApp=t.contractApp,this.content.data("annotator").plugins.AnnotatorNRGIViewer.contractApp=t.contractApp,this.setupStore(),this},changePage:function(){var t=this.contractApp.getCurrentPage(),e=this.contractApp.getContractId(),n=this.content.data("annotator").plugins.Store;n.options.annotationData={url:this.api,contract:e,page:t,document_page_no:t}},populateCategories:function(){this.content.annotator("addPlugin","Categories",{category:this.annotationCategories.pluck("name")})},setupStore:function(){var t=this,e=this.contractApp.getCurrentPage(),n=this.contractApp.getContractId();return this.content.annotator("addPlugin","Store",{prefix:t.api,loadFromSearch:{url:t.api,contract:n,page:e,document_page_no:e},annotationData:{url:t.api,contract:n,page:e,document_page_no:e}}),this},reload:function(){var t=this,e=this.contractApp.getCurrentPage(),n=this.contractApp.getContractId(),o=this.content.data("annotator").plugins.Store;o.annotations&&(o.annotations=[]),o.options.loadFromSearch={url:t.api,contract:n,page:e,document_page_no:e},o.options.annotationData={url:t.api,contract:n,page:e,document_page_no:e},o.loadAnnotationsFromSearch(o.options.loadFromSearch)}}),PdfAnnotatorjsView=AnnotatorjsView.extend({initialize:function(t){AnnotatorjsView.prototype.initialize(t),_.extend(this,AnnotatorjsView),t.enablePdfAnnotation&&this.content.annotator("addPlugin","PdfAnnotator")},pageUpdated:function(){var t=this,e=this.contractApp.getCurrentPage(),n=this.contractApp.getContractId();if(this.content.data("annotator").plugins.Store){var o=this.content.data("annotator").plugins.Store;o.annotations&&(o.annotations=[]),o.options.loadFromSearch={url:t.api,contract:n,page:e,document_page_no:e},o.options.annotationData={url:t.api,contract:n,page:e,document_page_no:e},o.loadAnnotationsFromSearch(o.options.loadFromSearch)}else this.setupStore()}});!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.React=t()}}(function(){return function t(e,n,o){function r(i,s){if(!n[i]){if(!e[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return r(n?n:t)},u,u.exports,t,e,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(t,e,n){"use strict";var o=t(25),r=t(31),a=t(42),i=t(34),s=t(69),l=t(98),c=t(100),u=t(127),p=t(122),d=t(170);r.addons={CSSTransitionGroup:i,LinkedStateMixin:o,PureRenderMixin:a,TransitionGroup:l,batchedUpdates:c.batchedUpdates,classSet:u,cloneWithProps:p,createFragment:s.create,update:d},r.addons.Perf=t(61),r.addons.TestUtils=t(95),e.exports=r},{100:100,122:122,127:127,170:170,25:25,31:31,34:34,42:42,61:61,69:69,95:95,98:98}],2:[function(t,e,n){"use strict";var o=t(134),r={componentDidMount:function(){this.props.autoFocus&&o(this.getDOMNode())}};e.exports=r},{134:134}],3:[function(t,e,n){"use strict";function o(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function a(t){switch(t){case N.topCompositionStart:return P.compositionStart;case N.topCompositionEnd:return P.compositionEnd;case N.topCompositionUpdate:return P.compositionUpdate}}function i(t,e){return t===N.topKeyDown&&e.keyCode===_}function s(t,e){switch(t){case N.topKeyUp:return C.indexOf(e.keyCode)!==-1;case N.topKeyDown:return e.keyCode!==_;case N.topKeyPress:case N.topMouseDown:case N.topBlur:return!0;default:return!1}}function l(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function c(t,e,n,o){var r,c;if(E?r=a(t):D?s(t,o)&&(r=P.compositionEnd):i(t,o)&&(r=P.compositionStart),!r)return null;x&&(D||r!==P.compositionStart?r===P.compositionEnd&&D&&(c=D.getData()):D=g.getPooled(e));var u=v.getPooled(r,n,o);if(c)u.data=c;else{var p=l(o);null!==p&&(u.data=p)}return f.accumulateTwoPhaseDispatches(u),u}function u(t,e){switch(t){case N.topCompositionEnd:return l(e);case N.topKeyPress:var n=e.which;return n!==A?null:(S=!0,T);case N.topTextInput:var o=e.data;return o===T&&S?null:o;default:return null}}function p(t,e){if(D){if(t===N.topCompositionEnd||s(t,e)){var n=D.getData();return g.release(D),D=null,n}return null}switch(t){case N.topPaste:return null;case N.topKeyPress:return e.which&&!r(e)?String.fromCharCode(e.which):null;case N.topCompositionEnd:return x?null:e.data;default:return null}}function d(t,e,n,o){var r;if(r=R?u(t,o):p(t,o),!r)return null;var a=y.getPooled(P.beforeInput,n,o);return a.data=r,f.accumulateTwoPhaseDispatches(a),a}var h=t(16),f=t(21),m=t(22),g=t(23),v=t(106),y=t(110),w=t(157),C=[9,13,27,32],_=229,E=m.canUseDOM&&"CompositionEvent"in window,b=null;m.canUseDOM&&"documentMode"in document&&(b=document.documentMode);var R=m.canUseDOM&&"TextEvent"in window&&!b&&!o(),x=m.canUseDOM&&(!E||b&&b>8&&b<=11),A=32,T=String.fromCharCode(A),N=h.topLevelTypes,P={beforeInput:{phasedRegistrationNames:{bubbled:w({onBeforeInput:null}),captured:w({onBeforeInputCapture:null})},dependencies:[N.topCompositionEnd,N.topKeyPress,N.topTextInput,N.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:w({onCompositionEnd:null}),captured:w({onCompositionEndCapture:null})},dependencies:[N.topBlur,N.topCompositionEnd,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:w({onCompositionStart:null}),captured:w({onCompositionStartCapture:null})},dependencies:[N.topBlur,N.topCompositionStart,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:w({onCompositionUpdate:null}),captured:w({onCompositionUpdateCapture:null})},dependencies:[N.topBlur,N.topCompositionUpdate,N.topKeyDown,N.topKeyPress,N.topKeyUp,N.topMouseDown]}},S=!1,D=null,M={eventTypes:P,extractEvents:function(t,e,n,o){return[c(t,e,n,o),d(t,e,n,o)]}};e.exports=M},{106:106,110:110,157:157,16:16,21:21,22:22,23:23}],4:[function(t,e,n){var o=t(150),r={addClass:function(t,e){return o(!/\s/.test(e),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',e),e&&(t.classList?t.classList.add(e):r.hasClass(t,e)||(t.className=t.className+" "+e)),t},removeClass:function(t,e){return o(!/\s/.test(e),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',e),e&&(t.classList?t.classList.remove(e):r.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),t},conditionClass:function(t,e,n){return(n?r.addClass:r.removeClass)(t,e)},hasClass:function(t,e){return o(!/\s/.test(e),"CSS.hasClass takes only a single class name."),t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}};e.exports=r},{150:150}],5:[function(t,e,n){"use strict";function o(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){a.forEach(function(e){r[o(e,t)]=r[t]})});var i={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:r,shorthandPropertyExpansions:i};e.exports=s},{}],6:[function(t,e,n){"use strict";var o=t(5),r=t(22),a=t(121),i=t(128),s=t(148),l=t(159),c=t(171),u=l(function(t){return s(t)}),p="cssFloat";r.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(p="styleFloat");var d=/^(?:webkit|moz|o)[A-Z]/,h=/;\s*$/,f={},m={},g=function(t){f.hasOwnProperty(t)&&f[t]||(f[t]=!0,c(!1,"Unsupported style property %s. Did you mean %s?",t,a(t)))},v=function(t){f.hasOwnProperty(t)&&f[t]||(f[t]=!0,c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",t,t.charAt(0).toUpperCase()+t.slice(1)))},y=function(t,e){m.hasOwnProperty(e)&&m[e]||(m[e]=!0,c(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',t,e.replace(h,"")))},w=function(t,e){t.indexOf("-")>-1?g(t):d.test(t)?v(t):h.test(e)&&y(t,e)},C={createMarkupForStyles:function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];w(n,o),null!=o&&(e+=u(n)+":",e+=i(n,o)+";")}return e||null},setValueForStyles:function(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){w(r,e[r]);var a=i(r,e[r]);if("float"===r&&(r=p),a)n[r]=a;else{var s=o.shorthandPropertyExpansions[r];if(s)for(var l in s)n[l]="";else n[r]=""}}}};e.exports=C},{121:121,128:128,148:148,159:159,171:171,22:22,5:5}],7:[function(t,e,n){"use strict";function o(){this._callbacks=null,this._contexts=null}var r=t(30),a=t(29),i=t(150);a(o.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){i(t.length===e.length,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var n=0,o=t.length;n<o;n++)t[n].call(e[n]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(o),e.exports=o},{150:150,29:29,30:30}],8:[function(t,e,n){"use strict";function o(t){return"SELECT"===t.nodeName||"INPUT"===t.nodeName&&"file"===t.type}function r(t){var e=b.getPooled(N.change,S,t);C.accumulateTwoPhaseDispatches(e),E.batchedUpdates(a,e)}function a(t){w.enqueueEvents(t),w.processEventQueue()}function i(t,e){P=t,S=e,P.attachEvent("onchange",r)}function s(){P&&(P.detachEvent("onchange",r),P=null,S=null)}function l(t,e,n){if(t===T.topChange)return n}function c(t,e,n){t===T.topFocus?(s(),i(e,n)):t===T.topBlur&&s()}function u(t,e){P=t,S=e,D=t.value,M=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(P,"value",O),P.attachEvent("onpropertychange",d)}function p(){P&&(delete P.value,P.detachEvent("onpropertychange",d),P=null,S=null,D=null,M=null)}function d(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==D&&(D=e,r(t))}}function h(t,e,n){if(t===T.topInput)return n}function f(t,e,n){t===T.topFocus?(p(),u(e,n)):t===T.topBlur&&p()}function m(t,e,n){if((t===T.topSelectionChange||t===T.topKeyUp||t===T.topKeyDown)&&P&&P.value!==D)return D=P.value,S}function g(t){return"INPUT"===t.nodeName&&("checkbox"===t.type||"radio"===t.type)}function v(t,e,n){if(t===T.topClick)return n}var y=t(16),w=t(18),C=t(21),_=t(22),E=t(100),b=t(108),R=t(151),x=t(153),A=t(157),T=y.topLevelTypes,N={change:{phasedRegistrationNames:{bubbled:A({onChange:null}),captured:A({onChangeCapture:null})},dependencies:[T.topBlur,T.topChange,T.topClick,T.topFocus,T.topInput,T.topKeyDown,T.topKeyUp,T.topSelectionChange]}},P=null,S=null,D=null,M=null,k=!1;_.canUseDOM&&(k=R("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;_.canUseDOM&&(I=R("input")&&(!("documentMode"in document)||document.documentMode>9));var O={get:function(){return M.get.call(this)},set:function(t){D=""+t,M.set.call(this,t)}},L={eventTypes:N,extractEvents:function(t,e,n,r){var a,i;if(o(e)?k?a=l:i=c:x(e)?I?a=h:(a=m,i=f):g(e)&&(a=v),a){var s=a(t,e,n);if(s){var u=b.getPooled(N.change,s,r);return C.accumulateTwoPhaseDispatches(u),u}}i&&i(t,e,n)}};e.exports=L},{100:100,108:108,151:151,153:153,157:157,16:16,18:18,21:21,22:22}],9:[function(t,e,n){"use strict";var o=0,r={createReactRootIndex:function(){return o++}};e.exports=r},{}],10:[function(t,e,n){"use strict";function o(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}var r=t(13),a=t(79),i=t(165),s=t(150),l={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:i,processUpdates:function(t,e){for(var n,l=null,c=null,u=0;u<t.length;u++)if(n=t[u],n.type===a.MOVE_EXISTING||n.type===a.REMOVE_NODE){var p=n.fromIndex,d=n.parentNode.childNodes[p],h=n.parentID;s(d,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",p,h),l=l||{},l[h]=l[h]||[],l[h][p]=d,c=c||[],c.push(d)}var f=r.dangerouslyRenderMarkup(e);if(c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);
for(var g=0;g<t.length;g++)switch(n=t[g],n.type){case a.INSERT_MARKUP:o(n.parentNode,f[n.markupIndex],n.toIndex);break;case a.MOVE_EXISTING:o(n.parentNode,l[n.parentID][n.fromIndex],n.toIndex);break;case a.TEXT_CONTENT:i(n.parentNode,n.textContent);break;case a.REMOVE_NODE:}}};e.exports=l},{13:13,150:150,165:165,79:79}],11:[function(t,e,n){"use strict";function o(t,e){return(t&e)===e}var r=t(150),a={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=t.Properties||{},n=t.DOMAttributeNames||{},i=t.DOMPropertyNames||{},l=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var c in e){r(!s.isStandardName.hasOwnProperty(c),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",c),s.isStandardName[c]=!0;var u=c.toLowerCase();if(s.getPossibleStandardName[u]=c,n.hasOwnProperty(c)){var p=n[c];s.getPossibleStandardName[p]=c,s.getAttributeName[c]=p}else s.getAttributeName[c]=u;s.getPropertyName[c]=i.hasOwnProperty(c)?i[c]:c,l.hasOwnProperty(c)?s.getMutationMethod[c]=l[c]:s.getMutationMethod[c]=null;var d=e[c];s.mustUseAttribute[c]=o(d,a.MUST_USE_ATTRIBUTE),s.mustUseProperty[c]=o(d,a.MUST_USE_PROPERTY),s.hasSideEffects[c]=o(d,a.HAS_SIDE_EFFECTS),s.hasBooleanValue[c]=o(d,a.HAS_BOOLEAN_VALUE),s.hasNumericValue[c]=o(d,a.HAS_NUMERIC_VALUE),s.hasPositiveNumericValue[c]=o(d,a.HAS_POSITIVE_NUMERIC_VALUE),s.hasOverloadedBooleanValue[c]=o(d,a.HAS_OVERLOADED_BOOLEAN_VALUE),r(!s.mustUseAttribute[c]||!s.mustUseProperty[c],"DOMProperty: Cannot require using both attribute and property: %s",c),r(s.mustUseProperty[c]||!s.hasSideEffects[c],"DOMProperty: Properties that have side effects must use property: %s",c),r(!!s.hasBooleanValue[c]+!!s.hasNumericValue[c]+!!s.hasOverloadedBooleanValue[c]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",c)}}},i={},s={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,o=i[t];return o||(i[t]=o={}),e in o||(n=document.createElement(t),o[e]=n[e]),o[e]},injection:a};e.exports=s},{150:150}],12:[function(t,e,n){"use strict";function o(t,e){return null==e||r.hasBooleanValue[t]&&!e||r.hasNumericValue[t]&&isNaN(e)||r.hasPositiveNumericValue[t]&&e<1||r.hasOverloadedBooleanValue[t]&&e===!1}var r=t(11),a=t(163),i=t(171),s={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},l={},c=function(t){if(!(s.hasOwnProperty(t)&&s[t]||l.hasOwnProperty(t)&&l[t])){l[t]=!0;var e=t.toLowerCase(),n=r.isCustomAttribute(e)?e:r.getPossibleStandardName.hasOwnProperty(e)?r.getPossibleStandardName[e]:null;i(null==n,"Unknown DOM property %s. Did you mean %s?",t,n)}},u={createMarkupForID:function(t){return r.ID_ATTRIBUTE_NAME+"="+a(t)},createMarkupForProperty:function(t,e){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){if(o(t,e))return"";var n=r.getAttributeName[t];return r.hasBooleanValue[t]||r.hasOverloadedBooleanValue[t]&&e===!0?n:n+"="+a(e)}return r.isCustomAttribute(t)?null==e?"":t+"="+a(e):(c(t),null)},setValueForProperty:function(t,e,n){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){var a=r.getMutationMethod[e];if(a)a(t,n);else if(o(e,n))this.deleteValueForProperty(t,e);else if(r.mustUseAttribute[e])t.setAttribute(r.getAttributeName[e],""+n);else{var i=r.getPropertyName[e];r.hasSideEffects[e]&&""+t[i]==""+n||(t[i]=n)}}else r.isCustomAttribute(e)?null==n?t.removeAttribute(e):t.setAttribute(e,""+n):c(e)},deleteValueForProperty:function(t,e){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){var n=r.getMutationMethod[e];if(n)n(t,void 0);else if(r.mustUseAttribute[e])t.removeAttribute(r.getAttributeName[e]);else{var o=r.getPropertyName[e],a=r.getDefaultValueForProperty(t.nodeName,o);r.hasSideEffects[e]&&""+t[o]===a||(t[o]=a)}}else r.isCustomAttribute(e)?t.removeAttribute(e):c(e)}};e.exports=u},{11:11,163:163,171:171}],13:[function(t,e,n){"use strict";function o(t){return t.substring(1,t.indexOf(" "))}var r=t(22),a=t(126),i=t(129),s=t(142),l=t(150),c=/^(<[^ \/>]+)/,u="data-danger-index",p={dangerouslyRenderMarkup:function(t){l(r.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering.");for(var e,n={},p=0;p<t.length;p++)l(t[p],"dangerouslyRenderMarkup(...): Missing markup."),e=o(t[p]),e=s(e)?e:"*",n[e]=n[e]||[],n[e][p]=t[p];var d=[],h=0;for(e in n)if(n.hasOwnProperty(e)){var f,m=n[e];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(c,"$1 "+u+'="'+f+'" ')}for(var v=a(m.join(""),i),y=0;y<v.length;++y){var w=v[y];w.hasAttribute&&w.hasAttribute(u)?(f=+w.getAttribute(u),w.removeAttribute(u),l(!d.hasOwnProperty(f),"Danger: Assigning to an already-occupied result index."),d[f]=w,h+=1):console.error("Danger: Discarding unexpected node:",w)}}return l(h===d.length,"Danger: Did not assign to every index of resultList."),l(d.length===t.length,"Danger: Expected markup to render %s nodes, but rendered %s.",t.length,d.length),d},dangerouslyReplaceNodeWithMarkup:function(t,e){l(r.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."),l(e,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),l("html"!==t.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString().");var n=a(e,i)[0];t.parentNode.replaceChild(n,t)}};e.exports=p},{126:126,129:129,142:142,150:150,22:22}],14:[function(t,e,n){"use strict";var o=t(157),r=[o({ResponderEventPlugin:null}),o({SimpleEventPlugin:null}),o({TapEventPlugin:null}),o({EnterLeaveEventPlugin:null}),o({ChangeEventPlugin:null}),o({SelectEventPlugin:null}),o({BeforeInputEventPlugin:null}),o({AnalyticsEventPlugin:null}),o({MobileSafariClickEventPlugin:null})];e.exports=r},{157:157}],15:[function(t,e,n){"use strict";var o=t(16),r=t(21),a=t(112),i=t(77),s=t(157),l=o.topLevelTypes,c=i.getFirstReactDOM,u={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},p=[null,null],d={eventTypes:u,extractEvents:function(t,e,n,o){if(t===l.topMouseOver&&(o.relatedTarget||o.fromElement))return null;if(t!==l.topMouseOut&&t!==l.topMouseOver)return null;var s;if(e.window===e)s=e;else{var d=e.ownerDocument;s=d?d.defaultView||d.parentWindow:window}var h,f;if(t===l.topMouseOut?(h=e,f=c(o.relatedTarget||o.toElement)||s):(h=s,f=e),h===f)return null;var m=h?i.getID(h):"",g=f?i.getID(f):"",v=a.getPooled(u.mouseLeave,m,o);v.type="mouseleave",v.target=h,v.relatedTarget=f;var y=a.getPooled(u.mouseEnter,g,o);return y.type="mouseenter",y.target=f,y.relatedTarget=h,r.accumulateEnterLeaveDispatches(v,y,m,g),p[0]=v,p[1]=y,p}};e.exports=d},{112:112,157:157,16:16,21:21,77:77}],16:[function(t,e,n){"use strict";var o=t(156),r=o({bubbled:null,captured:null}),a=o({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),i={topLevelTypes:a,PropagationPhases:r};e.exports=i},{156:156}],17:[function(t,e,n){var o=t(129),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:o})},registerDefault:function(){}};e.exports=r},{129:129}],18:[function(t,e,n){"use strict";function o(){var t=d&&d.traverseTwoPhase&&d.traverseEnterLeave;l(t,"InstanceHandle not injected before use!")}var r=t(19),a=t(20),i=t(118),s=t(135),l=t(150),c={},u=null,p=function(t){if(t){var e=a.executeDispatch,n=r.getPluginModuleForEvent(t);n&&n.executeDispatch&&(e=n.executeDispatch),a.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t)}},d=null,h={injection:{injectMount:a.injection.injectMount,injectInstanceHandle:function(t){d=t,o()},getInstanceHandle:function(){return o(),d},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(t,e,n){l(!n||"function"==typeof n,"Expected %s listener to be a function, instead got type %s",e,typeof n);var o=c[e]||(c[e]={});o[t]=n},getListener:function(t,e){var n=c[e];return n&&n[t]},deleteListener:function(t,e){var n=c[e];n&&delete n[t]},deleteAllListeners:function(t){for(var e in c)delete c[e][t]},extractEvents:function(t,e,n,o){for(var a,s=r.plugins,l=0,c=s.length;l<c;l++){var u=s[l];if(u){var p=u.extractEvents(t,e,n,o);p&&(a=i(a,p))}}return a},enqueueEvents:function(t){t&&(u=i(u,t))},processEventQueue:function(){var t=u;u=null,s(t,p),l(!u,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.")},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=h},{118:118,135:135,150:150,19:19,20:20}],19:[function(t,e,n){"use strict";function o(){if(s)for(var t in l){var e=l[t],n=s.indexOf(t);if(i(n>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",t),!c.plugins[n]){i(e.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",t),c.plugins[n]=e;var o=e.eventTypes;for(var a in o)i(r(o[a],e,a),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",a,t)}}}function r(t,e,n){i(!c.eventNameDispatchConfigs.hasOwnProperty(n),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),c.eventNameDispatchConfigs[n]=t;var o=t.phasedRegistrationNames;if(o){for(var r in o)if(o.hasOwnProperty(r)){var s=o[r];a(s,e,n)}return!0}return!!t.registrationName&&(a(t.registrationName,e,n),!0)}function a(t,e,n){i(!c.registrationNameModules[t],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",t),c.registrationNameModules[t]=e,c.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var i=t(150),s=null,l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){i(!s,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),s=Array.prototype.slice.call(t),o()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];l.hasOwnProperty(n)&&l[n]===r||(i(!l[n],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n),l[n]=r,e=!0)}e&&o()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return c.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var o=c.registrationNameModules[e.phasedRegistrationNames[n]];if(o)return o}return null},_resetEventPlugins:function(){s=null;for(var t in l)l.hasOwnProperty(t)&&delete l[t];c.plugins.length=0;var e=c.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var o=c.registrationNameModules;for(var r in o)o.hasOwnProperty(r)&&delete o[r]}};e.exports=c},{150:150}],20:[function(t,e,n){"use strict";function o(t){return t===v.topMouseUp||t===v.topTouchEnd||t===v.topTouchCancel}function r(t){return t===v.topMouseMove||t===v.topTouchMove}function a(t){return t===v.topMouseDown||t===v.topTouchStart}function i(t,e){var n=t._dispatchListeners,o=t._dispatchIDs;if(h(t),Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)e(t,n[r],o[r]);else n&&e(t,n,o)}function s(t,e,n){t.currentTarget=g.Mount.getNode(n);var o=e(t,n);return t.currentTarget=null,o}function l(t,e){i(t,e),t._dispatchListeners=null,t._dispatchIDs=null}function c(t){var e=t._dispatchListeners,n=t._dispatchIDs;if(h(t),Array.isArray(e)){for(var o=0;o<e.length&&!t.isPropagationStopped();o++)if(e[o](t,n[o]))return n[o]}else if(e&&e(t,n))return n;return null}function u(t){var e=c(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function p(t){h(t);var e=t._dispatchListeners,n=t._dispatchIDs;m(!Array.isArray(e),"executeDirectDispatch(...): Invalid `event`.");var o=e?e(t,n):null;return t._dispatchListeners=null,t._dispatchIDs=null,o}function d(t){return!!t._dispatchListeners}var h,f=t(16),m=t(150),g={Mount:null,injectMount:function(t){g.Mount=t,m(t&&t.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode.")}},v=f.topLevelTypes;h=function(t){var e=t._dispatchListeners,n=t._dispatchIDs,o=Array.isArray(e),r=Array.isArray(n),a=r?n.length:n?1:0,i=o?e.length:e?1:0;m(r===o&&a===i,"EventPluginUtils: Invalid `event`.")};var y={isEndish:o,isMoveish:r,isStartish:a,executeDirectDispatch:p,executeDispatch:s,executeDispatchesInOrder:l,executeDispatchesInOrderStopAtTrue:u,hasDispatches:d,injection:g,useTouchEvents:!1};e.exports=y},{150:150,16:16}],21:[function(t,e,n){"use strict";function o(t,e,n){var o=e.dispatchConfig.phasedRegistrationNames[n];return g(t,o)}function r(t,e,n){if(!t)throw new Error("Dispatching id must not be null");var r=e?m.bubbled:m.captured,a=o(t,n,r);a&&(n._dispatchListeners=h(n._dispatchListeners,a),n._dispatchIDs=h(n._dispatchIDs,t))}function a(t){t&&t.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,r,t)}function i(t,e,n){if(n&&n.dispatchConfig.registrationName){var o=n.dispatchConfig.registrationName,r=g(t,o);r&&(n._dispatchListeners=h(n._dispatchListeners,r),n._dispatchIDs=h(n._dispatchIDs,t))}}function s(t){t&&t.dispatchConfig.registrationName&&i(t.dispatchMarker,null,t)}function l(t){f(t,a)}function c(t,e,n,o){d.injection.getInstanceHandle().traverseEnterLeave(n,o,i,t,e)}function u(t){f(t,s)}var p=t(16),d=t(18),h=t(118),f=t(135),m=p.PropagationPhases,g=d.getListener,v={accumulateTwoPhaseDispatches:l,accumulateDirectDispatches:u,accumulateEnterLeaveDispatches:c};e.exports=v},{118:118,135:135,16:16,18:18}],22:[function(t,e,n){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o};e.exports=r},{}],23:[function(t,e,n){"use strict";function o(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var r=t(30),a=t(29),i=t(145);a(o.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,o=n.length,r=this.getText(),a=r.length;for(t=0;t<o&&n[t]===r[t];t++);var i=o-t;for(e=1;e<=i&&n[o-e]===r[a-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=r.slice(t,s),this._fallbackText}}),r.addPoolingTo(o),e.exports=o},{145:145,29:29,30:30}],24:[function(t,e,n){"use strict";var o,r=t(11),a=t(22),i=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,l=r.injection.HAS_BOOLEAN_VALUE,c=r.injection.HAS_SIDE_EFFECTS,u=r.injection.HAS_NUMERIC_VALUE,p=r.injection.HAS_POSITIVE_NUMERIC_VALUE,d=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(a.canUseDOM){var h=document.implementation;o=h&&h.hasFeature&&h.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:i|l,allowTransparency:i,alt:null,async:l,autoComplete:null,autoPlay:l,cellPadding:null,cellSpacing:null,charSet:i,checked:s|l,classID:i,className:o?i:s,cols:i|p,colSpan:null,content:null,contentEditable:null,contextMenu:i,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:i,defer:l,dir:null,disabled:i|l,download:d,draggable:null,encType:null,form:i,formAction:i,formEncType:i,formMethod:i,formNoValidate:l,formTarget:i,frameBorder:i,headers:null,height:i,hidden:i|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:i,loop:s|l,low:null,manifest:i,marginHeight:null,marginWidth:null,max:null,maxLength:i,media:i,mediaGroup:null,method:null,min:null,multiple:s|l,muted:s|l,name:null,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,role:i,rows:i|p,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:i|l,selected:s|l,shape:null,size:i|p,sizes:i,span:p,spellCheck:null,src:null,srcDoc:s,srcSet:i,start:u,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:i,wmode:i,autoCapitalize:null,autoCorrect:null,itemProp:i,itemScope:i|l,itemType:i,itemID:i,itemRef:i,property:null,unselectable:i},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=f},{11:11,22:22}],25:[function(t,e,n){"use strict";var o=t(75),r=t(94),a={linkState:function(t){return new o(this.state[t],r.createStateKeySetter(this,t))}};e.exports=a},{75:75,94:94}],26:[function(t,e,n){"use strict";function o(t){c(null==t.props.checkedLink||null==t.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function r(t){o(t),c(null==t.props.value&&null==t.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function a(t){o(t),c(null==t.props.checked&&null==t.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function i(t){this.props.valueLink.requestChange(t.target.value)}function s(t){this.props.checkedLink.requestChange(t.target.checked)}var l=t(86),c=t(150),u={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},p={Mixin:{propTypes:{value:function(t,e,n){return!t[e]||u[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func}},getValue:function(t){return t.props.valueLink?(r(t),t.props.valueLink.value):t.props.value},getChecked:function(t){return t.props.checkedLink?(a(t),t.props.checkedLink.value):t.props.checked},getOnChange:function(t){return t.props.valueLink?(r(t),i):t.props.checkedLink?(a(t),s):t.props.onChange}};e.exports=p},{150:150,86:86}],27:[function(t,e,n){"use strict";function o(t){t.remove()}var r=t(33),a=t(118),i=t(135),s=t(150),l={trapBubbledEvent:function(t,e){s(this.isMounted(),"Must be mounted to trap events");var n=this.getDOMNode();s(n,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered.");var o=r.trapBubbledEvent(t,e,n);this._localEventListeners=a(this._localEventListeners,o)},componentWillUnmount:function(){this._localEventListeners&&i(this._localEventListeners,o)}};e.exports=l},{118:118,135:135,150:150,33:33}],28:[function(t,e,n){"use strict";var o=t(16),r=t(129),a=o.topLevelTypes,i={eventTypes:null,extractEvents:function(t,e,n,o){if(t===a.topTouchStart){var i=o.target;i&&!i.onclick&&(i.onclick=r)}}};e.exports=i},{129:129,16:16}],29:[function(t,e,n){"use strict";function o(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),o=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a){var i=Object(a);for(var s in i)o.call(i,s)&&(n[s]=i[s])}}return n}e.exports=o},{}],30:[function(t,e,n){"use strict";var o=t(150),r=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},a=function(t,e){var n=this;if(n.instancePool.length){var o=n.instancePool.pop();return n.call(o,t,e),o}return new n(t,e)},i=function(t,e,n){var o=this;if(o.instancePool.length){var r=o.instancePool.pop();return o.call(r,t,e,n),r}return new o(t,e,n)},s=function(t,e,n,o,r){var a=this;if(a.instancePool.length){var i=a.instancePool.pop();return a.call(i,t,e,n,o,r),i}return new a(t,e,n,o,r)},l=function(t){var e=this;o(t instanceof e,"Trying to release an instance into a pool of a different type."),t.destructor&&t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,u=r,p=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||u,n.poolSize||(n.poolSize=c),n.release=l,n},d={addPoolingTo:p,oneArgumentPooler:r,twoArgumentPooler:a,threeArgumentPooler:i,fiveArgumentPooler:s};e.exports=d},{150:150}],31:[function(t,e,n){"use strict";var o=t(20),r=t(37),a=t(39),i=t(38),s=t(44),l=t(45),c=t(63),u=t(64),p=t(46),d=t(57),h=t(60),f=t(72),m=t(77),g=t(82),v=t(86),y=t(89),w=t(92),C=t(29),_=t(132),E=t(160);h.inject();var b=c.createElement,R=c.createFactory,x=c.cloneElement;b=u.createElement,R=u.createFactory,x=u.cloneElement;var A=g.measure("React","render",m.render),T={Children:{map:r.map,forEach:r.forEach,count:r.count,only:E},Component:a,DOM:p,PropTypes:v,initializeTouchEvents:function(t){o.useTouchEvents=t},createClass:i.createClass,createElement:b,cloneElement:x,createFactory:R,createMixin:function(t){return t},constructAndRenderComponent:m.constructAndRenderComponent,constructAndRenderComponentByID:m.constructAndRenderComponentByID,findDOMNode:_,render:A,renderToString:w.renderToString,renderToStaticMarkup:w.renderToStaticMarkup,unmountComponentAtNode:m.unmountComponentAtNode,isValidElement:c.isValidElement,withContext:s.withContext,__spread:C};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:l,InstanceHandles:f,Mount:m,Reconciler:y,TextComponent:d});var N=t(22);if(N.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var P=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],S=0;S<P.length;S++)if(!P[S]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}T.version="0.13.3",e.exports=T},{132:132,160:160,20:20,22:22,29:29,37:37,38:38,39:39,44:44,45:45,46:46,57:57,60:60,63:63,64:64,72:72,77:77,82:82,86:86,89:89,92:92}],32:[function(t,e,n){"use strict";var o=t(132),r={getDOMNode:function(){return o(this)}};e.exports=r},{132:132}],33:[function(t,e,n){"use strict";function o(t){return Object.prototype.hasOwnProperty.call(t,m)||(t[m]=h++,p[t[m]]={}),p[t[m]]}var r=t(16),a=t(18),i=t(19),s=t(67),l=t(117),c=t(29),u=t(151),p={},d=!1,h=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=t}},setEnabled:function(t){g.ReactEventListener&&g.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,a=o(n),s=i.registrationNameDependencies[t],l=r.topLevelTypes,c=0,p=s.length;c<p;c++){var d=s[c];a.hasOwnProperty(d)&&a[d]||(d===l.topWheel?u("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):u("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):d===l.topScroll?u("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):d===l.topFocus||d===l.topBlur?(u("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):u("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),a[l.topBlur]=!0,a[l.topFocus]=!0):f.hasOwnProperty(d)&&g.ReactEventListener.trapBubbledEvent(d,f[d],n),a[d]=!0)}},trapBubbledEvent:function(t,e,n){return g.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return g.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!d){var t=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(t),d=!0}},eventNameDispatchConfigs:a.eventNameDispatchConfigs,registrationNameModules:a.registrationNameModules,putListener:a.putListener,getListener:a.getListener,deleteListener:a.deleteListener,deleteAllListeners:a.deleteAllListeners});e.exports=g},{117:117,151:151,16:16,18:18,19:19,29:29,67:67}],34:[function(t,e,n){"use strict";var o=t(31),r=t(29),a=o.createFactory(t(98)),i=o.createFactory(t(35)),s=o.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:o.PropTypes.string.isRequired,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){return i({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},t)},render:function(){return a(r({},this.props,{childFactory:this._wrapChild}))}});e.exports=s},{29:29,31:31,35:35,98:98}],35:[function(t,e,n){"use strict";var o=t(31),r=t(4),a=t(97),i=t(160),s=t(171),l=17,c=5e3,u=null;u=function(){s(!1,"transition(): tried to perform an animation without an animationend or transitionend event after timeout (%sms). You should either disable this transition in JS or add a CSS animation/transition.",c)};var p=o.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(t,e){var n=this.getDOMNode(),o=this.props.name+"-"+t,i=o+"-active",s=null,l=function(t){t&&t.target!==n||(clearTimeout(s),r.removeClass(n,o),r.removeClass(n,i),a.removeEndEventListener(n,l),e&&e())};a.addEndEventListener(n,l),r.addClass(n,o),this.queueClass(i),s=setTimeout(u,c)},queueClass:function(t){this.classNameQueue.push(t),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(r.addClass.bind(r,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(t){this.props.appear?this.transition("appear",t):t()},componentWillEnter:function(t){this.props.enter?this.transition("enter",t):t()},componentWillLeave:function(t){this.props.leave?this.transition("leave",t):t()},render:function(){return i(this.props.children)}});e.exports=p},{160:160,171:171,31:31,4:4,97:97}],36:[function(t,e,n){"use strict";var o=t(89),r=t(133),a=t(149),i=t(167),s={instantiateChildren:function(t,e,n){var o=r(t);for(var i in o)if(o.hasOwnProperty(i)){var s=o[i],l=a(s,null);o[i]=l}return o},updateChildren:function(t,e,n,s){var l=r(e);if(!l&&!t)return null;var c;for(c in l)if(l.hasOwnProperty(c)){var u=t&&t[c],p=u&&u._currentElement,d=l[c];if(i(p,d))o.receiveComponent(u,d,n,s),l[c]=u;else{u&&o.unmountComponent(u,c);var h=a(d,null);l[c]=h}}for(c in t)!t.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||o.unmountComponent(t[c]);return l},unmountChildren:function(t){for(var e in t){var n=t[e];o.unmountComponent(n)}}};e.exports=s},{133:133,149:149,167:167,89:89}],37:[function(t,e,n){"use strict";function o(t,e){this.forEachFunction=t,this.forEachContext=e}function r(t,e,n,o){var r=t;r.forEachFunction.call(r.forEachContext,e,o)}function a(t,e,n){if(null==t)return t;var a=o.getPooled(e,n);h(t,r,a),o.release(a)}function i(t,e,n){this.mapResult=t,this.mapFunction=e,this.mapContext=n}function s(t,e,n,o){var r=t,a=r.mapResult,i=!a.hasOwnProperty(n);if(f(i,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),i){var s=r.mapFunction.call(r.mapContext,e,o);a[n]=s}}function l(t,e,n){if(null==t)return t;var o={},r=i.getPooled(o,e,n);return h(t,s,r),i.release(r),d.create(o)}function c(t,e,n,o){
return null}function u(t,e){return h(t,c,null)}var p=t(30),d=t(69),h=t(169),f=t(171),m=p.twoArgumentPooler,g=p.threeArgumentPooler;p.addPoolingTo(o,m),p.addPoolingTo(i,g);var v={forEach:a,map:l,count:u};e.exports=v},{169:169,171:171,30:30,69:69}],38:[function(t,e,n){"use strict";function o(t,e,n){for(var o in e)e.hasOwnProperty(o)&&x("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactClass",w[n],o)}function r(t,e){var n=P.hasOwnProperty(e)?P[e]:null;M.hasOwnProperty(e)&&E(n===T.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t.hasOwnProperty(e)&&E(n===T.DEFINE_MANY||n===T.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function a(t,e){if(e){E("function"!=typeof e,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."),E(!f.isValidElement(e),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=t.prototype;e.hasOwnProperty(A)&&S.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==A){var a=e[o];if(r(n,o),S.hasOwnProperty(o))S[o](t,a);else{var i=P.hasOwnProperty(o),s=n.hasOwnProperty(o),u=a&&a.__reactDontBind,p="function"==typeof a,d=p&&!i&&!s&&!u;if(d)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[o]=a,n[o]=a;else if(s){var h=P[o];E(i&&(h===T.DEFINE_MANY_MERGED||h===T.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,o),h===T.DEFINE_MANY_MERGED?n[o]=l(n[o],a):h===T.DEFINE_MANY&&(n[o]=c(n[o],a))}else n[o]=a,"function"==typeof a&&e.displayName&&(n[o].displayName=e.displayName+"_"+o)}}}}function i(t,e){if(e)for(var n in e){var o=e[n];if(e.hasOwnProperty(n)){var r=n in S;E(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in t;E(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),t[n]=o}}}function s(t,e){E(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(E(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function l(t,e){return function(){var n=t.apply(this,arguments),o=e.apply(this,arguments);if(null==n)return o;if(null==o)return n;var r={};return s(r,n),s(r,o),r}}function c(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function u(t,e){var n=e.bind(t);n.__reactBoundContext=t,n.__reactBoundMethod=e,n.__reactBoundArguments=null;var o=t.constructor.displayName,r=n.bind;return n.bind=function(a){for(var i=[],s=1,l=arguments.length;s<l;s++)i.push(arguments[s]);if(a!==t&&null!==a)x(!1,"bind(): React component methods may only be bound to the component instance. See %s",o);else if(!i.length)return x(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",o),n;var c=r.apply(n,arguments);return c.__reactBoundContext=t,c.__reactBoundMethod=e,c.__reactBoundArguments=i,c},n}function p(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=u(t,m.guard(n,t.constructor.displayName+"."+e))}}var d=t(39),h=t(45),f=t(63),m=t(66),g=t(73),v=t(74),y=t(85),w=t(84),C=t(99),_=t(29),E=t(150),b=t(156),R=t(157),x=t(171),A=R({mixins:null}),T=b({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),N=[],P={mixins:T.DEFINE_MANY,statics:T.DEFINE_MANY,propTypes:T.DEFINE_MANY,contextTypes:T.DEFINE_MANY,childContextTypes:T.DEFINE_MANY,getDefaultProps:T.DEFINE_MANY_MERGED,getInitialState:T.DEFINE_MANY_MERGED,getChildContext:T.DEFINE_MANY_MERGED,render:T.DEFINE_ONCE,componentWillMount:T.DEFINE_MANY,componentDidMount:T.DEFINE_MANY,componentWillReceiveProps:T.DEFINE_MANY,shouldComponentUpdate:T.DEFINE_ONCE,componentWillUpdate:T.DEFINE_MANY,componentDidUpdate:T.DEFINE_MANY,componentWillUnmount:T.DEFINE_MANY,updateComponent:T.OVERRIDE_BASE},S={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)a(t,e[n])},childContextTypes:function(t,e){o(t,e,y.childContext),t.childContextTypes=_({},t.childContextTypes,e)},contextTypes:function(t,e){o(t,e,y.context),t.contextTypes=_({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=l(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){o(t,e,y.prop),t.propTypes=_({},t.propTypes,e)},statics:function(t,e){i(t,e)}},D={enumerable:!1,get:function(){var t=this.displayName||this.name||"Component";return x(!1,"%s.type is deprecated. Use %s directly to access the class.",t,t),Object.defineProperty(this,"type",{value:this}),this}},M={replaceState:function(t,e){C.enqueueReplaceState(this,t),e&&C.enqueueCallback(this,e)},isMounted:function(){var t=h.current;null!==t&&(x(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var e=g.get(this);return e&&e!==v.currentlyMountingInstance},setProps:function(t,e){C.enqueueSetProps(this,t),e&&C.enqueueCallback(this,e)},replaceProps:function(t,e){C.enqueueReplaceProps(this,t),e&&C.enqueueCallback(this,e)}},k=function(){};_(k.prototype,d.prototype,M);var I={createClass:function(t){var e=function(t,n){x(this instanceof e,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&p(this),this.props=t,this.context=n,this.state=null;var o=this.getInitialState?this.getInitialState():null;"undefined"==typeof o&&this.getInitialState._isMockFunction&&(o=null),E("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=o};e.prototype=new k,e.prototype.constructor=e,N.forEach(a.bind(null,e)),a(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.getDefaultProps&&(e.getDefaultProps.isReactClassApproved={}),e.prototype.getInitialState&&(e.prototype.getInitialState.isReactClassApproved={}),E(e.prototype.render,"createClass(...): Class specification must implement a `render` method."),x(!e.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",t.displayName||"A component");for(var n in P)e.prototype[n]||(e.prototype[n]=null);e.type=e;try{Object.defineProperty(e,"type",D)}catch(o){}return e},injection:{injectMixin:function(t){N.push(t)}}};e.exports=I},{150:150,156:156,157:157,171:171,29:29,39:39,45:45,63:63,66:66,73:73,74:74,84:84,85:85,99:99}],39:[function(t,e,n){"use strict";function o(t,e){this.props=t,this.context=e}var r=t(99),a=t(150),i=t(171);o.prototype.setState=function(t,e){a("object"==typeof t||"function"==typeof t||null==t,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),i(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),r.enqueueSetState(this,t),e&&r.enqueueCallback(this,e)},o.prototype.forceUpdate=function(t){r.enqueueForceUpdate(this),t&&r.enqueueCallback(this,t)};var s={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead call React.render again at the top level."]},l=function(t,e){try{Object.defineProperty(o.prototype,t,{get:function(){i(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",e[0],e[1])}})}catch(n){}};for(var c in s)s.hasOwnProperty(c)&&l(c,s[c]);e.exports=o},{150:150,171:171,99:99}],40:[function(t,e,n){"use strict";var o=t(50),r=t(77),a={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:o.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){r.purgeID(t)}};e.exports=a},{50:50,77:77}],41:[function(t,e,n){"use strict";var o=t(150),r=!1,a={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){o(!r,"ReactCompositeComponent: injectEnvironment() can only be called once."),a.unmountIDFromEnvironment=t.unmountIDFromEnvironment,a.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,a.processChildrenUpdates=t.processChildrenUpdates,r=!0}}};e.exports=a},{150:150}],42:[function(t,e,n){"use strict";var o=t(166),r={shouldComponentUpdate:function(t,e){return!o(this.props,t)||!o(this.state,e)}};e.exports=r},{166:166}],43:[function(t,e,n){"use strict";function o(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}var r=t(41),a=t(44),i=t(45),s=t(63),l=t(64),c=t(73),u=t(74),p=t(80),d=t(82),h=t(85),f=t(84),m=t(89),g=t(100),v=t(29),y=t(130),w=t(150),C=t(167),_=t(171),E=1,b={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(t,e,n){this._context=n,this._mountOrder=E++,this._rootNodeID=t;var o=this._processProps(this._currentElement.props),r=this._processContext(this._currentElement._context),a=p.getComponentClassForElement(this._currentElement),i=new a(o,r);_(null!=i.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",a.displayName||a.name||"Component"),i.props=o,i.context=r,i.refs=y,this._instance=i,c.set(i,this),this._warnIfContextsDiffer(this._currentElement._context,n),_(!i.getInitialState||i.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),_(!i.getDefaultProps||i.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),_(!i.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),_(!i.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),_("function"!=typeof i.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component");var s=i.state;void 0===s&&(i.state=s=null),w("object"==typeof s&&!Array.isArray(s),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var l,d,h=u.currentlyMountingInstance;u.currentlyMountingInstance=this;try{i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),l=this._getValidatedChildContext(n),d=this._renderValidatedComponent(l)}finally{u.currentlyMountingInstance=h}this._renderedComponent=this._instantiateReactComponent(d,this._currentElement.type);var f=m.mountComponent(this._renderedComponent,t,e,this._mergeChildContext(n,l));return i.componentDidMount&&e.getReactMountReady().enqueue(i.componentDidMount,i),f},unmountComponent:function(){var t=this._instance;if(t.componentWillUnmount){var e=u.currentlyUnmountingInstance;u.currentlyUnmountingInstance=this;try{t.componentWillUnmount()}finally{u.currentlyUnmountingInstance=e}}m.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,c.remove(t)},_setPropsInternal:function(t,e){var n=this._pendingElement||this._currentElement;this._pendingElement=s.cloneAndReplaceProps(n,v({},n.props,t)),g.enqueueUpdate(this,e)},_maskContext:function(t){var e=null;if("string"==typeof this._currentElement.type)return y;var n=this._currentElement.type.contextTypes;if(!n)return y;e={};for(var o in n)e[o]=t[o];return e},_processContext:function(t){var e=this._maskContext(t),n=p.getComponentClassForElement(this._currentElement);return n.contextTypes&&this._checkPropTypes(n.contextTypes,e,h.context),e},_getValidatedChildContext:function(t){var e=this._instance,n=e.getChildContext&&e.getChildContext();if(n){w("object"==typeof e.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"),this._checkPropTypes(e.constructor.childContextTypes,n,h.childContext);for(var o in n)w(o in e.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",o);return n}return null},_mergeChildContext:function(t,e){return e?v({},t,e):t},_processProps:function(t){var e=p.getComponentClassForElement(this._currentElement);return e.propTypes&&this._checkPropTypes(e.propTypes,t,h.prop),t},_checkPropTypes:function(t,e,n){var r=this.getName();for(var a in t)if(t.hasOwnProperty(a)){var i;try{w("function"==typeof t[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",f[n],a),i=t[a](e,a,r,n)}catch(s){i=s}if(i instanceof Error){var l=o(this);n===h.prop?_(!1,"Failed Composite propType: %s%s",i.message,l):_(!1,"Failed Context Types: %s%s",i.message,l)}}},receiveComponent:function(t,e,n){var o=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(e,o,t,r,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&(l.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(t,e){t=this._maskContext(t),e=this._maskContext(e);for(var n=Object.keys(e).sort(),o=this.getName()||"ReactCompositeComponent",r=0;r<n.length;r++){var a=n[r];_(t[a]===e[a],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",t[a],e[a],a,o)}},updateComponent:function(t,e,n,o,r){var a=this._instance,i=a.context,s=a.props;e!==n&&(i=this._processContext(n._context),s=this._processProps(n.props),null!=r&&this._warnIfContextsDiffer(n._context,r),a.componentWillReceiveProps&&a.componentWillReceiveProps(s,i));var l=this._processPendingState(s,i),c=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(s,l,i);_("undefined"!=typeof c,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,s,l,i,t,r)):(this._currentElement=n,this._context=r,a.props=s,a.state=l,a.context=i)},_processPendingState:function(t,e){var n=this._instance,o=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!o)return n.state;if(r&&1===o.length)return o[0];for(var a=v({},r?o[0]:n.state),i=r?1:0;i<o.length;i++){var s=o[i];v(a,"function"==typeof s?s.call(n,a,t,e):s)}return a},_performComponentUpdate:function(t,e,n,o,r,a){var i=this._instance,s=i.props,l=i.state,c=i.context;i.componentWillUpdate&&i.componentWillUpdate(e,n,o),this._currentElement=t,this._context=a,i.props=e,i.state=n,i.context=o,this._updateRenderedComponent(r,a),i.componentDidUpdate&&r.getReactMountReady().enqueue(i.componentDidUpdate.bind(i,s,l,c),i)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,o=n._currentElement,r=this._getValidatedChildContext(),a=this._renderValidatedComponent(r);if(C(o,a))m.receiveComponent(n,a,t,this._mergeChildContext(e,r));else{var i=this._rootNodeID,s=n._rootNodeID;m.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(a,this._currentElement.type);var l=m.mountComponent(this._renderedComponent,i,t,this._mergeChildContext(e,r));this._replaceNodeWithMarkupByID(s,l)}},_replaceNodeWithMarkupByID:function(t,e){r.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return"undefined"==typeof e&&t.render._isMockFunction&&(e=null),e},_renderValidatedComponent:function(t){var e,n=a.current;a.current=this._mergeChildContext(this._currentElement._context,t),i.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=n,i.current=null}return w(null===e||e===!1||s.isValidElement(e),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),e},attachRef:function(t,e){var n=this.getPublicInstance(),o=n.refs===y?n.refs={}:n.refs;o[t]=e.getPublicInstance()},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};d.measureMethods(b,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var R={Mixin:b};e.exports=R},{100:100,130:130,150:150,167:167,171:171,29:29,41:41,44:44,45:45,63:63,64:64,73:73,74:74,80:80,82:82,84:84,85:85,89:89}],44:[function(t,e,n){"use strict";var o=t(29),r=t(130),a=t(171),i=!1,s={current:r,withContext:function(t,e){a(i,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."),i=!0;var n,r=s.current;s.current=o({},r,t);try{n=e()}finally{s.current=r}return n}};e.exports=s},{130:130,171:171,29:29}],45:[function(t,e,n){"use strict";var o={current:null};e.exports=o},{}],46:[function(t,e,n){"use strict";function o(t){return r.createFactory(t)}var r=(t(63),t(64)),a=t(158),i=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},o);e.exports=i},{158:158,63:63,64:64}],47:[function(t,e,n){"use strict";var o=t(2),r=t(32),a=t(38),i=t(63),s=t(156),l=i.createFactory("button"),c=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),u=a.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[o,r],render:function(){var t={};for(var e in this.props)!this.props.hasOwnProperty(e)||this.props.disabled&&c[e]||(t[e]=this.props[e]);return l(t,this.props.children)}});e.exports=u},{156:156,2:2,32:32,38:38,63:63}],48:[function(t,e,n){"use strict";function o(t){t&&(null!=t.dangerouslySetInnerHTML&&(v(null==t.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),v("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),C(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),C(!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),v(null==t.style||"object"==typeof t.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."))}function r(t,e,n,o){C("onScroll"!==e||y("scroll",!0),"This browser doesn't support the `onScroll` event");var r=d.findReactContainerForID(t);if(r){var a=r.nodeType===A?r.ownerDocument:r;E(e,a)}o.getPutListenerQueue().enqueuePutListener(t,e,n)}function a(t){D.call(S,t)||(v(P.test(t),"Invalid tag: %s",t),S[t]=!0)}function i(t){a(t),this._tag=t,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var s=t(6),l=t(11),c=t(12),u=t(33),p=t(40),d=t(77),h=t(78),f=t(82),m=t(29),g=t(131),v=t(150),y=t(151),w=t(157),C=t(171),_=u.deleteListener,E=u.listenTo,b=u.registrationNameModules,R={string:!0,number:!0},x=w({style:null}),A=1,T=null,N={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},P=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,S={},D={}.hasOwnProperty;i.displayName="ReactDOMComponent",i.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t,o(this._currentElement.props);var r=N[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(e)+this._createContentMarkup(e,n)+r},_createOpenTagMarkupAndPutListeners:function(t){var e=this._currentElement.props,n="<"+this._tag;for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];if(null!=a)if(b.hasOwnProperty(o))r(this._rootNodeID,o,a,t);else{o===x&&(a&&(a=this._previousStyleCopy=m({},e.style)),a=s.createMarkupForStyles(a));var i=c.createMarkupForProperty(o,a);i&&(n+=" "+i)}}if(t.renderToStaticMarkup)return n+">";var l=c.createMarkupForID(this._rootNodeID);return n+" "+l+">"},_createContentMarkup:function(t,e){var n="";"listing"!==this._tag&&"pre"!==this._tag&&"textarea"!==this._tag||(n="\n");var o=this._currentElement.props,r=o.dangerouslySetInnerHTML;if(null!=r){if(null!=r.__html)return n+r.__html}else{var a=R[typeof o.children]?o.children:null,i=null!=a?null:o.children;if(null!=a)return n+g(a);if(null!=i){var s=this.mountChildren(i,t,e);return n+s.join("")}}return n},receiveComponent:function(t,e,n){var o=this._currentElement;this._currentElement=t,this.updateComponent(e,o,t,n)},updateComponent:function(t,e,n,r){o(this._currentElement.props),this._updateDOMProperties(e.props,t),this._updateDOMChildren(e.props,t,r)},_updateDOMProperties:function(t,e){var n,o,a,i=this._currentElement.props;for(n in t)if(!i.hasOwnProperty(n)&&t.hasOwnProperty(n))if(n===x){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else b.hasOwnProperty(n)?_(this._rootNodeID,n):(l.isStandardName[n]||l.isCustomAttribute(n))&&T.deletePropertyByID(this._rootNodeID,n);for(n in i){var c=i[n],u=n===x?this._previousStyleCopy:t[n];if(i.hasOwnProperty(n)&&c!==u)if(n===x)if(c?c=this._previousStyleCopy=m({},c):this._previousStyleCopy=null,u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(a=a||{},a[o]=c[o])}else a=c;else b.hasOwnProperty(n)?r(this._rootNodeID,n,c,e):(l.isStandardName[n]||l.isCustomAttribute(n))&&T.updatePropertyByID(this._rootNodeID,n,c)}a&&T.updateStylesByID(this._rootNodeID,a)},_updateDOMChildren:function(t,e,n){var o=this._currentElement.props,r=R[typeof t.children]?t.children:null,a=R[typeof o.children]?o.children:null,i=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=o.dangerouslySetInnerHTML&&o.dangerouslySetInnerHTML.__html,l=null!=r?null:t.children,c=null!=a?null:o.children,u=null!=r||null!=i,p=null!=a||null!=s;null!=l&&null==c?this.updateChildren(null,e,n):u&&!p&&this.updateTextContent(""),null!=a?r!==a&&this.updateTextContent(""+a):null!=s?i!==s&&T.updateInnerHTMLByID(this._rootNodeID,s):null!=c&&this.updateChildren(c,e,n)},unmountComponent:function(){this.unmountChildren(),u.deleteAllListeners(this._rootNodeID),p.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},f.measureMethods(i,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(i.prototype,i.Mixin,h.Mixin),i.injection={injectIDOperations:function(t){i.BackendIDOperations=T=t}},e.exports=i},{11:11,12:12,131:131,150:150,151:151,157:157,171:171,29:29,33:33,40:40,6:6,77:77,78:78,82:82}],49:[function(t,e,n){"use strict";var o=t(16),r=t(27),a=t(32),i=t(38),s=t(63),l=s.createFactory("form"),c=i.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[a,r],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(o.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(o.topLevelTypes.topSubmit,"submit")}});e.exports=c},{16:16,27:27,32:32,38:38,63:63}],50:[function(t,e,n){"use strict";var o=t(6),r=t(10),a=t(12),i=t(77),s=t(82),l=t(150),c=t(164),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},p={updatePropertyByID:function(t,e,n){var o=i.getNode(t);l(!u.hasOwnProperty(e),"updatePropertyByID(...): %s",u[e]),null!=n?a.setValueForProperty(o,e,n):a.deleteValueForProperty(o,e)},deletePropertyByID:function(t,e,n){var o=i.getNode(t);l(!u.hasOwnProperty(e),"updatePropertyByID(...): %s",u[e]),a.deleteValueForProperty(o,e,n)},updateStylesByID:function(t,e){var n=i.getNode(t);o.setValueForStyles(n,e)},updateInnerHTMLByID:function(t,e){var n=i.getNode(t);c(n,e)},updateTextContentByID:function(t,e){var n=i.getNode(t);r.updateTextContent(n,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=i.getNode(t);r.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=i.getNode(t[n].parentID);r.processUpdates(t,e)}};s.measureMethods(p,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=p},{10:10,12:12,150:150,164:164,6:6,77:77,82:82}],51:[function(t,e,n){"use strict";var o=t(16),r=t(27),a=t(32),i=t(38),s=t(63),l=s.createFactory("iframe"),c=i.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[a,r],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(o.topLevelTypes.topLoad,"load")}});e.exports=c},{16:16,27:27,32:32,38:38,63:63}],52:[function(t,e,n){"use strict";var o=t(16),r=t(27),a=t(32),i=t(38),s=t(63),l=s.createFactory("img"),c=i.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[a,r],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(o.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(o.topLevelTypes.topError,"error")}});e.exports=c},{16:16,27:27,32:32,38:38,63:63}],53:[function(t,e,n){"use strict";function o(){this.isMounted()&&this.forceUpdate()}var r=t(2),a=t(12),i=t(26),s=t(32),l=t(38),c=t(63),u=t(77),p=t(100),d=t(29),h=t(150),f=c.createFactory("input"),m={},g=l.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[r,i.Mixin,s],getInitialState:function(){var t=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=t?t:null}},render:function(){var t=d({},this.props);t.defaultChecked=null,t.defaultValue=null;var e=i.getValue(this);t.value=null!=e?e:this.state.initialValue;var n=i.getChecked(this);return t.checked=null!=n?n:this.state.initialChecked,t.onChange=this._handleChange,f(t,this.props.children)},componentDidMount:function(){var t=u.getID(this.getDOMNode());m[t]=this},componentWillUnmount:function(){var t=this.getDOMNode(),e=u.getID(t);delete m[e]},componentDidUpdate:function(t,e,n){var o=this.getDOMNode();null!=this.props.checked&&a.setValueForProperty(o,"checked",this.props.checked||!1);var r=i.getValue(this);null!=r&&a.setValueForProperty(o,"value",""+r)},_handleChange:function(t){var e,n=i.getOnChange(this);n&&(e=n.call(this,t)),p.asap(o,this);var r=this.props.name;if("radio"===this.props.type&&null!=r){for(var a=this.getDOMNode(),s=a;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),c=0,d=l.length;c<d;c++){var f=l[c];if(f!==a&&f.form===a.form){var g=u.getID(f);h(g,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var v=m[g];h(v,"ReactDOMInput: Unknown radio button ID %s.",g),p.asap(o,v)}}}return e}});e.exports=g},{100:100,12:12,150:150,2:2,26:26,29:29,32:32,38:38,63:63,77:77}],54:[function(t,e,n){"use strict";var o=t(32),r=t(38),a=t(63),i=t(171),s=a.createFactory("option"),l=r.createClass({displayName:"ReactDOMOption",tagName:"OPTION",
mixins:[o],componentWillMount:function(){i(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},render:function(){return s(this.props,this.props.children)}});e.exports=l},{171:171,32:32,38:38,63:63}],55:[function(t,e,n){"use strict";function o(){if(this._pendingUpdate){this._pendingUpdate=!1;var t=s.getValue(this);null!=t&&this.isMounted()&&a(this,t)}}function r(t,e,n){if(null==t[e])return null;if(t.multiple){if(!Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function a(t,e){var n,o,r,a=t.getDOMNode().options;if(t.props.multiple){for(n={},o=0,r=e.length;o<r;o++)n[""+e[o]]=!0;for(o=0,r=a.length;o<r;o++){var i=n.hasOwnProperty(a[o].value);a[o].selected!==i&&(a[o].selected=i)}}else{for(n=""+e,o=0,r=a.length;o<r;o++)if(a[o].value===n)return void(a[o].selected=!0);a.length&&(a[0].selected=!0)}}var i=t(2),s=t(26),l=t(32),c=t(38),u=t(63),p=t(100),d=t(29),h=u.createFactory("select"),f=c.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[i,s.Mixin,l],propTypes:{defaultValue:r,value:r},render:function(){var t=d({},this.props);return t.onChange=this._handleChange,t.value=null,h(t,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var t=s.getValue(this);null!=t?a(this,t):null!=this.props.defaultValue&&a(this,this.props.defaultValue)},componentDidUpdate:function(t){var e=s.getValue(this);null!=e?(this._pendingUpdate=!1,a(this,e)):!t.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?a(this,this.props.defaultValue):a(this,this.props.multiple?[]:""))},_handleChange:function(t){var e,n=s.getOnChange(this);return n&&(e=n.call(this,t)),this._pendingUpdate=!0,p.asap(o,this),e}});e.exports=f},{100:100,2:2,26:26,29:29,32:32,38:38,63:63}],56:[function(t,e,n){"use strict";function o(t,e,n,o){return t===n&&e===o}function r(t){var e=document.selection,n=e.createRange(),o=n.text.length,r=n.duplicate();r.moveToElementText(t),r.setEndPoint("EndToStart",n);var a=r.text.length,i=a+o;return{start:a,end:i}}function a(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,a=e.focusNode,i=e.focusOffset,s=e.getRangeAt(0),l=o(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=l?0:s.toString().length,u=s.cloneRange();u.selectNodeContents(t),u.setEnd(s.startContainer,s.startOffset);var p=o(u.startContainer,u.startOffset,u.endContainer,u.endOffset),d=p?0:u.toString().length,h=d+c,f=document.createRange();f.setStart(n,r),f.setEnd(a,i);var m=f.collapsed;return{start:m?h:d,end:m?d:h}}function i(t,e){var n,o,r=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,o=n):e.start>e.end?(n=e.end,o=e.start):(n=e.start,o=e.end),r.moveToElementText(t),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",o-n),r.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),o=t[u()].length,r=Math.min(e.start,o),a="undefined"==typeof e.end?r:Math.min(e.end,o);if(!n.extend&&r>a){var i=a;a=r,r=i}var s=c(t,r),l=c(t,a);if(s&&l){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),r>a?(n.addRange(p),n.extend(l.node,l.offset)):(p.setEnd(l.node,l.offset),n.addRange(p))}}}var l=t(22),c=t(143),u=t(145),p=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?r:a,setOffsets:p?i:s};e.exports=d},{143:143,145:145,22:22}],57:[function(t,e,n){"use strict";var o=t(12),r=t(40),a=t(48),i=t(29),s=t(131),l=function(t){};i(l.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){this._rootNodeID=t;var r=s(this._stringText);return e.renderToStaticMarkup?r:"<span "+o.createMarkupForID(t)+">"+r+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;n!==this._stringText&&(this._stringText=n,a.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){r.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=l},{12:12,131:131,29:29,40:40,48:48}],58:[function(t,e,n){"use strict";function o(){this.isMounted()&&this.forceUpdate()}var r=t(2),a=t(12),i=t(26),s=t(32),l=t(38),c=t(63),u=t(100),p=t(29),d=t(150),h=t(171),f=c.createFactory("textarea"),m=l.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[r,i.Mixin,s],getInitialState:function(){var t=this.props.defaultValue,e=this.props.children;null!=e&&(h(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),d(null==t,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(e)&&(d(e.length<=1,"<textarea> can only have at most one child."),e=e[0]),t=""+e),null==t&&(t="");var n=i.getValue(this);return{initialValue:""+(null!=n?n:t)}},render:function(){var t=p({},this.props);return d(null==t.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),t.defaultValue=null,t.value=null,t.onChange=this._handleChange,f(t,this.state.initialValue)},componentDidUpdate:function(t,e,n){var o=i.getValue(this);if(null!=o){var r=this.getDOMNode();a.setValueForProperty(r,"value",""+o)}},_handleChange:function(t){var e,n=i.getOnChange(this);return n&&(e=n.call(this,t)),u.asap(o,this),e}});e.exports=m},{100:100,12:12,150:150,171:171,2:2,26:26,29:29,32:32,38:38,63:63}],59:[function(t,e,n){"use strict";function o(){this.reinitializeTransaction()}var r=t(100),a=t(116),i=t(29),s=t(129),l={initialize:s,close:function(){d.isBatchingUpdates=!1}},c={initialize:s,close:r.flushBatchedUpdates.bind(r)},u=[c,l];i(o.prototype,a.Mixin,{getTransactionWrappers:function(){return u}});var p=new o,d={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,o,r){var a=d.isBatchingUpdates;d.isBatchingUpdates=!0,a?t(e,n,o,r):p.perform(t,null,e,n,o,r)}};e.exports=d},{100:100,116:116,129:129,29:29}],60:[function(t,e,n){"use strict";function o(t){return f.createClass({tagName:t.toUpperCase(),render:function(){return new N(t,null,null,null,null,this.props)}})}function r(){S.EventEmitter.injectReactEventListener(P),S.EventPluginHub.injectEventPluginOrder(l),S.EventPluginHub.injectInstanceHandle(D),S.EventPluginHub.injectMount(M),S.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:L,EnterLeaveEventPlugin:c,ChangeEventPlugin:i,MobileSafariClickEventPlugin:d,SelectEventPlugin:I,BeforeInputEventPlugin:a}),S.NativeComponent.injectGenericComponentClass(v),S.NativeComponent.injectTextComponentClass(T),S.NativeComponent.injectAutoWrapper(o),S.Class.injectMixin(h),S.NativeComponent.injectComponentClasses({button:y,form:w,iframe:E,img:C,input:b,option:R,select:x,textarea:A,html:F("html"),head:F("head"),body:F("body")}),S.DOMProperty.injectDOMPropertyConfig(p),S.DOMProperty.injectDOMPropertyConfig(U),S.EmptyComponent.injectEmptyComponent("noscript"),S.Updates.injectReconcileTransaction(k),S.Updates.injectBatchingStrategy(g),S.RootIndex.injectCreateReactRootIndex(u.canUseDOM?s.createReactRootIndex:O.createReactRootIndex),S.Component.injectEnvironment(m),S.DOMComponent.injectIDOperations(_);var e=u.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(e)){var n=t(61);n.start()}}var a=t(3),i=t(8),s=t(9),l=t(14),c=t(15),u=t(22),p=t(24),d=t(28),h=t(32),f=t(38),m=t(40),g=t(59),v=t(48),y=t(47),w=t(49),C=t(52),_=t(50),E=t(51),b=t(53),R=t(54),x=t(55),A=t(58),T=t(57),N=t(63),P=t(68),S=t(70),D=t(72),M=t(77),k=t(88),I=t(102),O=t(103),L=t(104),U=t(101),F=t(125);e.exports={inject:r}},{101:101,102:102,103:103,104:104,125:125,14:14,15:15,22:22,24:24,28:28,3:3,32:32,38:38,40:40,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,57:57,58:58,59:59,61:61,63:63,68:68,70:70,72:72,77:77,8:8,88:88,9:9}],61:[function(t,e,n){"use strict";function o(t){return Math.floor(100*t)/100}function r(t,e,n){t[e]=(t[e]||0)+n}var a=t(11),i=t(62),s=t(77),l=t(82),c=t(162),u={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){u._injected||l.injection.injectMeasure(u.measure),u._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return u._allMeasurements},printExclusive:function(t){t=t||u._allMeasurements;var e=i.getExclusiveSummary(t);console.table(e.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":o(t.inclusive),"Exclusive mount time (ms)":o(t.exclusive),"Exclusive render time (ms)":o(t.render),"Mount time per instance (ms)":o(t.exclusive/t.count),"Render time per instance (ms)":o(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||u._allMeasurements;var e=i.getInclusiveSummary(t);console.table(e.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":o(t.time),Instances:t.count}})),console.log("Total time:",i.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(t){var e=i.getInclusiveSummary(t,!0);return e.map(function(t){return{"Owner > component":t.componentName,"Wasted time (ms)":t.time,Instances:t.count}})},printWasted:function(t){t=t||u._allMeasurements,console.table(u.getMeasurementsSummaryMap(t)),console.log("Total time:",i.getTotalTime(t).toFixed(2)+" ms")},printDOM:function(t){t=t||u._allMeasurements;var e=i.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[a.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log("Total time:",i.getTotalTime(t).toFixed(2)+" ms")},_recordWrite:function(t,e,n,o){var r=u._allMeasurements[u._allMeasurements.length-1].writes;r[t]=r[t]||[],r[t].push({type:e,time:n,args:o})},measure:function(t,e,n){return function(){for(var o=[],a=0,i=arguments.length;a<i;a++)o.push(arguments[a]);var l,p,d;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return u._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),d=c(),p=n.apply(this,o),u._allMeasurements[u._allMeasurements.length-1].totalTime=c()-d,p;if("_mountImageIntoNode"===e||"ReactDOMIDOperations"===t){if(d=c(),p=n.apply(this,o),l=c()-d,"_mountImageIntoNode"===e){var h=s.getID(o[1]);u._recordWrite(h,e,l,o[0])}else"dangerouslyProcessChildrenUpdates"===e?o[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=o[1][t.markupIndex]),u._recordWrite(t.parentID,t.type,l,e)}):u._recordWrite(o[0],e,l,Array.prototype.slice.call(o,1));return p}if("ReactCompositeComponent"!==t||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return n.apply(this,o);if("string"==typeof this._currentElement.type)return n.apply(this,o);var f="mountComponent"===e?o[0]:this._rootNodeID,m="_renderValidatedComponent"===e,g="mountComponent"===e,v=u._mountStack,y=u._allMeasurements[u._allMeasurements.length-1];if(m?r(y.counts,f,1):g&&v.push(0),d=c(),p=n.apply(this,o),l=c()-d,m)r(y.render,f,l);else if(g){var w=v.pop();v[v.length-1]+=l,r(y.exclusive,f,l-w),r(y.inclusive,f,l)}else r(y.inclusive,f,l);return y.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},p}}};e.exports=u},{11:11,162:162,62:62,77:77,82:82}],62:[function(t,e,n){function o(t){for(var e=0,n=0;n<t.length;n++){var o=t[n];e+=o.totalTime}return e}function r(t){for(var e=[],n=0;n<t.length;n++){var o,r=t[n];for(o in r.writes)r.writes[o].forEach(function(t){e.push({id:o,type:u[t.type]||t.type,args:t.args})})}return e}function a(t){for(var e,n={},o=0;o<t.length;o++){var r=t[o],a=l({},r.exclusive,r.inclusive);for(var i in a)e=r.displayNames[i].current,n[e]=n[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},r.render[i]&&(n[e].render+=r.render[i]),r.exclusive[i]&&(n[e].exclusive+=r.exclusive[i]),r.inclusive[i]&&(n[e].inclusive+=r.inclusive[i]),r.counts[i]&&(n[e].count+=r.counts[i])}var s=[];for(e in n)n[e].exclusive>=c&&s.push(n[e]);return s.sort(function(t,e){return e.exclusive-t.exclusive}),s}function i(t,e){for(var n,o={},r=0;r<t.length;r++){var a,i=t[r],u=l({},i.exclusive,i.inclusive);e&&(a=s(i));for(var p in u)if(!e||a[p]){var d=i.displayNames[p];n=d.owner+" > "+d.current,o[n]=o[n]||{componentName:n,time:0,count:0},i.inclusive[p]&&(o[n].time+=i.inclusive[p]),i.counts[p]&&(o[n].count+=i.counts[p])}}var h=[];for(n in o)o[n].time>=c&&h.push(o[n]);return h.sort(function(t,e){return e.time-t.time}),h}function s(t){var e={},n=Object.keys(t.writes),o=l({},t.exclusive,t.inclusive);for(var r in o){for(var a=!1,i=0;i<n.length;i++)if(0===n[i].indexOf(r)){a=!0;break}!a&&t.counts[r]>0&&(e[r]=!0)}return e}var l=t(29),c=1.2,u={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},p={getExclusiveSummary:a,getInclusiveSummary:i,getDOMSummary:r,getTotalTime:o};e.exports=p},{29:29}],63:[function(t,e,n){"use strict";function o(t,e){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[e]:null},set:function(t){l(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",e),this._store[e]=t}})}function r(t){try{var e={props:!0};for(var n in e)o(t,n);u=!0}catch(r){}}var a=t(44),i=t(45),s=t(29),l=t(171),c={key:!0,ref:!0},u=!1,p=function(t,e,n,o,r,a){this.type=t,this.key=e,this.ref=n,this._owner=o,this._context=r,this._store={props:a,originalProps:s({},a)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(i){}return this._store.validated=!1,u?void Object.freeze(this):void(this.props=a)};p.prototype={_isReactElement:!0},r(p.prototype),p.createElement=function(t,e,n){var o,r={},s=null,l=null;if(null!=e){l=void 0===e.ref?null:e.ref,s=void 0===e.key?null:""+e.key;for(o in e)e.hasOwnProperty(o)&&!c.hasOwnProperty(o)&&(r[o]=e[o])}var u=arguments.length-2;if(1===u)r.children=n;else if(u>1){for(var d=Array(u),h=0;h<u;h++)d[h]=arguments[h+2];r.children=d}if(t&&t.defaultProps){var f=t.defaultProps;for(o in f)"undefined"==typeof r[o]&&(r[o]=f[o])}return new p(t,s,l,i.current,a.current,r)},p.createFactory=function(t){var e=p.createElement.bind(null,t);return e.type=t,e},p.cloneAndReplaceProps=function(t,e){var n=new p(t.type,t.key,t.ref,t._owner,t._context,e);return n._store.validated=t._store.validated,n},p.cloneElement=function(t,e,n){var o,r=s({},t.props),a=t.key,l=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(l=e.ref,u=i.current),void 0!==e.key&&(a=""+e.key);for(o in e)e.hasOwnProperty(o)&&!c.hasOwnProperty(o)&&(r[o]=e[o])}var d=arguments.length-2;if(1===d)r.children=n;else if(d>1){for(var h=Array(d),f=0;f<d;f++)h[f]=arguments[f+2];r.children=h}return new p(t.type,a,l,u,t._context,r)},p.isValidElement=function(t){var e=!(!t||!t._isReactElement);return e},e.exports=p},{171:171,29:29,44:44,45:45}],64:[function(t,e,n){"use strict";function o(){if(w.current){var t=w.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(t){var e=t&&t.getPublicInstance();if(e){var n=e.constructor;if(n)return n.displayName||n.name||void 0}}function a(){var t=w.current;return t&&r(t)||void 0}function i(t,e){t._store.validated||null!=t.key||(t._store.validated=!0,l('Each child in an array or iterator should have a unique "key" prop.',t,e))}function s(t,e,n){A.test(t)&&l("Child objects should have non-numeric keys so ordering is preserved.",e,n)}function l(t,e,n){var o=a(),i="string"==typeof n?n:n.displayName||n.name,s=o||i,l=R[t]||(R[t]={});if(!l.hasOwnProperty(s)){l[s]=!0;var c=o?" Check the render method of "+o+".":i?" Check the React.render call using <"+i+">.":"",u="";if(e&&e._owner&&e._owner!==w.current){var p=r(e._owner);u=" It was passed a child from "+p+"."}b(!1,t+"%s%s See https://fb.me/react-warning-keys for more information.",c,u)}}function c(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++){var o=t[n];m.isValidElement(o)&&i(o,e)}else if(m.isValidElement(t))t._store.validated=!0;else if(t){var r=_(t);if(r){if(r!==t.entries)for(var a,l=r.call(t);!(a=l.next()).done;)m.isValidElement(a.value)&&i(a.value,e)}else if("object"==typeof t){var c=g.extractIfFragment(t);for(var u in c)c.hasOwnProperty(u)&&s(u,c[u],e)}}}function u(t,e,n,r){for(var a in e)if(e.hasOwnProperty(a)){var i;try{E("function"==typeof e[a],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t||"React class",y[r],a),i=e[a](n,a,t,r)}catch(s){i=s}if(i instanceof Error&&!(i.message in x)){x[i.message]=!0;var l=o(this);b(!1,"Failed propType: %s%s",i.message,l)}}}function p(t,e){var n=e.type,o="string"==typeof n?n:n.displayName,r=e._owner?e._owner.getPublicInstance().constructor.displayName:null,a=t+"|"+o+"|"+r;if(!T.hasOwnProperty(a)){T[a]=!0;var i="";o&&(i=" <"+o+" />");var s="";r&&(s=" The element was created by "+r+"."),b(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",t,i,s)}}function d(t,e){return t!==t?e!==e:0===t&&0===e?1/t===1/e:t===e}function h(t){if(t._store){var e=t._store.originalProps,n=t.props;for(var o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)&&d(e[o],n[o])||(p(o,t),e[o]=n[o]))}}function f(t){if(null!=t.type){var e=C.getComponentClassForElement(t),n=e.displayName||e.name;e.propTypes&&u(n,e.propTypes,t.props,v.prop),"function"==typeof e.getDefaultProps&&b(e.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var m=t(63),g=t(69),v=t(85),y=t(84),w=t(45),C=t(80),_=t(141),E=t(150),b=t(171),R={},x={},A=/^\d+$/,T={},N={checkAndWarnForMutatedProps:h,createElement:function(t,e,n){b(null!=t,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components).");var o=m.createElement.apply(this,arguments);if(null==o)return o;for(var r=2;r<arguments.length;r++)c(arguments[r],t);return f(o),o},createFactory:function(t){var e=N.createElement.bind(null,t);e.type=t;try{Object.defineProperty(e,"type",{enumerable:!1,get:function(){return b(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:t}),t}})}catch(n){}return e},cloneElement:function(t,e,n){for(var o=m.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)c(arguments[r],o.type);return f(o),o}};e.exports=N},{141:141,150:150,171:171,45:45,63:63,69:69,80:80,84:84,85:85}],65:[function(t,e,n){"use strict";function o(t){u[t]=!0}function r(t){delete u[t]}function a(t){return!!u[t]}var i,s=t(63),l=t(73),c=t(150),u={},p={injectEmptyComponent:function(t){i=s.createFactory(t)}},d=function(){};d.prototype.componentDidMount=function(){var t=l.get(this);t&&o(t._rootNodeID)},d.prototype.componentWillUnmount=function(){var t=l.get(this);t&&r(t._rootNodeID)},d.prototype.render=function(){return c(i,"Trying to return null from a render, but no null placeholder component was injected."),i()};var h=s.createElement(d),f={emptyElement:h,injection:p,isNullComponentID:a};e.exports=f},{150:150,63:63,73:73}],66:[function(t,e,n){"use strict";var o={guard:function(t,e){return t}};e.exports=o},{}],67:[function(t,e,n){"use strict";function o(t){r.enqueueEvents(t),r.processEventQueue()}var r=t(18),a={handleTopLevel:function(t,e,n,a){var i=r.extractEvents(t,e,n,a);o(i)}};e.exports=a},{18:18}],68:[function(t,e,n){"use strict";function o(t){var e=p.getID(t),n=u.getReactRootIDFromNodeID(e),o=p.findReactContainerForID(n),r=p.getFirstReactDOM(o);return r}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function a(t){for(var e=p.getFirstReactDOM(f(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=o(n);for(var r=0,a=t.ancestors.length;r<a;r++){e=t.ancestors[r];var i=p.getID(e)||"";g._handleTopLevel(t.topLevelType,e,i,t.nativeEvent)}}function i(t){var e=m(window);t(e)}var s=t(17),l=t(22),c=t(30),u=t(72),p=t(77),d=t(100),h=t(29),f=t(140),m=t(146);h(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){var o=n;return o?s.listen(o,e,g.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var o=n;return o?s.capture(o,e,g.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=i.bind(null,t);s.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(g._enabled){var n=r.getPooled(t,e);try{d.batchedUpdates(a,n)}finally{r.release(n)}}}};e.exports=g},{100:100,140:140,146:146,17:17,22:22,29:29,30:30,72:72,77:77}],69:[function(t,e,n){"use strict";var o=t(63),r=t(171),a="_reactFragment",i="_reactDidWarn",s=!1;try{var l=function(){return 1};Object.defineProperty({},a,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:l}),s=!0}catch(c){}var u=function(t,e){Object.defineProperty(t,e,{enumerable:!0,get:function(){return r(this[i],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."),this[i]=!0,this[a][e]},set:function(t){r(this[i],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."),this[i]=!0,this[a][e]=t}})},p={},d=function(t){var e="";for(var n in t)e+=n+":"+typeof t[n]+",";var o=!!p[e];return p[e]=!0,o},h={create:function(t){if("object"!=typeof t||!t||Array.isArray(t))return r(!1,"React.addons.createFragment only accepts a single object.",t),t;if(o.isValidElement(t))return r(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),t;if(s){var e={};Object.defineProperty(e,a,{enumerable:!1,value:t}),Object.defineProperty(e,i,{writable:!0,enumerable:!1,value:!1});for(var n in t)u(e,n);return Object.preventExtensions(e),e}return t},extract:function(t){return s?t[a]?t[a]:(r(d(t),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."),t):t},extractIfFragment:function(t){if(s){if(t[a])return t[a];for(var e in t)if(t.hasOwnProperty(e)&&o.isValidElement(t[e]))return h.extract(t)}return t}};e.exports=h},{171:171,63:63}],70:[function(t,e,n){"use strict";var o=t(11),r=t(18),a=t(41),i=t(38),s=t(65),l=t(33),c=t(80),u=t(48),p=t(82),d=t(91),h=t(100),f={Component:a.injection,Class:i.injection,DOMComponent:u.injection,DOMProperty:o.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventEmitter:l.injection,NativeComponent:c.injection,Perf:p.injection,RootIndex:d.injection,Updates:h.injection};e.exports=f},{100:100,11:11,18:18,33:33,38:38,41:41,48:48,65:65,80:80,82:82,91:91}],71:[function(t,e,n){"use strict";function o(t){return a(document.documentElement,t)}var r=t(56),a=t(123),i=t(134),s=t(136),l={hasSelectionCapabilities:function(t){return t&&("INPUT"===t.nodeName&&"text"===t.type||"TEXTAREA"===t.nodeName||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:l.hasSelectionCapabilities(t)?l.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,r=t.selectionRange;e!==n&&o(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),i(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&"INPUT"===t.nodeName){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,o=e.end;if("undefined"==typeof o&&(o=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(o,t.value.length);else if(document.selection&&"INPUT"===t.nodeName){var a=t.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",o-n),a.select()}else r.setOffsets(t,e)}};e.exports=l},{123:123,134:134,136:136,56:56}],72:[function(t,e,n){"use strict";function o(t){return h+t.toString(36)}function r(t,e){return t.charAt(e)===h||e===t.length}function a(t){return""===t||t.charAt(0)===h&&t.charAt(t.length-1)!==h}function i(t,e){return 0===e.indexOf(t)&&r(e,t.length)}function s(t){return t?t.substr(0,t.lastIndexOf(h)):""}function l(t,e){if(d(a(t)&&a(e),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",t,e),d(i(t,e),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",t,e),t===e)return t;var n,o=t.length+f;for(n=o;n<e.length&&!r(e,n);n++);return e.substr(0,n)}function c(t,e){var n=Math.min(t.length,e.length);if(0===n)return"";for(var o=0,i=0;i<=n;i++)if(r(t,i)&&r(e,i))o=i;else if(t.charAt(i)!==e.charAt(i))break;var s=t.substr(0,o);return d(a(s),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",t,e,s),s}function u(t,e,n,o,r,a){t=t||"",e=e||"",d(t!==e,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",t);var c=i(e,t);d(c||i(t,e),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",t,e);for(var u=0,p=c?s:l,h=t;;h=p(h,e)){var f;if(r&&h===t||a&&h===e||(f=n(h,c,o)),f===!1||h===e)break;d(u++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",t,e)}}var p=t(91),d=t(150),h=".",f=h.length,m=100,g={createReactRootID:function(){return o(p.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===h&&t.length>1){var e=t.indexOf(h,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,o,r){var a=c(t,e);a!==t&&u(t,a,n,o,!1,!0),a!==e&&u(a,e,n,r,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(u("",t,e,n,!0,!1),u(t,"",e,n,!1,!0))},traverseAncestors:function(t,e,n){u("",t,e,n,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:l,isAncestorIDOf:i,SEPARATOR:h};e.exports=g},{150:150,91:91}],73:[function(t,e,n){"use strict";var o={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};e.exports=o},{}],74:[function(t,e,n){"use strict";var o={currentlyMountingInstance:null,currentlyUnmountingInstance:null};e.exports=o},{}],75:[function(t,e,n){"use strict";function o(t,e){this.value=t,this.requestChange=e}function r(t){var e={value:"undefined"==typeof t?a.PropTypes.any.isRequired:t.isRequired,requestChange:a.PropTypes.func.isRequired};return a.PropTypes.shape(e)}var a=t(31);o.PropTypes={link:r},e.exports=o},{31:31}],76:[function(t,e,n){"use strict";var o=t(119),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=o(t);return t.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+e+'">')},canReuseMarkup:function(t,e){var n=e.getAttribute(r.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var a=o(t);return a===n}};e.exports=r},{119:119}],77:[function(t,e,n){"use strict";function o(t,e){for(var n=Math.min(t.length,e.length),o=0;o<n;o++)if(t.charAt(o)!==e.charAt(o))return o;return t.length===e.length?-1:n}function r(t){var e=D(t);return e&&z.getID(e)}function a(t){var e=i(t);if(e)if(V.hasOwnProperty(e)){var n=V[e];n!==t&&(k(!u(n,e),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",F,e),V[e]=t)}else V[e]=t;return e}function i(t){return t&&t.getAttribute&&t.getAttribute(F)||""}function s(t,e){var n=i(t);n!==e&&delete V[n],t.setAttribute(F,e),V[e]=t}function l(t){return V.hasOwnProperty(t)&&u(V[t],t)||(V[t]=z.findReactNodeByID(t)),V[t]}function c(t){var e=b.get(t)._rootNodeID;return _.isNullComponentID(e)?null:(V.hasOwnProperty(e)&&u(V[e],e)||(V[e]=z.findReactNodeByID(e)),V[e])}function u(t,e){if(t){k(i(t)===e,"ReactMount: Unexpected modification of `%s`",F);var n=z.findReactContainerForID(e);if(n&&S(n,t))return!0}return!1}function p(t){delete V[t]}function d(t){var e=V[t];return!(!e||!u(e,t))&&void(K=e)}function h(t){K=null,E.traverseAncestors(t,d);var e=K;return K=null,e}function f(t,e,n,o,r){var a=A.mountComponent(t,e,o,P);t._isTopLevel=!0,z._mountImageIntoNode(a,n,r)}function m(t,e,n,o){var r=N.ReactReconcileTransaction.getPooled();r.perform(f,null,t,e,n,r,o),N.ReactReconcileTransaction.release(r)}var g=t(11),v=t(33),y=t(45),w=t(63),C=t(64),_=t(65),E=t(72),b=t(73),R=t(76),x=t(82),A=t(89),T=t(99),N=t(100),P=t(130),S=t(123),D=t(144),M=t(149),k=t(150),I=t(164),O=t(167),L=t(171),U=E.SEPARATOR,F=g.ID_ATTRIBUTE_NAME,V={},j=1,B=9,H={},W={},q={},$=[],K=null,z={_instancesByReactRootID:H,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,o){return C.checkAndWarnForMutatedProps(e),z.scrollMonitor(n,function(){T.enqueueElementInternal(t,e),o&&T.enqueueCallbackInternal(t,o)}),q[r(n)]=D(n),t},_registerComponent:function(t,e){k(e&&(e.nodeType===j||e.nodeType===B),"_registerComponent(...): Target container is not a DOM element."),v.ensureScrollValueMonitoring();var n=z.registerContainer(e);return H[n]=t,n},_renderNewRootComponent:function(t,e,n){L(null==y.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var o=M(t,null),r=z._registerComponent(o,e);return N.batchedUpdates(m,o,r,e,n),q[r]=D(e),o},render:function(t,e,n){k(w.isValidElement(t),"React.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var o=H[r(e)];if(o){var a=o._currentElement;if(O(a,t))return z._updateRootComponent(o,t,e,n).getPublicInstance();z.unmountComponentAtNode(e)}var i=D(e),s=i&&z.isRenderedByReact(i);if(!s||i.nextSibling)for(var l=i;l;){if(z.isRenderedByReact(l)){L(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}l=l.nextSibling}var c=s&&!o,u=z._renderNewRootComponent(t,e,c).getPublicInstance();return n&&n.call(u),u},constructAndRenderComponent:function(t,e,n){var o=w.createElement(t,e);return z.render(o,n)},constructAndRenderComponentByID:function(t,e,n){var o=document.getElementById(n);return k(o,'Tried to get element with id of "%s" but it is not present on the page.',n),z.constructAndRenderComponent(t,e,o)},registerContainer:function(t){var e=r(t);return e&&(e=E.getReactRootIDFromNodeID(e)),e||(e=E.createReactRootID()),W[e]=t,e},unmountComponentAtNode:function(t){L(null==y.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),k(t&&(t.nodeType===j||t.nodeType===B),"unmountComponentAtNode(...): Target container is not a DOM element.");var e=r(t),n=H[e];return!!n&&(z.unmountComponentFromNode(n,t),
delete H[e],delete W[e],delete q[e],!0)},unmountComponentFromNode:function(t,e){for(A.unmountComponent(t),e.nodeType===B&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)},findReactContainerForID:function(t){var e=E.getReactRootIDFromNodeID(t),n=W[e],o=q[e];if(o&&o.parentNode!==n){k(i(o)===e,"ReactMount: Root element ID differed from reactRootID.");var r=n.firstChild;r&&e===i(r)?q[e]=r:L(!1,"ReactMount: Root element has been removed from its original container. New container:",o.parentNode)}return n},findReactNodeByID:function(t){var e=z.findReactContainerForID(t);return z.findComponentRoot(e,t)},isRenderedByReact:function(t){if(1!==t.nodeType)return!1;var e=z.getID(t);return!!e&&e.charAt(0)===U},getFirstReactDOM:function(t){for(var e=t;e&&e.parentNode!==e;){if(z.isRenderedByReact(e))return e;e=e.parentNode}return null},findComponentRoot:function(t,e){var n=$,o=0,r=h(e)||t;for(n[0]=r.firstChild,n.length=1;o<n.length;){for(var a,i=n[o++];i;){var s=z.getID(i);s?e===s?a=i:E.isAncestorIDOf(s,e)&&(n.length=o=0,n.push(i.firstChild)):n.push(i.firstChild),i=i.nextSibling}if(a)return n.length=0,a}n.length=0,k(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",e,z.getID(t))},_mountImageIntoNode:function(t,e,n){if(k(e&&(e.nodeType===j||e.nodeType===B),"mountComponentIntoNode(...): Target container is not valid."),n){var r=D(e);if(R.canReuseMarkup(t,r))return;var a=r.getAttribute(R.CHECKSUM_ATTR_NAME);r.removeAttribute(R.CHECKSUM_ATTR_NAME);var i=r.outerHTML;r.setAttribute(R.CHECKSUM_ATTR_NAME,a);var s=o(t,i),l=" (client) "+t.substring(s-20,s+20)+"\n (server) "+i.substring(s-20,s+20);k(e.nodeType!==B,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",l),L(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",l)}k(e.nodeType!==B,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."),I(e,t)},getReactRootID:r,getID:a,setID:s,getNode:l,getNodeFromInstance:c,purgeID:p};x.measureMethods(z,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=z},{100:100,11:11,123:123,130:130,144:144,149:149,150:150,164:164,167:167,171:171,33:33,45:45,63:63,64:64,65:65,72:72,73:73,76:76,82:82,89:89,99:99}],78:[function(t,e,n){"use strict";function o(t,e,n){f.push({parentID:t,parentNode:null,type:u.INSERT_MARKUP,markupIndex:m.push(e)-1,textContent:null,fromIndex:null,toIndex:n})}function r(t,e,n){f.push({parentID:t,parentNode:null,type:u.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:n})}function a(t,e){f.push({parentID:t,parentNode:null,type:u.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function i(t,e){f.push({parentID:t,parentNode:null,type:u.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function s(){f.length&&(c.processChildrenUpdates(f,m),l())}function l(){f.length=0,m.length=0}var c=t(41),u=t(79),p=t(89),d=t(36),h=0,f=[],m=[],g={Mixin:{mountChildren:function(t,e,n){var o=d.instantiateChildren(t,e,n);this._renderedChildren=o;var r=[],a=0;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i],l=this._rootNodeID+i,c=p.mountComponent(s,l,e,n);s._mountIndex=a,r.push(c),a++}return r},updateTextContent:function(t){h++;var e=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var o in n)n.hasOwnProperty(o)&&this._unmountChildByName(n[o],o);this.setTextContent(t),e=!1}finally{h--,h||(e?l():s())}},updateChildren:function(t,e,n){h++;var o=!0;try{this._updateChildren(t,e,n),o=!1}finally{h--,h||(o?l():s())}},_updateChildren:function(t,e,n){var o=this._renderedChildren,r=d.updateChildren(o,t,e,n);if(this._renderedChildren=r,r||o){var a,i=0,s=0;for(a in r)if(r.hasOwnProperty(a)){var l=o&&o[a],c=r[a];l===c?(this.moveChild(l,s,i),i=Math.max(l._mountIndex,i),l._mountIndex=s):(l&&(i=Math.max(l._mountIndex,i),this._unmountChildByName(l,a)),this._mountChildByNameAtIndex(c,a,s,e,n)),s++}for(a in o)!o.hasOwnProperty(a)||r&&r.hasOwnProperty(a)||this._unmountChildByName(o[a],a)}},unmountChildren:function(){var t=this._renderedChildren;d.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&r(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){o(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){a(this._rootNodeID,t._mountIndex)},setTextContent:function(t){i(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,o,r){var a=this._rootNodeID+e,i=p.mountComponent(t,a,o,r);t._mountIndex=n,this.createChild(t,i)},_unmountChildByName:function(t,e){this.removeChild(t),t._mountIndex=null}}};e.exports=g},{36:36,41:41,79:79,89:89}],79:[function(t,e,n){"use strict";var o=t(156),r=o({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});e.exports=r},{156:156}],80:[function(t,e,n){"use strict";function o(t){if("function"==typeof t.type)return t.type;var e=t.type,n=p[e];return null==n&&(p[e]=n=c(e)),n}function r(t){return l(u,"There is no registered component for the tag %s",t.type),new u(t.type,t.props)}function a(t){return new d(t)}function i(t){return t instanceof d}var s=t(29),l=t(150),c=null,u=null,p={},d=null,h={injectGenericComponentClass:function(t){u=t},injectTextComponentClass:function(t){d=t},injectComponentClasses:function(t){s(p,t)},injectAutoWrapper:function(t){c=t}},f={getComponentClassForElement:o,createInternalComponent:r,createInstanceForText:a,isTextComponent:i,injection:h};e.exports=f},{150:150,29:29}],81:[function(t,e,n){"use strict";var o=t(150),r={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){o(r.isValidOwner(n),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){o(r.isValidOwner(n),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),n.getPublicInstance().refs[e]===t.getPublicInstance()&&n.detachRef(e)}};e.exports=r},{150:150}],82:[function(t,e,n){"use strict";function o(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:o,measureMethods:function(t,e,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=r.measure(e,n[o],t[o]))},measure:function(t,e,n){var o=null,a=function(){return r.enableMeasure?(o||(o=r.storedMeasure(t,e,n)),o.apply(this,arguments)):n.apply(this,arguments)};return a.displayName=t+"_"+e,a},injection:{injectMeasure:function(t){r.storedMeasure=t}}};e.exports=r},{}],83:[function(t,e,n){"use strict";function o(t){return function(e,n,o){e.hasOwnProperty(n)?e[n]=t(e[n],o):e[n]=o}}function r(t,e){for(var n in e)if(e.hasOwnProperty(n)){var o=c[n];o&&c.hasOwnProperty(n)?o(t,n,e[n]):t.hasOwnProperty(n)||(t[n]=e[n])}return t}var a=t(29),i=t(129),s=t(155),l=o(function(t,e){return a({},e,t)}),c={children:i,className:o(s),style:l},u={mergeProps:function(t,e){return r(a({},t),e)}};e.exports=u},{129:129,155:155,29:29}],84:[function(t,e,n){"use strict";var o={};o={prop:"prop",context:"context",childContext:"child context"},e.exports=o},{}],85:[function(t,e,n){"use strict";var o=t(156),r=o({prop:null,context:null,childContext:null});e.exports=r},{156:156}],86:[function(t,e,n){"use strict";function o(t){function e(e,n,o,r,a){if(r=r||_,null==n[o]){var i=w[a];return e?new Error("Required "+i+" `"+o+"` was not specified in "+("`"+r+"`.")):null}return t(n,o,r,a)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function r(t){function e(e,n,o,r){var a=e[n],i=m(a);if(i!==t){var s=w[r],l=g(a);return new Error("Invalid "+s+" `"+n+"` of type `"+l+"` "+("supplied to `"+o+"`, expected `"+t+"`."))}return null}return o(e)}function a(){return o(C.thatReturns(null))}function i(t){function e(e,n,o,r){var a=e[n];if(!Array.isArray(a)){var i=w[r],s=m(a);return new Error("Invalid "+i+" `"+n+"` of type "+("`"+s+"` supplied to `"+o+"`, expected an array."))}for(var l=0;l<a.length;l++){var c=t(a,l,o,r);if(c instanceof Error)return c}return null}return o(e)}function s(){function t(t,e,n,o){if(!v.isValidElement(t[e])){var r=w[o];return new Error("Invalid "+r+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return o(t)}function l(t){function e(e,n,o,r){if(!(e[n]instanceof t)){var a=w[r],i=t.name||_;return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+o+"`, expected instance of `"+i+"`."))}return null}return o(e)}function c(t){function e(e,n,o,r){for(var a=e[n],i=0;i<t.length;i++)if(a===t[i])return null;var s=w[r],l=JSON.stringify(t);return new Error("Invalid "+s+" `"+n+"` of value `"+a+"` "+("supplied to `"+o+"`, expected one of "+l+"."))}return o(e)}function u(t){function e(e,n,o,r){var a=e[n],i=m(a);if("object"!==i){var s=w[r];return new Error("Invalid "+s+" `"+n+"` of type "+("`"+i+"` supplied to `"+o+"`, expected an object."))}for(var l in a)if(a.hasOwnProperty(l)){var c=t(a,l,o,r);if(c instanceof Error)return c}return null}return o(e)}function p(t){function e(e,n,o,r){for(var a=0;a<t.length;a++){var i=t[a];if(null==i(e,n,o,r))return null}var s=w[r];return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+o+"`."))}return o(e)}function d(){function t(t,e,n,o){if(!f(t[e])){var r=w[o];return new Error("Invalid "+r+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(t)}function h(t){function e(e,n,o,r){var a=e[n],i=m(a);if("object"!==i){var s=w[r];return new Error("Invalid "+s+" `"+n+"` of type `"+i+"` "+("supplied to `"+o+"`, expected `object`."))}for(var l in t){var c=t[l];if(c){var u=c(a,l,o,r);if(u)return u}}return null}return o(e)}function f(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(null===t||v.isValidElement(t))return!0;t=y.extractIfFragment(t);for(var e in t)if(!f(t[e]))return!1;return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function g(t){var e=m(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}var v=t(63),y=t(69),w=t(84),C=t(129),_="<<anonymous>>",E=s(),b=d(),R={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:a(),arrayOf:i,element:E,instanceOf:l,node:b,objectOf:u,oneOf:c,oneOfType:p,shape:h};e.exports=R},{129:129,63:63,69:69,84:84}],87:[function(t,e,n){"use strict";function o(){this.listenersToPut=[]}var r=t(30),a=t(33),i=t(29);i(o.prototype,{enqueuePutListener:function(t,e,n){this.listenersToPut.push({rootNodeID:t,propKey:e,propValue:n})},putListeners:function(){for(var t=0;t<this.listenersToPut.length;t++){var e=this.listenersToPut[t];a.putListener(e.rootNodeID,e.propKey,e.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(o),e.exports=o},{29:29,30:30,33:33}],88:[function(t,e,n){"use strict";function o(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=l.getPooled()}var r=t(7),a=t(30),i=t(33),s=t(71),l=t(87),c=t(116),u=t(29),p={initialize:s.getSelectionInformation,close:s.restoreSelection},d={initialize:function(){var t=i.isEnabled();return i.setEnabled(!1),t},close:function(t){i.setEnabled(t)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,p,d,h],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,l.release(this.putListenerQueue),this.putListenerQueue=null}};u(o.prototype,c.Mixin,g),a.addPoolingTo(o),e.exports=o},{116:116,29:29,30:30,33:33,7:7,71:71,87:87}],89:[function(t,e,n){"use strict";function o(){r.attachRefs(this,this._currentElement)}var r=t(90),a=t(64),i={mountComponent:function(t,e,n,r){var i=t.mountComponent(e,n,r);return a.checkAndWarnForMutatedProps(t._currentElement),n.getReactMountReady().enqueue(o,t),i},unmountComponent:function(t){r.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,n,i){var s=t._currentElement;if(e!==s||null==e._owner){a.checkAndWarnForMutatedProps(e);var l=r.shouldUpdateRefs(s,e);l&&r.detachRefs(t,s),t.receiveComponent(e,n,i),l&&n.getReactMountReady().enqueue(o,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};e.exports=i},{64:64,90:90}],90:[function(t,e,n){"use strict";function o(t,e,n){"function"==typeof t?t(e.getPublicInstance()):a.addComponentAsRefTo(e,t,n)}function r(t,e,n){"function"==typeof t?t(null):a.removeComponentAsRefFrom(e,t,n)}var a=t(81),i={};i.attachRefs=function(t,e){var n=e.ref;null!=n&&o(n,t,e._owner)},i.shouldUpdateRefs=function(t,e){return e._owner!==t._owner||e.ref!==t.ref},i.detachRefs=function(t,e){var n=e.ref;null!=n&&r(n,t,e._owner)},e.exports=i},{81:81}],91:[function(t,e,n){"use strict";var o={injectCreateReactRootIndex:function(t){r.createReactRootIndex=t}},r={createReactRootIndex:null,injection:o};e.exports=r},{}],92:[function(t,e,n){"use strict";function o(t){p(a.isValidElement(t),"renderToString(): You must pass a valid ReactElement.");var e;try{var n=i.createReactRootID();return e=l.getPooled(!1),e.perform(function(){var o=u(t,null),r=o.mountComponent(n,e,c);return s.addChecksumToMarkup(r)},null)}finally{l.release(e)}}function r(t){p(a.isValidElement(t),"renderToStaticMarkup(): You must pass a valid ReactElement.");var e;try{var n=i.createReactRootID();return e=l.getPooled(!0),e.perform(function(){var o=u(t,null);return o.mountComponent(n,e,c)},null)}finally{l.release(e)}}var a=t(63),i=t(72),s=t(76),l=t(93),c=t(130),u=t(149),p=t(150);e.exports={renderToString:o,renderToStaticMarkup:r}},{130:130,149:149,150:150,63:63,72:72,76:76,93:93}],93:[function(t,e,n){"use strict";function o(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=a.getPooled(null),this.putListenerQueue=i.getPooled()}var r=t(30),a=t(7),i=t(87),s=t(116),l=t(29),c=t(129),u={initialize:function(){this.reactMountReady.reset()},close:c},p={initialize:function(){this.putListenerQueue.reset()},close:c},d=[p,u],h={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null,i.release(this.putListenerQueue),this.putListenerQueue=null}};l(o.prototype,s.Mixin,h),r.addPoolingTo(o),e.exports=o},{116:116,129:129,29:29,30:30,7:7,87:87}],94:[function(t,e,n){"use strict";function o(t,e){var n={};return function(o){n[e]=o,t.setState(n)}}var r={createStateSetter:function(t,e){return function(n,o,r,a,i,s){var l=e.call(t,n,o,r,a,i,s);l&&t.setState(l)}},createStateKeySetter:function(t,e){var n=t.__keySetters||(t.__keySetters={});return n[e]||(n[e]=o(t,e))}};r.Mixin={createStateSetter:function(t){return r.createStateSetter(this,t)},createStateKeySetter:function(t){return r.createStateKeySetter(this,t)}},e.exports=r},{}],95:[function(t,e,n){"use strict";function o(t){}function r(t){return function(e,n){var r;b.isDOMComponent(e)?r=e.getDOMNode():e.tagName&&(r=e);var a=new o;a.target=r;var i=new w(h.eventNameDispatchConfigs[t],v.getID(r),a);C(i,n),c.accumulateTwoPhaseDispatches(i),y.batchedUpdates(function(){l.enqueueEvents(i),l.processEventQueue()})}}function a(){b.Simulate={};var t;for(t in h.eventNameDispatchConfigs)b.Simulate[t]=r(t)}function i(t){return function(e,n){var r=new o(t);C(r,n),b.isDOMComponent(e)?b.simulateNativeEventOnDOMComponent(t,e,r):e.tagName&&b.simulateNativeEventOnNode(t,e,r)}}var s=t(16),l=t(18),c=t(21),u=t(31),p=t(63),d=t(65),h=t(33),f=t(43),m=t(72),g=t(73),v=t(77),y=t(100),w=t(108),C=t(29),_=t(130),E=s.topLevelTypes,b={renderIntoDocument:function(t){var e=document.createElement("div");return u.render(t,e)},isElement:function(t){return p.isValidElement(t)},isElementOfType:function(t,e){return p.isValidElement(t)&&t.type===e},isDOMComponent:function(t){return!!(t&&t.tagName&&t.getDOMNode)},isDOMComponentElement:function(t){return!!(t&&p.isValidElement(t)&&t.tagName)},isCompositeComponent:function(t){return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentWithType:function(t,e){return!(!b.isCompositeComponent(t)||t.constructor!==e)},isCompositeComponentElement:function(t){if(!p.isValidElement(t))return!1;var e=t.type.prototype;return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentElementWithType:function(t,e){return!(!b.isCompositeComponentElement(t)||t.constructor!==e)},getRenderedChildOfCompositeComponent:function(t){if(!b.isCompositeComponent(t))return null;var e=g.get(t);return e._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(t,e){if(!t)return[];var n=e(t)?[t]:[];if(b.isDOMComponent(t)){var o,r=g.get(t),a=r._renderedComponent._renderedChildren;for(o in a)a.hasOwnProperty(o)&&a[o].getPublicInstance&&(n=n.concat(b.findAllInRenderedTree(a[o].getPublicInstance(),e)))}else b.isCompositeComponent(t)&&(n=n.concat(b.findAllInRenderedTree(b.getRenderedChildOfCompositeComponent(t),e)));return n},scryRenderedDOMComponentsWithClass:function(t,e){return b.findAllInRenderedTree(t,function(t){var n=t.props.className;return b.isDOMComponent(t)&&n&&(" "+n+" ").indexOf(" "+e+" ")!==-1})},findRenderedDOMComponentWithClass:function(t,e){var n=b.scryRenderedDOMComponentsWithClass(t,e);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+e);return n[0]},scryRenderedDOMComponentsWithTag:function(t,e){return b.findAllInRenderedTree(t,function(t){return b.isDOMComponent(t)&&t.tagName===e.toUpperCase()})},findRenderedDOMComponentWithTag:function(t,e){var n=b.scryRenderedDOMComponentsWithTag(t,e);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+e);return n[0]},scryRenderedComponentsWithType:function(t,e){return b.findAllInRenderedTree(t,function(t){return b.isCompositeComponentWithType(t,e)})},findRenderedComponentWithType:function(t,e){var n=b.scryRenderedComponentsWithType(t,e);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+e);return n[0]},mockComponent:function(t,e){return e=e||t.mockTagName||"div",t.prototype.render.mockImplementation(function(){return u.createElement(e,null,this.props.children)}),this},simulateNativeEventOnNode:function(t,e,n){n.target=e,h.ReactEventListener.dispatchEvent(t,n)},simulateNativeEventOnDOMComponent:function(t,e,n){b.simulateNativeEventOnNode(t,e.getDOMNode(),n)},nativeTouchData:function(t,e){return{touches:[{pageX:t,pageY:e}]}},createRenderer:function(){return new R},Simulate:null,SimulateNative:{}},R=function(){this._instance=null};R.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var x=function(t){this._renderedOutput=t,this._currentElement=null===t||t===!1?d.emptyElement:t};x.prototype={mountComponent:function(){},receiveComponent:function(t){this._renderedOutput=t,this._currentElement=null===t||t===!1?d.emptyElement:t},unmountComponent:function(){}};var A=function(){};C(A.prototype,f.Mixin,{_instantiateReactComponent:function(t){return new x(t)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:f.Mixin._renderValidatedComponentWithoutOwnerOrContext}),R.prototype.render=function(t,e){e||(e=_);var n=y.ReactReconcileTransaction.getPooled();this._render(t,n,e),y.ReactReconcileTransaction.release(n)},R.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},R.prototype._render=function(t,e,n){if(this._instance)this._instance.receiveComponent(t,e,n);else{var o=m.createReactRootID(),r=new A(t.type);r.construct(t),r.mountComponent(o,e,n),this._instance=r}};var T=l.injection.injectEventPluginOrder;l.injection.injectEventPluginOrder=function(){T.apply(this,arguments),a()};var N=l.injection.injectEventPluginsByName;l.injection.injectEventPluginsByName=function(){N.apply(this,arguments),a()},a();var P;for(P in E){var S=0===P.indexOf("top")?P.charAt(3).toLowerCase()+P.substr(4):P;b.SimulateNative[S]=i(P)}e.exports=b},{100:100,108:108,130:130,16:16,18:18,21:21,29:29,31:31,33:33,43:43,63:63,65:65,72:72,73:73,77:77}],96:[function(t,e,n){"use strict";var o=t(37),r=t(69),a={getChildMapping:function(t){return t?r.extract(o.map(t,function(t){return t})):t},mergeChildMappings:function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var o={},r=[];for(var a in t)e.hasOwnProperty(a)?r.length&&(o[a]=r,r=[]):r.push(a);var i,s={};for(var l in e){if(o.hasOwnProperty(l))for(i=0;i<o[l].length;i++){var c=o[l][i];s[o[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<r.length;i++)s[r[i]]=n(r[i]);return s}};e.exports=a},{37:37,69:69}],97:[function(t,e,n){"use strict";function o(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var n in s){var o=s[n];for(var r in o)if(r in e){l.push(o[r]);break}}}function r(t,e,n){t.addEventListener(e,n,!1)}function a(t,e,n){t.removeEventListener(e,n,!1)}var i=t(22),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];i.canUseDOM&&o();var c={addEndEventListener:function(t,e){return 0===l.length?void window.setTimeout(e,0):void l.forEach(function(n){r(t,n,e)})},removeEndEventListener:function(t,e){0!==l.length&&l.forEach(function(n){a(t,n,e)})}};e.exports=c},{22:22}],98:[function(t,e,n){"use strict";var o=t(31),r=t(96),a=t(29),i=t(122),s=t(129),l=o.createClass({displayName:"ReactTransitionGroup",propTypes:{component:o.PropTypes.any,childFactory:o.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:s.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},componentWillReceiveProps:function(t){var e=r.getChildMapping(t.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,e)});var o;for(o in e){var a=n&&n.hasOwnProperty(o);!e[o]||a||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(o in n){var i=e&&e.hasOwnProperty(o);!n[o]||i||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performAppear:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillAppear?e.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)},_handleDoneAppearing:function(t){var e=this.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performEnter:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)},_handleDoneEntering:function(t){var e=this.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performLeave:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)},_handleDoneLeaving:function(t){var e=this.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(t))this.performEnter(t);else{var o=a({},this.state.children);delete o[t],this.setState({children:o})}},render:function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];n&&t.push(i(this.props.childFactory(n),{ref:e,key:e}))}return o.createElement(this.props.component,this.props,t)}});e.exports=l},{122:122,129:129,29:29,31:31,96:96}],99:[function(t,e,n){"use strict";function o(t){t!==a.currentlyMountingInstance&&c.enqueueUpdate(t)}function r(t,e){p(null==i.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",e);var n=l.get(t);return n?n===a.currentlyUnmountingInstance?null:n:(d(!e,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",e,e),null)}var a=t(74),i=t(45),s=t(63),l=t(73),c=t(100),u=t(29),p=t(150),d=t(171),h={enqueueCallback:function(t,e){p("function"==typeof e,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable.");var n=r(t);return n&&n!==a.currentlyMountingInstance?(n._pendingCallbacks?n._pendingCallbacks.push(e):n._pendingCallbacks=[e],void o(n)):null},enqueueCallbackInternal:function(t,e){p("function"==typeof e,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],o(t)},enqueueForceUpdate:function(t){var e=r(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,o(e))},enqueueReplaceState:function(t,e){var n=r(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,o(n))},enqueueSetState:function(t,e){var n=r(t,"setState");if(n){var a=n._pendingStateQueue||(n._pendingStateQueue=[]);a.push(e),o(n)}},enqueueSetProps:function(t,e){var n=r(t,"setProps");if(n){p(n._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var a=n._pendingElement||n._currentElement,i=u({},a.props,e);n._pendingElement=s.cloneAndReplaceProps(a,i),o(n)}},enqueueReplaceProps:function(t,e){var n=r(t,"replaceProps");if(n){p(n._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var a=n._pendingElement||n._currentElement;n._pendingElement=s.cloneAndReplaceProps(a,e),o(n)}},enqueueElementInternal:function(t,e){t._pendingElement=e,o(t)}};e.exports=h},{100:100,150:150,171:171,29:29,45:45,63:63,73:73,74:74}],100:[function(t,e,n){"use strict";function o(){v(N.ReactReconcileTransaction&&E,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(),this.reconcileTransaction=N.ReactReconcileTransaction.getPooled()}function a(t,e,n,r,a){o(),E.batchedUpdates(t,e,n,r,a)}function i(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;v(e===w.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",e,w.length),w.sort(i);for(var n=0;n<e;n++){var o=w[n],r=o._pendingCallbacks;if(o._pendingCallbacks=null,f.performUpdateIfNecessary(o,t.reconcileTransaction),r)for(var a=0;a<r.length;a++)t.callbackQueue.enqueue(r[a],o.getPublicInstance())}}function l(t){return o(),y(null==d.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),E.isBatchingUpdates?void w.push(t):void E.batchedUpdates(l,t)}function c(t,e){v(E.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),C.enqueue(t,e),_=!0}var u=t(7),p=t(30),d=t(45),h=t(82),f=t(89),m=t(116),g=t(29),v=t(150),y=t(171),w=[],C=u.getPooled(),_=!1,E=null,b={initialize:function(){this.dirtyComponentsLength=w.length},close:function(){this.dirtyComponentsLength!==w.length?(w.splice(0,this.dirtyComponentsLength),A()):w.length=0}},R={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[b,R];g(r.prototype,m.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,N.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),p.addPoolingTo(r);var A=function(){for(;w.length||_;){if(w.length){var t=r.getPooled();t.perform(s,null,t),r.release(t)}if(_){_=!1;var e=C;C=u.getPooled(),e.notifyAll(),u.release(e)}}};A=h.measure("ReactUpdates","flushBatchedUpdates",A);var T={injectReconcileTransaction:function(t){v(t,"ReactUpdates: must provide a reconcile transaction class"),N.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){v(t,"ReactUpdates: must provide a batching strategy"),v("function"==typeof t.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"),v("boolean"==typeof t.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),E=t}},N={ReactReconcileTransaction:null,batchedUpdates:a,enqueueUpdate:l,flushBatchedUpdates:A,injection:T,asap:c};e.exports=N},{116:116,150:150,171:171,29:29,30:30,45:45,7:7,82:82,89:89}],101:[function(t,e,n){"use strict";var o=t(11),r=o.injection.MUST_USE_ATTRIBUTE,a={Properties:{clipPath:r,
cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};e.exports=a},{11:11}],102:[function(t,e,n){"use strict";function o(t){if("selectionStart"in t&&s.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t){if(y||null==m||m!==c())return null;var e=o(m);if(!v||!d(v,e)){v=e;var n=l.getPooled(f.select,g,t);return n.type="select",n.target=m,i.accumulateTwoPhaseDispatches(n),n}}var a=t(16),i=t(21),s=t(71),l=t(108),c=t(136),u=t(153),p=t(157),d=t(166),h=a.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},m=null,g=null,v=null,y=!1,w={eventTypes:f,extractEvents:function(t,e,n,o){switch(t){case h.topFocus:(u(e)||"true"===e.contentEditable)&&(m=e,g=n,v=null);break;case h.topBlur:m=null,g=null,v=null;break;case h.topMouseDown:y=!0;break;case h.topContextMenu:case h.topMouseUp:return y=!1,r(o);case h.topSelectionChange:case h.topKeyDown:case h.topKeyUp:return r(o)}}};e.exports=w},{108:108,136:136,153:153,157:157,16:16,166:166,21:21,71:71}],103:[function(t,e,n){"use strict";var o=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*o)}};e.exports=r},{}],104:[function(t,e,n){"use strict";var o=t(16),r=t(20),a=t(21),i=t(105),s=t(108),l=t(109),c=t(111),u=t(112),p=t(107),d=t(113),h=t(114),f=t(115),m=t(137),g=t(150),v=t(157),y=t(171),w=o.topLevelTypes,C={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},_={topBlur:C.blur,topClick:C.click,topContextMenu:C.contextMenu,topCopy:C.copy,topCut:C.cut,topDoubleClick:C.doubleClick,topDrag:C.drag,topDragEnd:C.dragEnd,topDragEnter:C.dragEnter,topDragExit:C.dragExit,topDragLeave:C.dragLeave,topDragOver:C.dragOver,topDragStart:C.dragStart,topDrop:C.drop,topError:C.error,topFocus:C.focus,topInput:C.input,topKeyDown:C.keyDown,topKeyPress:C.keyPress,topKeyUp:C.keyUp,topLoad:C.load,topMouseDown:C.mouseDown,topMouseMove:C.mouseMove,topMouseOut:C.mouseOut,topMouseOver:C.mouseOver,topMouseUp:C.mouseUp,topPaste:C.paste,topReset:C.reset,topScroll:C.scroll,topSubmit:C.submit,topTouchCancel:C.touchCancel,topTouchEnd:C.touchEnd,topTouchMove:C.touchMove,topTouchStart:C.touchStart,topWheel:C.wheel};for(var E in _)_[E].dependencies=[E];var b={eventTypes:C,executeDispatch:function(t,e,n){var o=r.executeDispatch(t,e,n);y("boolean"!=typeof o,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."),o===!1&&(t.stopPropagation(),t.preventDefault())},extractEvents:function(t,e,n,o){var r=_[t];if(!r)return null;var v;switch(t){case w.topInput:case w.topLoad:case w.topError:case w.topReset:case w.topSubmit:v=s;break;case w.topKeyPress:if(0===m(o))return null;case w.topKeyDown:case w.topKeyUp:v=c;break;case w.topBlur:case w.topFocus:v=l;break;case w.topClick:if(2===o.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:v=u;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:v=p;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:v=d;break;case w.topScroll:v=h;break;case w.topWheel:v=f;break;case w.topCopy:case w.topCut:case w.topPaste:v=i}g(v,"SimpleEventPlugin: Unhandled event type, `%s`.",t);var y=v.getPooled(r,n,o);return a.accumulateTwoPhaseDispatches(y),y}};e.exports=b},{105:105,107:107,108:108,109:109,111:111,112:112,113:113,114:114,115:115,137:137,150:150,157:157,16:16,171:171,20:20,21:21}],105:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(108),a={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(o,a),e.exports=o},{108:108}],106:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(108),a={data:null};r.augmentClass(o,a),e.exports=o},{108:108}],107:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(112),a={dataTransfer:null};r.augmentClass(o,a),e.exports=o},{112:112}],108:[function(t,e,n){"use strict";function o(t,e,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var o=this.constructor.Interface;for(var r in o)if(o.hasOwnProperty(r)){var a=o[r];a?this[r]=a(n):this[r]=n[r]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;s?this.isDefaultPrevented=i.thatReturnsTrue:this.isDefaultPrevented=i.thatReturnsFalse,this.isPropagationStopped=i.thatReturnsFalse}var r=t(30),a=t(29),i=t(129),s=t(140),l={type:null,target:s,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};a(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=i.thatReturnsTrue},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=i.thatReturnsTrue},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),o.Interface=l,o.augmentClass=function(t,e){var n=this,o=Object.create(n.prototype);a(o,t.prototype),t.prototype=o,t.prototype.constructor=t,t.Interface=a({},n.Interface,e),t.augmentClass=n.augmentClass,r.addPoolingTo(t,r.threeArgumentPooler)},r.addPoolingTo(o,r.threeArgumentPooler),e.exports=o},{129:129,140:140,29:29,30:30}],109:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(114),a={relatedTarget:null};r.augmentClass(o,a),e.exports=o},{114:114}],110:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(108),a={data:null};r.augmentClass(o,a),e.exports=o},{108:108}],111:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(114),a=t(137),i=t(138),s=t(139),l={key:i,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?a(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?a(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};r.augmentClass(o,l),e.exports=o},{114:114,137:137,138:138,139:139}],112:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(114),a=t(117),i=t(139),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+a.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+a.currentScrollTop}};r.augmentClass(o,s),e.exports=o},{114:114,117:117,139:139}],113:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(114),a=t(139),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a};r.augmentClass(o,i),e.exports=o},{114:114,139:139}],114:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(108),a=t(140),i={view:function(t){if(t.view)return t.view;var e=a(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(o,i),e.exports=o},{108:108,140:140}],115:[function(t,e,n){"use strict";function o(t,e,n){r.call(this,t,e,n)}var r=t(112),a={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(o,a),e.exports=o},{112:112}],116:[function(t,e,n){"use strict";var o=t(150),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,r,a,i,s,l){o(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=t.call(e,n,r,a,i,s,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var o=e[n];try{this.wrapperInitData[n]=a.OBSERVED_ERROR,this.wrapperInitData[n]=o.initialize?o.initialize.call(this):null}finally{if(this.wrapperInitData[n]===a.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(t){o(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open.");for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r,i=e[n],s=this.wrapperInitData[n];try{r=!0,s!==a.OBSERVED_ERROR&&i.close&&i.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},a={Mixin:r,OBSERVED_ERROR:{}};e.exports=a},{150:150}],117:[function(t,e,n){"use strict";var o={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){o.currentScrollLeft=t.x,o.currentScrollTop=t.y}};e.exports=o},{}],118:[function(t,e,n){"use strict";function o(t,e){if(r(null!=e,"accumulateInto(...): Accumulated items must not be null or undefined."),null==t)return e;var n=Array.isArray(t),o=Array.isArray(e);return n&&o?(t.push.apply(t,e),t):n?(t.push(e),t):o?[t].concat(e):[t,e]}var r=t(150);e.exports=o},{150:150}],119:[function(t,e,n){"use strict";function o(t){for(var e=1,n=0,o=0;o<t.length;o++)e=(e+t.charCodeAt(o))%r,n=(n+e)%r;return e|n<<16}var r=65521;e.exports=o},{}],120:[function(t,e,n){function o(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;e.exports=o},{}],121:[function(t,e,n){"use strict";function o(t){return r(t.replace(a,"ms-"))}var r=t(120),a=/^-ms-/;e.exports=o},{120:120}],122:[function(t,e,n){"use strict";function o(t,e){s(!t.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var n=a.mergeProps(e,t.props);return!n.hasOwnProperty(l)&&t.props.hasOwnProperty(l)&&(n.children=t.props.children),r.createElement(t.type,n)}var r=t(63),a=t(83),i=t(157),s=t(171),l=i({children:null});e.exports=o},{157:157,171:171,63:63,83:83}],123:[function(t,e,n){function o(t,e){return!(!t||!e)&&(t===e||!r(t)&&(r(e)?o(t,e.parentNode):t.contains?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var r=t(154);e.exports=o},{154:154}],124:[function(t,e,n){function o(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function r(t){return o(t)?Array.isArray(t)?t.slice():a(t):[t]}var a=t(168);e.exports=r},{168:168}],125:[function(t,e,n){"use strict";function o(t){var e=a.createFactory(t),n=r.createClass({tagName:t.toUpperCase(),displayName:"ReactFullPageComponent"+t,componentWillUnmount:function(){i(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName)},render:function(){return e(this.props)}});return n}var r=t(38),a=t(63),i=t(150);e.exports=o},{150:150,38:38,63:63}],126:[function(t,e,n){function o(t){var e=t.match(u);return e&&e[1].toLowerCase()}function r(t,e){var n=c;l(!!c,"createNodesFromMarkup dummy not initialized");var r=o(t),a=r&&s(r);if(a){n.innerHTML=a[1]+t+a[2];for(var u=a[0];u--;)n=n.lastChild}else n.innerHTML=t;var p=n.getElementsByTagName("script");p.length&&(l(e,"createNodesFromMarkup(...): Unexpected <script> element rendered."),i(p).forEach(e));for(var d=i(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var a=t(22),i=t(124),s=t(142),l=t(150),c=a.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;e.exports=r},{124:124,142:142,150:150,22:22}],127:[function(t,e,n){"use strict";function o(t){return r(a,"React.addons.classSet will be deprecated in a future version. See http://fb.me/react-addons-classset"),a=!0,"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).join(" "):Array.prototype.join.call(arguments," ")}var r=t(171),a=!1;e.exports=o},{171:171}],128:[function(t,e,n){"use strict";function o(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var o=isNaN(e);return o||0===e||a.hasOwnProperty(t)&&a[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var r=t(5),a=r.isUnitlessNumber;e.exports=o},{5:5}],129:[function(t,e,n){function o(t){return function(){return t}}function r(){}r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},e.exports=r},{}],130:[function(t,e,n){"use strict";var o={};Object.freeze(o),e.exports=o},{}],131:[function(t,e,n){"use strict";function o(t){return a[t]}function r(t){return(""+t).replace(i,o)}var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;e.exports=r},{}],132:[function(t,e,n){"use strict";function o(t){var e=r.current;return null!==e&&(c(e._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",e.getName()||"A component"),e._warnedAboutRefsInRender=!0),null==t?null:l(t)?t:a.has(t)?i.getNodeFromInstance(t):(s(null==t.render||"function"!=typeof t.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(t)),void s(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(t)))}var r=t(45),a=t(73),i=t(77),s=t(150),l=t(152),c=t(171);e.exports=o},{150:150,152:152,171:171,45:45,73:73,77:77}],133:[function(t,e,n){"use strict";function o(t,e,n){var o=t,r=!o.hasOwnProperty(n);i(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),r&&null!=e&&(o[n]=e)}function r(t){if(null==t)return t;var e={};return a(t,o,e),e}var a=t(169),i=t(171);e.exports=r},{169:169,171:171}],134:[function(t,e,n){"use strict";function o(t){try{t.focus()}catch(e){}}e.exports=o},{}],135:[function(t,e,n){"use strict";var o=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};e.exports=o},{}],136:[function(t,e,n){function o(){try{return document.activeElement||document.body}catch(t){return document.body}}e.exports=o},{}],137:[function(t,e,n){"use strict";function o(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}e.exports=o},{}],138:[function(t,e,n){"use strict";function o(t){if(t.key){var e=a[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=r(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?i[t.keyCode]||"Unidentified":""}var r=t(137),a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=o},{137:137}],139:[function(t,e,n){"use strict";function o(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var o=a[t];return!!o&&!!n[o]}function r(t){return o}var a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},{}],140:[function(t,e,n){"use strict";function o(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}e.exports=o},{}],141:[function(t,e,n){"use strict";function o(t){var e=t&&(r&&t[r]||t[a]);if("function"==typeof e)return e}var r="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";e.exports=o},{}],142:[function(t,e,n){function o(t){return a(!!i,"Markup wrapping node not initialized"),d.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||("*"===t?i.innerHTML="<link />":i.innerHTML="<"+t+"></"+t+">",s[t]=!i.firstChild),s[t]?d[t]:null}var r=t(22),a=t(150),i=r.canUseDOM?document.createElement("div"):null,s={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,"<svg>","</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u,circle:p,clipPath:p,defs:p,ellipse:p,g:p,line:p,linearGradient:p,path:p,polygon:p,polyline:p,radialGradient:p,rect:p,stop:p,text:p};e.exports=o},{150:150,22:22}],143:[function(t,e,n){"use strict";function o(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function a(t,e){for(var n=o(t),a=0,i=0;n;){if(3===n.nodeType){if(i=a+n.textContent.length,a<=e&&i>=e)return{node:n,offset:e-a};a=i}n=o(r(n))}}e.exports=a},{}],144:[function(t,e,n){"use strict";function o(t){return t?t.nodeType===r?t.documentElement:t.firstChild:null}var r=9;e.exports=o},{}],145:[function(t,e,n){"use strict";function o(){return!a&&r.canUseDOM&&(a="textContent"in document.documentElement?"textContent":"innerText"),a}var r=t(22),a=null;e.exports=o},{22:22}],146:[function(t,e,n){"use strict";function o(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}e.exports=o},{}],147:[function(t,e,n){function o(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=o},{}],148:[function(t,e,n){"use strict";function o(t){return r(t).replace(a,"-ms-")}var r=t(147),a=/^ms-/;e.exports=o},{147:147}],149:[function(t,e,n){"use strict";function o(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function r(t,e){var n;if(null!==t&&t!==!1||(t=i.emptyElement),"object"==typeof t){var r=t;u(r&&("function"==typeof r.type||"string"==typeof r.type),"Only functions or strings can be mounted as React components."),n=e===r.type&&"string"==typeof r.type?s.createInternalComponent(r):o(r.type)?new r.type(r):new p}else"string"==typeof t||"number"==typeof t?n=s.createInstanceForText(t):c(!1,"Encountered invalid React node of type %s",typeof t);return u("function"==typeof n.construct&&"function"==typeof n.mountComponent&&"function"==typeof n.receiveComponent&&"function"==typeof n.unmountComponent,"Only React Components can be mounted."),n.construct(t),n._mountIndex=0,n._mountImage=null,n._isOwnerNecessary=!1,n._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(n),n}var a=t(43),i=t(65),s=t(80),l=t(29),c=t(150),u=t(171),p=function(){};l(p.prototype,a.Mixin,{_instantiateReactComponent:r}),e.exports=r},{150:150,171:171,29:29,43:43,65:65,80:80}],150:[function(t,e,n){"use strict";var o=function(t,e,n,o,r,a,i,s){if(void 0===e)throw new Error("invariant requires an error message argument");if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,a,i,s],u=0;l=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};e.exports=o},{}],151:[function(t,e,n){"use strict";function o(t,e){if(!a.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,o=n in document;if(!o){var i=document.createElement("div");i.setAttribute(n,"return;"),o="function"==typeof i[n]}return!o&&r&&"wheel"===t&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var r,a=t(22);a.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=o},{22:22}],152:[function(t,e,n){function o(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}e.exports=o},{}],153:[function(t,e,n){"use strict";function o(t){return t&&("INPUT"===t.nodeName&&r[t.type]||"TEXTAREA"===t.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=o},{}],154:[function(t,e,n){function o(t){return r(t)&&3==t.nodeType}var r=t(152);e.exports=o},{152:152}],155:[function(t,e,n){"use strict";function o(t){t||(t="");var e,n=arguments.length;if(n>1)for(var o=1;o<n;o++)e=arguments[o],e&&(t=(t?t+" ":"")+e);return t}e.exports=o},{}],156:[function(t,e,n){"use strict";var o=t(150),r=function(t){var e,n={};o(t instanceof Object&&!Array.isArray(t),"keyMirror(...): Argument must be an object.");for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};e.exports=r},{150:150}],157:[function(t,e,n){var o=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=o},{}],158:[function(t,e,n){"use strict";function o(t,e,n){if(!t)return null;var o={};for(var a in t)r.call(t,a)&&(o[a]=e.call(n,t[a],a,t));return o}var r=Object.prototype.hasOwnProperty;e.exports=o},{}],159:[function(t,e,n){"use strict";function o(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}e.exports=o},{}],160:[function(t,e,n){"use strict";function o(t){return a(r.isValidElement(t),"onlyChild must be passed a children with exactly one child."),t}var r=t(63),a=t(150);e.exports=o},{150:150,63:63}],161:[function(t,e,n){"use strict";var o,r=t(22);r.canUseDOM&&(o=window.performance||window.msPerformance||window.webkitPerformance),e.exports=o||{}},{22:22}],162:[function(t,e,n){var o=t(161);o&&o.now||(o=Date);var r=o.now.bind(o);e.exports=r},{161:161}],163:[function(t,e,n){"use strict";function o(t){return'"'+r(t)+'"'}var r=t(131);e.exports=o},{131:131}],164:[function(t,e,n){"use strict";var o=t(22),r=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,i=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(i=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),o.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(i=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),r.test(e)||"<"===e[0]&&a.test(e)){t.innerHTML="\ufeff"+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}e.exports=i},{22:22}],165:[function(t,e,n){"use strict";var o=t(22),r=t(131),a=t(164),i=function(t,e){t.textContent=e};o.canUseDOM&&("textContent"in document.documentElement||(i=function(t,e){a(t,r(e))})),e.exports=i},{131:131,164:164,22:22}],166:[function(t,e,n){"use strict";function o(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}e.exports=o},{}],167:[function(t,e,n){"use strict";function o(t,e){if(null!=t&&null!=e){var n=typeof t,o=typeof e;if("string"===n||"number"===n)return"string"===o||"number"===o;if("object"===o&&t.type===e.type&&t.key===e.key){var a=t._owner===e._owner,i=null,s=null,l=null;return a||(null!=t._owner&&null!=t._owner.getPublicInstance()&&null!=t._owner.getPublicInstance().constructor&&(i=t._owner.getPublicInstance().constructor.displayName),null!=e._owner&&null!=e._owner.getPublicInstance()&&null!=e._owner.getPublicInstance().constructor&&(s=e._owner.getPublicInstance().constructor.displayName),null!=e.type&&null!=e.type.displayName&&(l=e.type.displayName),null!=e.type&&"string"==typeof e.type&&(l=e.type),"string"==typeof e.type&&"input"!==e.type&&"textarea"!==e.type||(null!=t._owner&&t._owner._isOwnerNecessary===!1||null!=e._owner&&e._owner._isOwnerNecessary===!1)&&(null!=t._owner&&(t._owner._isOwnerNecessary=!0),null!=e._owner&&(e._owner._isOwnerNecessary=!0),r(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",l||"Unknown Component",i||"[Unknown]",s||"[Unknown]",t.key))),a}}return!1}var r=t(171);e.exports=o},{171:171}],168:[function(t,e,n){function o(t){var e=t.length;if(r(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t),"toArray: Array-like object expected"),r("number"==typeof e,"toArray: Object needs a length property"),r(0===e||e-1 in t,"toArray: Object should have keys for indices"),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var o=Array(e),a=0;a<e;a++)o[a]=t[a];return o}var r=t(150);e.exports=o},{150:150}],169:[function(t,e,n){"use strict";function o(t){return v[t]}function r(t,e){return t&&null!=t.key?i(t.key):e.toString(36)}function a(t){return(""+t).replace(y,o)}function i(t){return"$"+a(t)}function s(t,e,n,o,a){var l=typeof t;if("undefined"!==l&&"boolean"!==l||(t=null),null===t||"string"===l||"number"===l||c.isValidElement(t))return o(a,t,""===e?m+r(t,0):e,n),1;var p,v,y,C=0;if(Array.isArray(t))for(var _=0;_<t.length;_++)p=t[_],v=(""!==e?e+g:m)+r(p,_),y=n+C,C+=s(p,v,y,o,a);else{var E=d(t);if(E){var b,R=E.call(t);if(E!==t.entries)for(var x=0;!(b=R.next()).done;)p=b.value,v=(""!==e?e+g:m)+r(p,x++),y=n+C,C+=s(p,v,y,o,a);else for(f(w,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),w=!0;!(b=R.next()).done;){var A=b.value;A&&(p=A[1],v=(""!==e?e+g:m)+i(A[0])+g+r(p,0),y=n+C,C+=s(p,v,y,o,a))}}else if("object"===l){h(1!==t.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components.");
var T=u.extract(t);for(var N in T)T.hasOwnProperty(N)&&(p=T[N],v=(""!==e?e+g:m)+i(N)+g+r(p,0),y=n+C,C+=s(p,v,y,o,a))}}return C}function l(t,e,n){return null==t?0:s(t,"",0,e,n)}var c=t(63),u=t(69),p=t(72),d=t(141),h=t(150),f=t(171),m=p.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g,w=!1;e.exports=l},{141:141,150:150,171:171,63:63,69:69,72:72}],170:[function(t,e,n){"use strict";function o(t){return Array.isArray(t)?t.concat():t&&"object"==typeof t?i(new t.constructor,t):t}function r(t,e,n){l(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",n,t);var o=e[n];l(Array.isArray(o),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,o)}function a(t,e){if(l("object"==typeof e,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",g.join(", "),h),c.call(e,h))return l(1===Object.keys(e).length,"Cannot have more than one key in an object with %s",h),e[h];var n=o(t);if(c.call(e,f)){var s=e[f];l(s&&"object"==typeof s,"update(): %s expects a spec of type 'object'; got %s",f,s),l(n&&"object"==typeof n,"update(): %s expects a target of type 'object'; got %s",f,n),i(n,e[f])}c.call(e,u)&&(r(t,e,u),e[u].forEach(function(t){n.push(t)})),c.call(e,p)&&(r(t,e,p),e[p].forEach(function(t){n.unshift(t)})),c.call(e,d)&&(l(Array.isArray(t),"Expected %s target to be an array; got %s",d,t),l(Array.isArray(e[d]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,e[d]),e[d].forEach(function(t){l(Array.isArray(t),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,e[d]),n.splice.apply(n,t)})),c.call(e,m)&&(l("function"==typeof e[m],"update(): expected spec of %s to be a function; got %s.",m,e[m]),n=e[m](n));for(var y in e)v.hasOwnProperty(y)&&v[y]||(n[y]=a(t[y],e[y]));return n}var i=t(29),s=t(157),l=t(150),c={}.hasOwnProperty,u=s({$push:null}),p=s({$unshift:null}),d=s({$splice:null}),h=s({$set:null}),f=s({$merge:null}),m=s({$apply:null}),g=[u,p,d,h,f,m],v={};g.forEach(function(t){v[t]=!0}),e.exports=a},{150:150,157:157,29:29}],171:[function(t,e,n){"use strict";var o=t(129),r=o;r=function(t,e){for(var n=[],o=2,r=arguments.length;o<r;o++)n.push(arguments[o]);if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(0!==e.indexOf("Failed Composite propType: ")&&!t){var a=0,i="Warning: "+e.replace(/%s/g,function(){return n[a++]});console.warn(i);try{throw new Error(i)}catch(s){}}},e.exports=r},{129:129}]},{},[1])(1)});var POSITIONS={above:"above",inside:"inside",below:"below"},Waypoint=React.createClass({displayName:"Waypoint",propTypes:{onEnter:React.PropTypes.func,onLeave:React.PropTypes.func,threshold:React.PropTypes.number},getDefaultProps:function(){return{threshold:0,onEnter:function(){},onLeave:function(){}}},componentDidMount:function(){this.scrollableAncestor=this._findScrollableAncestor(),this.scrollableAncestor.addEventListener("scroll",this._handleScroll),window.addEventListener("resize",this._handleScroll),this._handleScroll()},componentDidUpdate:function(){this._handleScroll()},componentWillUnmount:function(){this.scrollableAncestor&&this.scrollableAncestor.removeEventListener("scroll",this._handleScroll),window.removeEventListener("resize",this._handleScroll)},_findScrollableAncestor:function(){for(var t=React.findDOMNode(this);t.parentNode;)if(t=t.parentNode,t!==document){var e=window.getComputedStyle(t),n=e.getPropertyValue("overflow-y")||e.getPropertyValue("overflow");if("auto"===n||"scroll"===n)return t}return window},_handleScroll:function(t){var e=this._currentPosition();if(this._previousPosition!==e){e===POSITIONS.inside?this.props.onEnter.call(this,t):this._previousPosition===POSITIONS.inside&&this.props.onLeave.call(this,{event:t,position:e});var n=this._previousPosition===POSITIONS.below&&e===POSITIONS.above,o=this._previousPosition===POSITIONS.above&&e===POSITIONS.below;(n||o)&&(this.props.onEnter.call(this,t),this.props.onLeave.call(this,{event:t,position:e})),this._previousPosition=e}},_distanceToTopOfScrollableAncestor:function(t){return this.scrollableAncestor!==window&&!t.offsetParent,t.offsetParent!==this.scrollableAncestor&&t.offsetParent?t.offsetTop+this._distanceToTopOfScrollableAncestor(t.offsetParent):t.offsetTop},_currentPosition:function(){var t,e,n=this._distanceToTopOfScrollableAncestor(React.findDOMNode(this));this.scrollableAncestor===window?(t=window.innerHeight,e=window.pageYOffset):(t=this.scrollableAncestor.offsetHeight,e=this.scrollableAncestor.scrollTop);var o=t*this.props.threshold,r=e<=n+o;if(!r)return POSITIONS.above;var a=e+t,i=a>=n-o;return i?POSITIONS.inside:POSITIONS.below},render:function(){return React.createElement("span",{style:{fontSize:0}})}}),Pdf=React.createClass({displayName:"React-PDF",propTypes:{file:React.PropTypes.string,content:React.PropTypes.string,page:React.PropTypes.number,scale:React.PropTypes.number,onDocumentComplete:React.PropTypes.func,onPageComplete:React.PropTypes.func},getInitialState:function(){return{message:""}},loadFile:function(){var t=this.props.pdfPage.get("content");"-1"!==t&&t?"-"!==t?(debug("react.pdf.js loadFile: getDocument content called"),this.setState({message:"",content:t}),PDFJS.getDocument(t).then(this._onDocumentComplete)):this.setState({page:"",message:"",content:""}):this.setState({page:"",content:"",message:React.createElement("div",{className:"no-contract-error"},lang.sorry_loading," "," "," ",React.createElement("a",{href:"mailto: +{email} "},email)," ",lang.to_let_us_know)})},componentDidMount:function(){var t=this;this.props.pdfPage.on("change:content",function(){debug("react.pdf.js pdfPage change:content called"),t.loadFile()}),this.props.contractApp.on("change:pdfscale",function(){debug("react.pdf.js pdfPage change:pdfscale called"),t.forceUpdate()})},render:function(){var t=this;if(this.removeAnnotations(),this.state.page)return setTimeout(function(){if(t.isMounted()){var e=t.refs.pdfCanvas.getDOMNode(),n=e.getContext("2d"),o=t.props.scale,r=t.state.page.getViewport(1);r.width>600&&1===o?o=595/r.width:r.width>600&&(o=595*o/r.width),r=t.state.page.getViewport(o),e.width=r.width,e.height=r.height;var a={canvasContext:n,viewport:r},i=t.state.page.render(a),s=i._internalRenderTask.callback;i._internalRenderTask.callback=function(e){debug("react.pdf pageRendering callback",e),s.call(this,e),t.props.onPageRendered&&"function"==typeof t.props.onPageRendered&&t.state.content&&t.props.onPageRendered()}}}),React.createElement("canvas",{ref:"pdfCanvas"});if(this.state.message)return debug("react.pdf  showing generic message",this.state.message),React.createElement("div",null,this.state.message);var e=this.props.contractApp.getCurrentPage();debug("react.pdf showing page loader",e),$(".annotator-viewer").addClass("annotator-hide");var n=$(".annotorious-item:first");if($(".pdf-viewer").animate({scrollTop:0},"slow"),n.length>0){n=n[0];var o=n.getContext("2d");o.clearRect(0,0,n.width,n.height),o.fill()}return this.props.loading||React.createElement("div",{className:"pdf-loading"},lang.loading_page+e)},removeAnnotations:function(){$(".annotator-viewer").addClass("annotator-hide"),$(".annotator-pdf-hl").remove()},_onDocumentComplete:function(t){this.props.onDocumentComplete&&"function"==typeof this.props.onDocumentComplete&&this.props.onDocumentComplete(t.numPages),t.getPage(parseInt(this.props.page)).then(this._onPageComplete)},_onPageComplete:function(t){this.setState({page:t}),this.props.onPageComplete&&"function"==typeof this.props.onPageComplete&&this.props.onPageComplete(t.pageIndex+1)}}),PdfPaginationView=React.createClass({displayName:"PdfPaginationView",getInitialState:function(){return{visiblePage:1,totalPages:0}},changePage:function(t){this.refs.userInput.getDOMNode().value=t,this.setState({visiblePage:t}),this.props.contractApp.setCurrentPage(t),$(".pdf-viewer").animate({scrollTop:0},200)},clickPrevious:function(t){t.preventDefault(),this.state.visiblePage>1&&(this.changePage(this.state.visiblePage-1),this.props.contractApp.setPrevClick(!0))},clickNext:function(t){t.preventDefault(),this.state.visiblePage<this.state.totalPages&&this.changePage(this.state.visiblePage+1)},handleKeyDown:function(t){if(13==t.keyCode){var e=parseInt(this.refs.userInput.getDOMNode().value);e>0&&e<=this.state.totalPages?this.changePage(e):this.changePage(this.state.visiblePage)}},componentWillMount:function(){this.setState({visiblePage:this.props.contractApp.getCurrentPage()})},componentDidMount:function(){var t=this;t.setState({totalPages:t.props.contractApp.getTotalPages()}),this.props.contractApp.on("update-pdf-pagination-page",function(e){t.refs.userInput.getDOMNode().value=e,t.setState({visiblePage:e})}),this.refs.userInput.getDOMNode().value=this.state.visiblePage},render:function(){return React.createElement("div",{className:"pdf-pagination pagination",style:this.props.style},React.createElement("a",{href:"#",className:"previous",onClick:this.clickPrevious},lang.previous),React.createElement("input",{type:"text",className:"goto",ref:"userInput",onKeyDown:this.handleKeyDown}),React.createElement("a",{href:"#",className:"next",onClick:this.clickNext},lang.next)," ",lang.of," ",this.state.totalPages)}}),PdfZoom=React.createClass({displayName:"PdfZoom",getInitialState:function(){return{scale:1}},handleClick:function(t,e){t.preventDefault();var n=t.target.getAttribute("data-ref"),o=this.state.scale;o<2&&"increase"==n&&(o+=.25),o>.5&&"decrease"==n&&(o-=.25),this.setState({scale:o}),this.props.contractApp.setPdfScale(o)},render:function(){var t="scale-"+this.state.scale;$(".pdf-zoom-options span").removeClass("scale-selected"),$(".pdf-zoom-options ."+t).addClass("scale-selected");100*this.state.scale;return React.createElement("div",null,React.createElement("div",{className:"pdf-zoom-options",style:this.props.style},React.createElement("a",{className:"btn btn-default","data-ref":"decrease",href:"#",onClick:this.handleClick},"-"),React.createElement("p",null,"image"),React.createElement("a",{className:"btn btn-default","data-ref":"increase",href:"#",onClick:this.handleClick},"+")))}}),PdfViewer=React.createClass({displayName:"PdfViewer",getInitialState:function(){return{loadAnnotations:!1}},componentDidMount:function(){this.loadAnnotationsFlag=!1;var t=this;this.props.pagesCollection.on("reset",function(){debug("pdf.view.js pagesCollection reset called: triggering change:page_no"),t.props.contractApp.trigger("change:page_no")}),this.props.contractApp.on("change:pdfscale",function(){t.loadAnnotationsFlag=!0,t.forceUpdate()}),this.props.pdfPage.on("change:content",function(){t.loadAnnotationsFlag=!0})},render:function(){this.props.contractApp.getCurrentPage(),this.props.contractApp.getPdfUrl();return this.props.contractApp.setPdfLoaded(!1),React.createElement("div",{className:"pdf-viewer pdf-annotator",id:"pdfview",style:this.props.style},React.createElement(Pdf,{contractApp:this.props.contractApp,pdfPage:this.props.pdfPage,page:1,content:this.props.pdfPage.get("content"),scale:parseFloat(this.props.contractApp.getPdfScale())||1,onPageRendered:this._onPageRendered,renderReady:this.state.renderReady}))},loadAnnotations:function(){this.annotator||(this.annotator=new PdfAnnotatorjsView({el:".pdf-annotator",api:this.props.contractApp.getLoadAnnotationsUrl(),enablePdfAnnotation:!0,contractApp:this.props.contractApp}),this.props.contractApp.setAnnotatorInstance(this.annotator))},_onPageRendered:function(){"pdf"===this.props.contractApp.getView()&&(this.annotator?(this.annotator.pageUpdated(),this.loadAnnotationsFlag=!1):$(".pdf-viewer").is(":visible")&&(this.loadAnnotations(),this.loadAnnotationsFlag=!1)),this.props.contractApp.setPdfLoaded(!0)}}),MetadataToggleButton=React.createClass({displayName:"MetadataToggleButton",getInitialState:function(){return{showMeta:!0}},handleClick:function(){this.state.showMeta?(this.setState({showMeta:!1}),$(".right-column-view").hide(),$(".metadata-toggle-button").removeClass("metadata-shown"),$(".pdf-viewer").css("width","70%"),$(".text-panel").css("width","70%")):(this.setState({showMeta:!0}),$(".metadata-toggle-button").addClass("metadata-shown"),$(".right-column-view").show(),$(".pdf-viewer").css("width","50%"),$(".text-panel").css("width","50%"))},render:function(){return React.createElement("div",{className:"metadata-toggle-button pull-right metadata-shown"},React.createElement("span",{onClick:this.handleClick},"Meta"))}}),MetadataView=React.createClass({displayName:"MetadataView",getInitialState:function(){return{showMoreMetadata:!1,showMoreText:!1}},componentDidMount:function(){var t=this;this.props.metadata.on("sync",function(){t.forceUpdate()})},clickShowMoreMetadata:function(t){t.preventDefault(),this.setState({showMoreMetadata:!this.state.showMoreMetadata}),this.state.showMoreMetadata?$(".metadata-view .show-more-meta").hide(500):$(".metadata-view .show-more-meta").show(500)},handleMoreText:function(t){t.preventDefault(),this.setState({showMoreText:!this.state.showMoreText})},getResourceLang:function(t,e){var n=[],o=t.length,n=_.map(t,function(t,n){var r=app_url+"/resource/"+encodeURIComponent(t),a=langResource[t]?langResource[t]:t,i=n!=o-1?" | ":"";return e===!0?React.createElement("span",null,React.createElement("a",{href:r},a),i):React.createElement("nobr",null,React.createElement("nobr",null,a),React.createElement("nobr",null,i))});return n},render:function(){var t=lang.show_more;if(this.state.showMoreMetadata&&(t=lang.show_less),this.props.metadata.get("country")){var e=this.props.metadata.get("country").code.toLowerCase(),n=(app_url+"/countries/"+e,this.props.metadata.get("year_signed")),o=(app_url+"/contracts?year="+n,this.props.metadata.get("contract_type")),r=o.map(function(t,e){var n=(app_url+"/search?q=&contract_type%5B%5D="+t,e!=o.length-1?" | ":"");return t=langContractType[t]||t,React.createElement("span",null,t," ",n)}),a=(new RegExp(" ","g"),this.props.metadata.get("note"));if(""!=a){var i="<span class='metadata-note'>"+lang.note+"</span>";if(this.state.showMoreText)c=React.createElement("a",{className:"ellipsis",href:"#",onClick:this.handleMoreText},{__html:lang.note_less});else{var s=20,l=a.split(" "),c="";l.length>s&&(a=l.slice(0,s).join(" ")+"... ",c=React.createElement("a",{className:"ellipsis",href:"#",onClick:this.handleMoreText},{__html:lang.note_more}))}i+='<span class="note">'+a+"</span>",i=React.createElement("span",{className:"note-inner-wrapper",dangerouslySetInnerHTML:{__html:i}})}var u=null;this.props.metadata.get("is_annexes_missing")&&(u=React.createElement("div",{className:"metadata-ocid"},React.createElement("span",null,lang.annexes_missing),React.createElement("span",null,lang.yes)));var p=null;return this.props.metadata.get("is_pages_missing")&&(p=React.createElement("div",{className:"metadata-ocid"},React.createElement("span",null,lang.pages_missing),React.createElement("span",null,lang.yes))),React.createElement("div",{id:"metadata"},React.createElement("div",{className:"note-wrapper"},i,c),React.createElement("div",{className:"metadata-view"},React.createElement("div",null,lang.metadata),React.createElement("div",{className:"metadata-signature-year"},React.createElement("span",null,lang.signature_year),React.createElement("span",null,this.props.metadata.get("year_signed")||"-")),React.createElement("div",{className:"metadata-resource"},React.createElement("span",null,lang.resource),this.getResourceLang(this.props.metadata.get("resource"),!1)),React.createElement("div",{className:"metadata-type-contract"},React.createElement("span",null,lang.type_contract),React.createElement("p",{className:"spanInline"},r)),React.createElement("div",{className:"metadata-ocid"},React.createElement("span",null,lang.open_contracting_id),React.createElement("span",null,this.props.metadata.get("open_contracting_id"))),React.createElement("div",{className:"metadata-ocid"},React.createElement("span",null,lang.disclosure_mode),React.createElement("span",null,this.props.metadata.get("publisher_type")||"-")),u,p,React.createElement(AmlaUrl,{metadata:this.props.metadata}),React.createElement(LandMatrixView,{metadata:this.props.metadata}),React.createElement("div",{className:"metadata-ocid"},React.createElement("p",null,React.createElement("span",null),React.createElement("span",null,lang.more_for)," ",this.getResourceLang(this.props.metadata.get("resource"),!0)))))}return React.createElement("div",{id:"metadata"},React.createElement("div",{className:"metadata-view"},React.createElement("div",null,lang.metadata),React.createElement("span",{className:"metadataLoading"},lang.loading)))}}),AmlaUrl=React.createClass({displayName:"AmlaUrl",componentDidMount:function(){var t=this;this.props.metadata.on("sync",function(){t.forceUpdate()})},getAmlaLink:function(){var t=null,e=this.props.metadata.get("amla_url");return""!=e&&(isSite("country")||isSite("rc"))&&(t=lang.see+'<a href="'+e+'" target="_blank" > '+lang.legislation+" </a> "+lang.african_mining),{__html:t}},render:function(){return""==this.props.metadata.get("amla_url")?null:React.createElement("div",{className:"amla-legislation",dangerouslySetInnerHTML:this.getAmlaLink()})}}),LandMatrixView=React.createClass({displayName:"LandMatrixView",componentDidMount:function(){var t=this;this.props.metadata.on("sync",function(){t.forceUpdate()})},render:function(){var t="-";return this.props.metadata.get("deal_number")&&(t="#"+this.props.metadata.get("deal_number")),isSite("olc")?React.createElement("div",{className:"metadata-ocid"},React.createElement("span",null,lang.land_matrix_id),React.createElement("a",{target:"_blank",href:this.props.metadata.get("matrix_page")},t)):null}}),RelatedDocumentsView=React.createClass({displayName:"RelatedDocumentsView",componentDidMount:function(){var t=this;this.props.metadata.on("sync",function(){t.forceUpdate()})},render:function(){function t(t){var e=(t+"").split(" "),n="";return e.length>10&&(n=" ..."),e=e.splice(0,10),e.join(" ")+n}var e=[],n=[],o=[];if(this.props.metadata.get("parent")){this.props.metadata.get("parent").map(function(t){var n=app_url+"/contract/"+t.open_contracting_id;t.is_published&&e.push(React.createElement("span",{className:"parent-contract"},React.createElement("a",{href:n},t.name)))});for(var r=3,a=this.props.metadata.get("associated").length<r?this.props.metadata.get("associated").length:r,i=0;i<a;i++){var s=this.props.metadata.get("associated")[i];if(s.is_published){var l=app_url+"/contract/"+s.open_contracting_id;n.push(React.createElement("span",{id:i,className:"child-contract"},React.createElement("a",{href:l},t(s.name))))}}return this.props.metadata.get("associated").length>r&&n.push(React.createElement("span",null,React.createElement("a",{href:this.props.contractApp.getMetadataSummaryLink()+"#associatedcontracts"},"More..."))),e.length>0||n.length>0?React.createElement("div",{className:"relateddocument-view"},React.createElement("div",null,lang.related_docs),React.createElement("span",null,e),n,o):null}return null}}),RelatedDocumentsMoreView=React.createClass({displayName:"RelatedDocumentsMoreView",componentDidMount:function(){var t=this;this.props.metadata.on("sync",function(){t.forceUpdate()})},render:function(){if(this.props.metadata.get("country")){var t=this.props.metadata.get("country").code.toLowerCase(),e=app_url+"/countries/"+t,n=React.createElement("a",{href:e},getCountryName(t)),o=(app_url+"/resources/",this.props.metadata.get("resource").map(function(t,e){return React.createElement("a",{href:app_url+"/resource/"+t,key:e},t)}));return React.createElement("div",{className:"relateddocument-more-view"},React.createElement("div",null,"More"),React.createElement("div",null,React.createElement("div",null,"From ",n),React.createElement("div",null,"For ",o)))}return React.createElement("div",{className:"relateddocument-more-view"},React.createElement("div",null,"More"),React.createElement("span",null,"Loading..."))}}),OtherSourcesView=React.createClass({displayName:"OtherSourcesView",componentDidMount:function(){var t=this;this.props.metadata.on("sync",function(){t.forceUpdate()})},render:function(){if(this.props.metadata.get("company")){var t=this.props.metadata.get("url").amla,e=React.createElement("span",null,React.createElement("a",{href:t},this.props.metadata.get("country").name),"Legislation");return t?React.createElement("div",{className:"other-sources-view"},React.createElement("div",null,lang.other_sources),React.createElement("div",null,React.createElement("div",null,e))):null}return React.createElement("div",{className:"other-sources-view"},React.createElement("div",null,lang.other_sources),React.createElement("span",null,lang.loading))}}),RightColumnView=React.createClass({displayName:"RightColumnView",render:function(){return React.createElement("div",{className:"right-column-view"},React.createElement(MetadataView,{contractApp:this.props.contractApp,metadata:this.props.metadata}),React.createElement(RelatedDocumentsView,{metadata:this.props.metadata,contractApp:this.props.contractApp}))}}),NavigationView=React.createClass({displayName:"NavigationView",render:function(){var t=null,e=null,n=null,o=null;return"pdf"===this.props.contractApp.getView()&&(e="active"),"text"===this.props.contractApp.getView()&&(t="active"),"annotation"===this.props.contractApp.getView()&&(n="active"),"metadata"===this.props.contractApp.getView()&&(o="active"),React.createElement("div",{className:"navigation"},React.createElement("a",{href:"#/text",className:t},lang.text),React.createElement("a",{href:"#/pdf",className:e},lang.pdf),React.createElement("a",{href:"#/annotation",className:n},"Annotation"),React.createElement("a",{href:"#/metadata",className:o},"Metadata"))}}),TextPaginationView=React.createClass({displayName:"TextPaginationView",getInitialState:function(){return{visiblePage:1,totalPages:0}},changePage:function(t){this.refs.userInputText.getDOMNode().value=t,this.props.contractApp.setCurrentPage(t),this.setState({visiblePage:t}),this.props.contractApp.triggerScrollToTextPage()},clickPrevious:function(t){t.preventDefault(),this.state.visiblePage>1&&(this.changePage(this.state.visiblePage-1),"pdf"==this.props.contractApp.getView()?this.props.contractApp.setPrevClick(!1):this.props.contractApp.setPrevClick(!0))},clickNext:function(t){t.preventDefault(),this.state.visiblePage<this.state.totalPages&&this.changePage(this.state.visiblePage+1)},handleKeyDown:function(t){if(13==t.keyCode){var e=parseInt(this.refs.userInputText.getDOMNode().value);e>0&&e<=this.state.totalPages?this.changePage(e):this.changePage(this.state.visiblePage)}},componentDidMount:function(){var t=$(".title-wrap").height();$(window).scroll(function(){$(window).scrollTop()>t?$(".title-head-wrap").addClass("fixed"):$(".title-head-wrap").removeClass("fixed")});var e=this;e.setState({totalPages:e.props.contractApp.getTotalPages()}),this.props.contractApp.on("update-text-pagination-page",function(t){e.refs.userInputText.getDOMNode().value=t,e.setState({visiblePage:t}),t>1&&e.props.contractApp.setCurrentPage(t),e.setState({visiblePage:t})}),this.refs.userInputText.getDOMNode().value=this.state.visiblePage},render:function(){return React.createElement("div",{className:"text-pagination pagination",style:this.props.style},React.createElement("a",{href:"#",className:"previous",onClick:this.clickPrevious},lang.previous),React.createElement("input",{type:"text",className:"goto",ref:"userInputText",onKeyDown:this.handleKeyDown}),React.createElement("a",{href:"#",className:"next",onClick:this.clickNext},lang.next),lang.of," ",this.state.totalPages)}}),TextPageView=React.createClass({displayName:"TextPageView",getInitialState:function(){return{originalHtml:"",searchresultsHtml:""}},_onEnter:function(t,e){this.props.contractApp.isPrevClick()||this.props.contractApp.triggerUpdateTextPaginationPage(this.props.page.get("page_no")),this.props.contractApp.setPrevClick(!1)},_onLeave:function(t){},sanitizeTxt:function(t){return t=t.replace(/(<)(\/?)(?=span|div|br|p)([^>]*)(>)/g,"----lt----$2$3----gt----"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/----lt----/g,"<"),t=t.replace(/----gt----/g,">")},highlightSearchQuery:function(t,e){e=decodeURI(e);var n=new RegExp("("+e+")","gi");return t.replace(n,"<span class='search-highlight-word'>$1</span>")},componentDidMount:function(){var t=this;this.props.contractApp.on("searchresults:close",function(){t.setState({searchresultsHtml:""})}),this.props.contractApp.on("searchresults:ready",function(){if(t.props.contractApp.getSearchQuery()){var e=t.sanitizeTxt(t.props.page.get("text")),n=t.highlightSearchQuery(e,t.props.contractApp.getSearchQuery());t.state.originalHtml?t.setState({searchresultsHtml:n}):t.setState({originalHtml:e,searchresultsHtml:n})}})},render:function(){var t="";t=this.state.originalHtml?this.state.searchresultsHtml?this.state.searchresultsHtml:this.state.originalHtml:this.sanitizeTxt(this.props.page.get("text"));var e=this.props.page.get("page_no"),n=1==e?0:-.4;return React.createElement("span",{className:e},React.createElement("span",null,e),React.createElement("span",{ref:"text_content",dangerouslySetInnerHTML:{__html:t}}),React.createElement(Waypoint,{onEnter:this._onEnter.bind(this,"enter"+e),onLeave:this._onLeave,threshold:n}))}}),TextViewer=React.createClass({displayName:"TextViewer",getInitialState:function(){return{}},handleClickWarning:function(t){t.preventDefault(),$(t.target).parent().hide(500)},loadAnnotations:function(){this.annotator||(this.annotator=new AnnotatorjsView({el:".text-annotator",api:this.props.contractApp.getLoadAnnotationsUrl(),availableTags:["Country","Local-Company-Name"],annotationCategories:["General information","Country","Local company name"],enablePdfAnnotation:!1,contractApp:this.props.contractApp}),this.props.contractApp.setAnnotatorInstance(this.annotator))},scrollToPage:function(t){if($("."+t).offset()){var e=$("."+t).offset().top,n=$(".text-annotator ").scrollTop(),o=$(".text-annotator").offset().top;$(".text-annotator").animate({scrollTop:n-o+e},100)}},componentDidMount:function(){var t=this;this.props.contractApp.on("searchresults:ready",function(){t.annotator&&setTimeout(t.annotator.reload(),1e3)}),this.props.contractApp.on("searchresults:close",function(){t.annotator&&setTimeout(t.annotator.reload(),1e3)}),this.props.pagesCollection.on("reset",function(){t.message="",0===t.props.pagesCollection.models.length&&(t.message=React.createElement("div",{"class":"no-contract-error"},lang.sorry_loading)),t.forceUpdate(),t.loadAnnotations(),t.props.contractApp.triggerScrollToTextPage()}),this.props.contractApp.on("scroll-to-text-page",function(){t.scrollToPage(t.props.contractApp.getCurrentPage())})},render:function(){var t=this,e=this.props.metadata.get("is_ocr_reviewed"),n=this.message?"":React.createElement("div",{className:"text-viewer-warning"},React.createElement("span",{className:"pull-right link close",onClick:this.handleClickWarning},"x"),lang.text_created_automatically,React.createElement("a",{target:"_blank",href:text_version_url},lang.learn_more)),o=this.message?this.message:lang.wait_while_loading;if(this.props.pagesCollection.models.length>0){o=[];for(var r=0;r<this.props.pagesCollection.models.length;r++){var a=this.props.pagesCollection.models[r];o.push(React.createElement(TextPageView,{key:r,contractApp:t.props.contractApp,page:a}))}}return"undefined"==typeof e&&(n=""),0===this.props.pagesCollection.models.length&&(n=React.createElement("div",{className:"text-viewer-warning",dangerouslySetInnerHTML:{__html:not_published_message}}),o=""),0==e&&(n=React.createElement("div",{className:"text-viewer-warning",dangerouslySetInnerHTML:{__html:processing_pdf_file_message}}),o=""),React.createElement("div",{className:"text-panel",id:"textview",style:this.props.style},n,React.createElement("div",{className:"text-annotator"},React.createElement("div",null),React.createElement("div",{className:"text-viewer"},o)))}}),TextSearchForm=React.createClass({displayName:"TextSearchForm",handleSubmit:function(t){t.preventDefault();var e=React.findDOMNode(this.refs.searchInput).value.trim();e&&(document.location.hash="#/search/"+encodeURI(e))},componentDidMount:function(){React.findDOMNode(this.refs.searchInput).value=decodeURI(this.props.contractApp.getSearchQuery())},render:function(){return React.createElement("div",{className:"text-search-container"},React.createElement("div",{className:"text-search"},React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("input",{type:"text",className:"",ref:"searchInput",placeholder:lang.search_in_this_document}))))}}),TextSearchResultRow=React.createClass({displayName:"TextSearchResultRow",getInitialState:function(){return{maxWords:30,text:"",shortText:"",showEllipse:"",showMoreFlag:""}},componentDidMount:function(){if("annotation"==this.props.resultRow.get("type")){var t=this.props.resultRow.get("text"),e=this.shallShowEllipse(t),n="";e&&(n=this.truncate(t)),this.setState({text:t,showEllipse:e,shortText:n,showMoreFlag:!0})}},componentWillReceiveProps:function(t){var e=t.resultRow,n=e.get("text"),o=this.shallShowEllipse(n),r="";o&&(r=this.truncate(n)),this.setState({text:n,showEllipse:o,shortText:r,showMoreFlag:!0})},truncate:function(t){var e=(t+"").split(" ");return e=e.splice(0,this.state.maxWords),e.join(" ")},shallShowEllipse:function(t){var e=(t+"").split(" ");return e.length>=this.state.maxWords},handleClickLessMore:function(t){t.preventDefault(),this.toggleShowMore()},toggleShowMore:function(){this.setState({showMoreFlag:!this.state.showMoreFlag})},getShowText:function(t){var e="",n="",o="";return this.state.showMoreFlag&&this.state.shortText.length>0&&(n=this.state.shortText+"...",e=lang.more),!this.state.showMoreFlag&&this.state.text.length>0&&(n=this.state.text,e=lang.less),0==n.length&&(n=this.state.text),n=React.createElement(HighLight,{text:n}),e=React.createElement("a",{onClick:this.handleClickLessMore},e),o=React.createElement("span",null," ",React.createElement("span",{className:"link",onClick:this.handleClick}," ",n," ")," ",e," ")},handleClick:function(){if("text"==this.props.resultRow.get("type"))location.hash="#/text",this.props.contractApp.setIsSearch(!0),this.props.contractApp.setCurrentPage(this.props.resultRow.get("page_no")),this.props.contractApp.triggerScrollToTextPage();else switch(location.hash="#/"+this.props.resultRow.get("annotation_type")+"/page/"+this.props.resultRow.get("page_no")+"/annotation/"+this.props.resultRow.get("annotation_id"),this.props.resultRow.get("annotation_type")){case"pdf":self=this,this.props.contractApp.setView("pdf"),this.props.contractApp.setIsSearch(!0),this.props.contractApp.setSelectedAnnotation(self.props.resultRow.get("annotation_id")),this.props.contractApp.trigger("annotations:highlight",{id:self.props.resultRow.get("annotation_id")}),this.props.contractApp.setCurrentPage(self.props.resultRow.get("page_no")),this.props.contractApp.triggerUpdatePdfPaginationPage(self.props.resultRow.get("page_no"));break;case"text":self=this,this.props.contractApp.setView("text"),this.props.contractApp.setIsSearch(!0),this.props.contractApp.trigger("annotations:highlight",{id:self.props.resultRow.get("annotation_id")}),this.props.contractApp.setCurrentPage(self.props.resultRow.get("page_no")),this.props.contractApp.showTextAnnotationPopup(self.props.resultRow.get("annotation_id"))}},highlightSearchQuery:function(t,e){e=decodeURI(e);var n=new RegExp(e,"gi");return t.replace(n,"<span class='search-highlight-word'>"+e+"</span>")},render:function(){var t=this.highlightSearchQuery(this.props.resultRow.get("text"),this.props.contractApp.getSearchQuery()),e="<span class='text' title='Text'>Text</span>";return t="<span class='link'>Pg "+this.props.resultRow.get("page_no")+"&nbsp;"+t+"</span>"+e,
"annotation"==this.props.resultRow.get("type")&&(e="<span class='annotations' title='Annotation'>"+lang.annotation+"</span>",t=this.getShowText(this.props.contractApp.getSearchQuery())),"annotation"==this.props.resultRow.get("type")?React.createElement("div",{className:"search-result-row"},t," ",React.createElement("span",{dangerouslySetInnerHTML:{__html:e}})):React.createElement("div",{className:"search-result-row",onClick:this.handleClick},React.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),React.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))}}),TextSearchResultsList=React.createClass({displayName:"TextSearchResultsList",componentDidMount:function(){var t=this;this.props.searchResultsCollection.on("reset",function(){t.forceUpdate(),t.props.contractApp.trigger("searchresults:ready"),t.props.searchResultsCollection.models.length>0&&(t.props.contractApp.trigger("update-text-pagination-page",t.props.searchResultsCollection.models[0].get("page_no")),t.props.contractApp.triggerScrollToTextPage())})},handleCloseSearchResults:function(){this.props.contractApp.trigger("searchresults:close"),this.props.contractApp.setIsSearch(!1),document.location.hash="#/text",this.props.contractApp.setView("text")},render:function(){var t=this,e=lang.searching;return this.props.searchResultsCollection.models.length>0?e=this.props.searchResultsCollection.models.map(function(e,n){return React.createElement(TextSearchResultRow,{key:n,contractApp:t.props.contractApp,resultRow:e})}):this.props.searchResultsCollection.searchCompleted===!0&&0==this.props.searchResultsCollection.length&&(e=lang.no_results_found),this.props.searchResultsCollection.models.length>0?React.createElement("div",{style:this.props.style,className:"search-results-list"},React.createElement("div",{className:"search-result-title"}," ",lang.search_result," ",decodeURI(this.props.contractApp.getSearchQuery())),React.createElement("span",{className:"pull-right link close",onClick:this.handleCloseSearchResults},"x"),e):React.createElement("div",{style:this.props.style,className:"search-results-list"},React.createElement("span",{className:"pull-right link close",onClick:this.handleCloseSearchResults},"x"),e)}}),HighLight=React.createClass({displayName:"HighLight",render:function(){return React.createElement("span",{onClick:this.props.handleClick,dangerouslySetInnerHTML:{__html:this.props.text}})}}),AnnotationsViewer=React.createClass({displayName:"AnnotationsViewer",getInitialState:function(){return{scrollBtnStyle:"display:none"}},componentDidMount:function(){var t=150,e=200;$("#annotations-box").scroll(function(){$(this).scrollTop()>t?$(".back-to-top").fadeIn(e):$(".back-to-top").fadeOut(e)}),$(".back-to-top").click(function(t){return t.preventDefault(),$(".annotation-inner-viewer").animate({scrollTop:0},e),!1})},render:function(){return React.createElement("div",{id:"annotations",className:"annotations-viewer",style:this.props.style},React.createElement("div",{className:"annotation-inner-viewer",id:"annotations-box"},React.createElement(AnnotationHeader,{contractApp:this.props.contractApp,annotationsCollection:this.props.annotationsCollection}),React.createElement(AnnotationsSort,{contractApp:this.props.contractApp,annotationsCollection:this.props.annotationsCollection}),React.createElement(ClipAll,{contractApp:this.props.contractApp,annotationsCollection:this.props.annotationsCollection}),React.createElement(AnnotationsList,{contractApp:this.props.contractApp,annotationsCollection:this.props.annotationsCollection})),React.createElement("a",{href:"#",className:"back-to-top btn btn-primary"},React.createElement("i",{className:"fa fa-arrow-up"})))}}),AnnotationHeader=React.createClass({displayName:"AnnotationHeader",componentDidMount:function(){var t=this;this.props.annotationsCollection.on("reset",function(){t.forceUpdate()})},render:function(){var t=this.props.annotationsCollection.totalAnnotations();return React.createElement("div",null,React.createElement("div",{className:"annotation-title"},t," ",lang.annotations))}}),ClipAll=React.createClass({displayName:"ClipAll",componentDidMount:function(){var t=this;this.props.annotationsCollection.on("reset",function(){t.forceUpdate()})},componentDidUpdate:function(){this.checkAllClipped()||($(this.getDOMNode()).find(".annotation-clip").removeClass("annotation-clipped"),$(this.getDOMNode()).find(".annotation-clip").attr("id","clip-all-annotations"))},checkAllClipped:function(){var t=window.getClipLocalCollection(),e=this.props.annotationsCollection,n=t.localStorage.findAll(),o=[];n.map(function(t){o.push(parseInt(t.id))});var r=!1;return e.map(function(t){r=o.indexOf(parseInt(t.get("annotation_id")))>-1}),r},render:function(){return 1==isClipOn?React.createElement("div",{className:"clearfix"},React.createElement("a",{id:"clip-all-annotations",className:"annotation-clip",title:"Clip all annotations"},React.createElement("span",{className:"link"},langClip.clip_all))):React.createElement("div",null)}}),AnnotationsSort=React.createClass({displayName:"AnnotationsSort",getInitialState:function(){return{show:!1,sortBy:"cluster"}},componentDidMount:function(){var t=this;this.props.annotationsCollection.on("reset",function(){t.props.annotationsCollection.models.length>0&&t.setState({show:!0})}),this.setState({sortBy:"cluster"})},onClickPage:function(t){t.preventDefault(),this.props.annotationsCollection.setSortByKey("page_no"),this.props.contractApp.resetSelectedAnnotation(),this.props.contractApp.trigger("annotations:render"),this.setState({sortBy:"page_no"})},onClickTopic:function(t){t.preventDefault(),this.props.annotationsCollection.setSortByKey("category"),this.props.contractApp.resetSelectedAnnotation(),this.props.contractApp.trigger("annotations:render"),this.setState({sortBy:"cluster"})},render:function(){var t="",e="active",n="";"cluster"==this.state.sortBy&&(e="",n="active",t=React.createElement(AnnotationTopicList,{contractApp:this.props.contractApp}));this.state.sortBy;return this.state.show?React.createElement("div",{className:"annotation-sort"},React.createElement("span",{className:e,onClick:this.onClickPage},lang.by_page),React.createElement("span",{className:n,onClick:this.onClickTopic},lang.by_topic),t):React.createElement("div",null)}}),AnnotationTopicList=React.createClass({displayName:"AnnotationTopicList",getInitialState:function(){return{show:!1}},handleClick:function(t,e){e.preventDefault();var n=t;"All"==n?$(".annotation-item").show():($(".annotation-item").hide(),$("."+n).show()),$(".annotations-topic-list > span").removeClass("selected-topic"),$(e.target).addClass("selected-topic")},render:function(){return React.createElement("div",{className:"annotations-topic-list"},React.createElement("span",{className:"selected-topic",onClick:this.handleClick.bind(this,"All")},lang.all),React.createElement("span",{onClick:this.handleClick.bind(this,"general")},lang.general),React.createElement("span",{onClick:this.handleClick.bind(this,"environment")},lang.environment),React.createElement("span",{onClick:this.handleClick.bind(this,"fiscal")},lang.fiscal),React.createElement("span",{onClick:this.handleClick.bind(this,"operations")},lang.operations),React.createElement("span",{onClick:this.handleClick.bind(this,"social")},lang.social),React.createElement("span",{onClick:this.handleClick.bind(this,"legal_rules")},lang.legal_rules))}}),AnnotationsList=React.createClass({displayName:"AnnotationsList",getInitialState:function(){return{message:lang.loading_annotations}},componentDidMount:function(){var t=this;this.props.annotationsCollection.on("reset",function(){t.props.annotationsCollection.totalAnnotations()>0?t.setState({message:""}):t.setState({message:lang.no_annotation}),t.props.contractApp.getSelectedAnnotation()&&t.props.contractApp.trigger("annotations:scroll-to-selected-annotation")}),this.props.contractApp.on("annotations:render",function(e){t.forceUpdate()}),this.props.contractApp.on("annotations:highlight",function(e){var n=t,o=t.props.annotationsCollection.get(e.id);setTimeout(function(){n.scrollToAnnotation(o.get("id"))},100)}),this.props.contractApp.on("annotations:scroll-to-selected-annotation",function(){var e=t.props.annotationsCollection.get(t.props.contractApp.getSelectedAnnotation());e&&t.scrollToAnnotation(e.get("id"))}),this.props.contractApp.on("annotations:scroll-to-top",function(){t.scrollToTop()}),this.props.contractApp.on("annotations:scroll-to-cluster",function(e){t.scrollToCluster(e)})},scrollToCluster:function(t){if($("#"+t).offset()){var e=$("#"+t).offset().top,n=$(".annotation-inner-viewer").scrollTop(),o=$(".annotation-inner-viewer").offset().top;$(".annotation-inner-viewer").animate({scrollTop:n-o+e},200)}},scrollToAnnotation:function(t){if(t){var e=$(".p-"+t).offset().top,n=$(".annotation-inner-viewer").scrollTop(),o=$(".annotation-inner-viewer").offset().top,r=n-o+e-5;$(".annotation-inner-viewer").animate({scrollTop:r},200),this.props.contractApp.resetSelectedAnnotation()}},scrollToTop:function(t){t.preventDefault(),$(".annotations-viewer").animate({scrollTop:0},500)},getAnnotationItemsComponent:function(t,e){var n=[];if(_.size(t)>0)for(var o in t)n.push(React.createElement(AnnotationItem,{showClusterAnyway:e,key:o,contractApp:this.props.contractApp,annotationsCollection:this.props.annotationsCollection,annotation:t[o]}));return n},getAnnotationItemsComponentByPage:function(t,e){var n=[];if(_.size(t)>0)for(var o in t)for(var r in t[o])console.log(t[o][r]),n.push(React.createElement(AnnotationItem,{showClusterAnyway:e,key:o+"-"+r,contractApp:this.props.contractApp,annotationsCollection:this.props.annotationsCollection,annotation:[t[o][r]]}));return n},sortByPage:function(){return this.props.annotationsCollection.models.length>0?(this.props.annotationsCollection.sort(),React.createElement("div",{className:"annotations-list",id:"id-annotations-list"},this.getAnnotationItemsComponentByPage(this.props.annotationsCollection.groupByPage(),!0))):[]},sortByCategory:function(){if(this.props.annotationsCollection.models.length>0)return this.props.annotationsCollection.sort(),React.createElement("div",{className:"annotations-list",id:"id-annotations-list"},this.getAnnotationItemsComponent(this.props.annotationsCollection.groupByCategory(),!0))},render:function(){return this.props.annotationsCollection.models.length>0?"category"===this.props.annotationsCollection.sort_key?this.sortByCategory():this.sortByPage():React.createElement("div",{className:"annotations-list",id:"id-annotations-list"},React.createElement("p",{className:"annotation-loading"},this.state.message))}}),PageLink=React.createClass({displayName:"PageLink",getInitialState:function(){return{id:"",pageNo:"",annotationType:""}},componentDidMount:function(){var t=this;this.setPageState(),this.props.contractApp.on("annotations:highlight",function(e){e.id===t.state.id&&("pdf"===t.state.annotationType?location.hash="#/pdf/page/"+t.state.pageNo+"/annotation/"+t.state.id:location.hash="#/text/page/"+t.state.pageNo+"/annotation/"+t.state.id)}),this.props.contractApp.on("change:selected_annotation_id-1",function(){t.props.contractApp.getSelectedAnnotation()===t.state.id&&(location.hash="#/pdf/page/"+t.state.pageNo+"/annotation/"+t.state.id)})},setPageState:function(){var t=this.props.annotation.get("id"),e=this.props.annotation.get("page_no"),n="text";this.props.annotation.get("shapes")&&(n="pdf"),this.setState({id:t,pageNo:e,annotationType:n})},handleAnnotationClick:function(t){var e=this;switch(t.preventDefault(),this.state.annotationType){case"pdf":if(this.props.contractApp.trigger("annotations:highlight",{id:e.state.id}),this.props.contractApp.setView("pdf"),this.props.contractApp.setSelectedAnnotation(e.state.id),e.props.contractApp.getCurrentPage()==e.state.pageNo){var e=this;setTimeout(function(){e.props.contractApp.showPdfAnnotationPopup(e.state.id)},300)}this.props.contractApp.setCurrentPage(e.state.pageNo),this.props.contractApp.triggerUpdatePdfPaginationPage(e.state.pageNo);break;case"text":this.props.contractApp.trigger("annotations:highlight",{id:e.state.id});var e=this;setTimeout(function(){e.props.contractApp.showTextAnnotationPopup(e.state.id)},300),this.props.contractApp.setView("text"),this.props.contractApp.setCurrentPage(e.state.pageNo)}},render:function(){return""!=this.props.article_reference?React.createElement("span",{className:"page-gap"},React.createElement("a",{href:"#",onClick:this.handleAnnotationClick},this.props.article_reference),this.props.last?", ":""):React.createElement("span",{className:"page-gap"},React.createElement("a",{href:"#",onClick:this.handleAnnotationClick},this.props.page),this.props.last?", ":"")}}),AnnotationItem=React.createClass({displayName:"AnnotationItem",getInitialState:function(){return{maxWords:10,id:"",annotation_id:"",text:"",shortText:"",showEllipse:"",showMoreFlag:"",highlight:!1,annotationList:[]}},getCategory:function(){return this.state.annotationList[0].get("category")},shallShowEllipse:function(t){var e=(t+"").split(" ");return e.length>=this.state.maxWords},truncate:function(t){var e=(t+"").split(" ");return e=e.splice(0,this.state.maxWords),e.join(" ")},setAnnotationState:function(){var t=this.state.annotationList[0],e=t.get("text")?t.get("text").trim():"",n=t.get("id"),o=t.get("annotation_id"),r=this.shallShowEllipse(e),a="";r&&(a=this.truncate(e));var i=this.props.annotationsCollection.get(this.props.contractApp.getSelectedAnnotation()),s=!(!i||i.get("annotation_id")!==o);this.setState({id:n,text:e,annotation_id:o,shortText:a.trim(),showEllipse:r,showMoreFlag:s,highlight:s})},getPages:function(){var t=this;this.props.annotation.sort(function(t,e){return t.get("page_no")-e.get("page_no")});var e=_.groupBy(this.props.annotation,function(t){return t.get("page_no")});e=_.toArray(e);var n=e.length;return e.map(function(e,o){var r=e[0].get("page_no"),a=!1;o<n-1&&(a=!0);var i=e.length,s=e.map(function(e,n){var o=!1;n<i-1&&(o=!0);var a=""!=e.get("article_reference")?e.get("article_reference"):"";return React.createElement(PageLink,{contractApp:t.props.contractApp,annotation:e,last:o,page:r,article_reference:a})});return React.createElement("span",null,lang.page," ",r," (",s,")",a?", ":"")})},componentWillMount:function(){this.setState({annotationList:this.props.annotation})},componentDidMount:function(){this.setAnnotationState();var t=this;this.props.contractApp.on("annotations:highlight",function(e){var n=e.id,o=!1;t.state.annotationList.map(function(t,e){n==t.get("id")&&(o=!0)}),o?t.setState({showMoreFlag:!0,highlight:!0}):t.setState({showMoreFlag:!1,highlight:!1})}),this.props.contractApp.on("change:selected_annotation_id-1",function(){var e=t.props.annotationsCollection.get(t.props.contractApp.getSelectedAnnotation());e.get("annotation_id")===t.state.annotation_id?t.setState({showMoreFlag:!0,highlight:!0}):t.setState({showMoreFlag:!1,highlight:!1})})},handleEllipsis:function(t){t.preventDefault(),this.setState({showMoreFlag:!this.state.showMoreFlag})},getShowText:function(){var t="",e=this.props.annotation[0],n=e.get("text")?e.get("text").trim():"";return this.state.showEllipse&&(n=this.state.text+" ",t=lang.less,this.state.showMoreFlag||(t=lang.more,n=this.state.shortText+"... ")),n=""!=this.state.text?React.createElement("span",{className:"annotation-item-content"},React.createElement("span",{dangerouslySetInnerHTML:{__html:nl2br(n)}}),React.createElement("nobr",null,React.createElement("a",{className:"annotation-item-ellipsis",href:"#",onClick:this.handleEllipsis,dangerouslySetInnerHTML:{__html:t}}))):""},getPageClasses:function(){var t="";return this.props.annotation.map(function(e,n){t+=" p-"+e.get("id")}),t},getCluster:function(){return this.getSlugName(this.state.annotationList[0].get("cluster"))},getSlugName:function(t){return t.toLowerCase().trim().replace(" ","_")},render:function(){var t=this.state.highlight?"annotation-item selected-annotation":"annotation-item",e=this.getCategory();return React.createElement("div",{className:t+" "+this.getCluster()+this.getPageClasses(),id:this.state.annotation_id},React.createElement(ClipButton,{annotationid:this.state.annotation_id}),React.createElement("div",{className:"category-clip-wrap"},React.createElement("p",{className:"category"},e)),React.createElement("p",{className:"annotated-text"},this.getShowText()),React.createElement("div",{className:"annotation-page"},this.getPages()))}}),ClipButton=React.createClass({displayName:"ClipButton",componentDidUpdate:function(){console.log("clipstate","undefined"==$.cookie("clipstate")),0!=$.cookie("clipstate")&&loadSingleClipedItem(this.getDOMNode()),0!=$.cookie("clipstate")&&"undefined"!=typeof $.cookie("clipstate")||$(this.getDOMNode()).css("display","none")},clickHandler:function(t){window.clipAnnotations(parseInt(this.props.annotationid),t.target)},render:function(){return 1==isClipOn?React.createElement("button",{"data-id":this.props.annotationid,onClick:this.clickHandler,className:"annotation-clip-icon",title:"Clip annotation."},"langClip.clip"):React.createElement("div",null)}}),contractApp=new ContractApp({contract_id:contract.metadata.id,guid:contract.metadata.open_contracting_id,total_pages:contract.metadata.number_of_pages,esapi:esapi});debug("initializing contract ",contractTitle,contractApp.get("contract_id"));var pagesCollection=new ViewerPageCollection;pagesCollection.url=contractApp.getAllPageUrl(),pagesCollection.fetch({reset:!0}),pagesCollection.on("reset",function(){debug("view.blade pageCollection reset, trigger change:page_no"),contractApp.trigger("change:page_no")});var annotationsCollection=new AnnotationsCollection;annotationsCollection.url=contractApp.getAllAnnotationsUrl(),annotationsCollection.fetch({reset:!0});var searchResultsCollection=new SearchResultsCollection;searchResultsCollection.url=contractApp.getSearchUrl();var pdfPage=new PdfPage({contractApp:contractApp}),DownloadUrl=React.createClass({displayName:"DownloadUrl",getInitialState:function(){return{dropdown:!1,socialdropdown:!1,dropdownM:!1,view:{showModal:!1}}},handleShowModal:function(t){t.preventDefault(),this.setState({view:{showModal:!0}})},handleHideModal:function(t){t.preventDefault(),this.setState({view:{showModal:!1}})},toggleDropdown:function(t){t.preventDefault(),this.setState({dropdown:!this.state.dropdown})},socialDropdown:function(t){t.preventDefault(),this.setState({socialdropdown:!this.state.socialdropdown})},componentDidMount:function(){var t=this;$(document).click(function(e){$(e.target).closest(".social-share").length||$(e.target).is(".social-share")||$(".social-share").is(":visible")&&t.setState({socialdropdown:!1}),$(e.target).closest(".download-dropdown").length||$(e.target).is(".download-dropdown")||$(".download-dropdown").is(":visible")&&t.setState({dropdown:!1}),t.setState({dropdown:!1})})},render:function(){var t={display:"block"},e={display:"none"},n=this.state.dropdown?t:e,o=this.state.socialdropdown?t:e,r=encodeURIComponent(window.location.href);return this.props.annotations_url||this.props.text_url?this.props.text_url?this.props.annotations_url?React.createElement("div",{className:"right-column-view"},React.createElement("div",{className:"download-dropdown"},React.createElement("a",{onClick:this.toggleDropdown},React.createElement("span",null,lang.download)),React.createElement("ul",{className:"dropdown-menu",style:n},React.createElement("li",null,React.createElement("a",{href:this.props.pdf_url},lang.pdf)),React.createElement("li",null,React.createElement("a",{href:this.props.text_url},lang.word_file)),React.createElement("li",null,React.createElement("a",{href:this.props.annotations_url},React.createElement("div",{dangerouslySetInnerHTML:{__html:lang.annotations_excel}}))))),React.createElement("div",{className:"social-share dropdown-wrap"},React.createElement("a",{href:"#",onClick:this.socialDropdown},React.createElement("span",null,"share")),React.createElement("ul",{className:"dropdown-menu",style:o},React.createElement("li",{className:"facebook"},React.createElement("a",{href:facebook_share+r,target:"_blank"},"FB")),React.createElement("li",{className:"google-plus"},React.createElement("a",{href:google_share+r,target:"_blank"},"G+")),React.createElement("li",{className:"twitter"},React.createElement("a",{href:twitter_share,target:"_blank"},"T")),React.createElement("li",{className:"email"},React.createElement("a",{onClick:this.handleShowModal},"Email")))),this.state.view.showModal?React.createElement(Email,{handleHideModal:this.handleHideModal}):null,React.createElement(ClipSwitchButton,null)):React.createElement("div",{className:"right-column-view"},React.createElement("div",{className:"download-dropdown"},React.createElement("a",{href:"#",onClick:this.toggleDropdown},React.createElement("span",null,lang.download)),React.createElement("ul",{className:"dropdown-menu",style:n},React.createElement("li",null,React.createElement("a",{href:this.props.pdf_url},lang.pdf)),React.createElement("li",null,React.createElement("a",{href:this.props.text_url},lang.word_file)))),React.createElement("div",{className:"social-share dropdown-wrap"},React.createElement("a",{href:"#",onClick:this.socialDropdown},React.createElement("span",null,"share")),React.createElement("ul",{className:"dropdown-menu",style:o},React.createElement("li",{className:"facebook"},React.createElement("a",{href:facebook_share+r,target:"_blank"},"FB")),React.createElement("li",{className:"google-plus"},React.createElement("a",{href:google_share+r,target:"_blank"},"G+")),React.createElement("li",{className:"twitter"},React.createElement("a",{href:twitter_share,target:"_blank"},"T")),React.createElement("li",{className:"email"},React.createElement("a",{onClick:this.handleShowModal},"3Email")))),this.state.view.showModal?React.createElement(Email,{handleHideModal:this.handleHideModal}):null,React.createElement(ClipSwitchButton,null)):React.createElement("div",{className:"right-column-view"},React.createElement("div",{className:"download-dropdown"},React.createElement("a",{href:"#",onClick:this.toggleDropdown},React.createElement("span",null,lang.download)),React.createElement("ul",{className:"dropdown-menu",style:n},React.createElement("li",null,React.createElement("a",{href:this.props.pdf_url},lang.pdf)),React.createElement("li",null,React.createElement("a",{href:this.props.annotations_url},React.createElement("div",{dangerouslySetInnerHTML:{__html:lang.annotations_excel}}))))),React.createElement("div",{className:"social-share dropdown-wrap"},React.createElement("a",{href:"#",onClick:this.socialDropdown},React.createElement("span",null,"share")),React.createElement("ul",{className:"dropdown-menu",style:o},React.createElement("li",{className:"facebook"},React.createElement("a",{href:facebook_share+r,target:"_blank"},"FB")),React.createElement("li",{className:"google-plus"},React.createElement("a",{href:google_share+r,target:"_blank"},"G+")),React.createElement("li",{className:"twitter"},React.createElement("a",{href:twitter_share,target:"_blank"},"T")),React.createElement("li",{className:"email"},React.createElement("a",{onClick:this.handleShowModal},"2Email")))),this.state.view.showModal?React.createElement(Email,{handleHideModal:this.handleHideModal}):null,React.createElement(ClipSwitchButton,null)):React.createElement("div",{className:"right-column-view"},React.createElement("div",{className:"download-dropdown"},React.createElement("a",{href:"#",onClick:this.toggleDropdown},React.createElement("span",null,lang.download)),React.createElement("ul",{className:"dropdown-menu",style:n},React.createElement("li",null,React.createElement("a",{href:this.props.pdf_url},lang.pdf)))),React.createElement("div",{className:"social-share download-wrap"},React.createElement("a",{href:"#",onClick:this.socialDropdown},React.createElement("span",null,"share")),React.createElement("ul",{className:"dropdown-menu",style:o},React.createElement("li",{className:"facebook"},React.createElement("a",{href:facebook_share+r,target:"_blank"},"FB")),React.createElement("li",{className:"google-plus"},React.createElement("a",{href:google_share+r,target:"_blank"},"G+")),React.createElement("li",{className:"twitter"},React.createElement("a",{href:twitter_share,target:"_blank"},"T")),React.createElement("li",{className:"email"},React.createElement("a",{onClick:this.handleShowModal},"1Email")))),this.state.view.showModal?React.createElement(Email,{handleHideModal:this.handleHideModal}):null,React.createElement(ClipSwitchButton,null))}}),Email=React.createClass({displayName:"Email",getInitialState:function(){return{to:"",from:"",subject:"",body:"",url:"",errors:[],processing:!1}},componentDidMount:function(){var t=document.title,e=window.location.href;this.setState({url:e,subject:t}),$(this.getDOMNode()).modal("show"),$(this.getDOMNode()).on("hidden.bs.modal",this.props.handleHideModal)},handleSubmit:function(t){t.preventDefault();var e={to:this.state.to,from:this.state.from,subject:this.state.subject,body:this.state.body,url:this.state.url};this.state.errors=[],$("div.alert").remove(),this.postFormData(e,t.target)},setError:function(t,e){var n=this.state.errors;n.push({key:t,error:React.createElement("span",{className:"required"},e)}),this.setState({errors:n})},getError:function(t){var e="";return this.state.errors.map(function(n,o){n.key==t&&(e=n.error)}),e},validateEmail:function(t){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},isValidEmails:function(t){t=t.split(",");var e=0,n=this;return t.map(function(t){n.validateEmail(t.trim())||(e+=1)}),0==e},validate:function(){return""!=this.state.to&&this.isValidEmails(this.state.to)||this.setError("to","Please enter valid email address."),""!=this.state.from&&this.validateEmail(this.state.from)||this.setError("from","Please enter valid email address."),""==this.state.subject&&this.setError("subject","Subject is required"),""==this.state.body&&this.setError("body","Message is required"),this.state.errors.length>0},postFormData:function(t){if(this.validate()||this.state.processing)return!1;this.setState({errors:[],processing:!0});var e=this;$.ajax({type:"POST",url:app_url+"/clip/email",data:t}).error(function(){$(".email-result").append("<div class='alert alert-danger'>Something went wrong.</div>"),e.setState({processing:!1})}).success(function(t){t.status?$(".email-result").append("<div class='alert alert-success'>"+t.message+"</div>"):$(".email-result").append("<div class='alert alert-danger'>"+t.message+"</div>"),e.setState({to:"",body:"",processing:!1})})},render:function(){var t=this;return React.createElement("div",{className:"modal fade"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("h4",{className:"modal-title"},"Share via email")),React.createElement("div",{className:"modal-body"},React.createElement("div",{className:"email-result"}),React.createElement("form",{onSubmit:this.handleSubmit},React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"emailto"},"To"),React.createElement("input",{type:"text",onChange:function(e){t.setState({to:e.target.value})},value:this.state.to,className:"form-control"}),this.getError("to")),React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"emailfrom"},"From"),React.createElement("input",{type:"text",onChange:function(e){t.setState({from:e.target.value})},value:this.state.from,className:"form-control"}),this.getError("from")),React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"subject"},"Subject"),React.createElement("input",{type:"text",onChange:function(e){t.setState({subject:e.target.value})},value:this.state.subject,className:"form-control"}),this.getError("subject")),React.createElement("div",{className:"form-group"},React.createElement("label",{"for":"emailbody"},"Message"),React.createElement("textarea",{type:"text",onChange:function(e){t.setState({body:e.target.value})},value:this.state.body,className:"form-control"}),this.getError("body")),React.createElement("div",{className:"form-group url-wrap"},"URL : ",React.createElement("a",{target:"_blank",href:this.state.url}," ",this.state.url)),React.createElement("div",{className:"modal-footer"},React.createElement("input",{type:"submit",className:"btn",value:this.state.processing?"Sending...":"Send Email"})))))))},propTypes:function(){React.PropTypes.func.isRequired}}),SelectLanguage=React.createClass({displayName:"SelectLanguage",handleChange:function(t){console.log("hello",t)},render:function(){var t=[];t=JSON.parse(languages);var e=[],n={width:"16px",height:"16px","margin-right":"6px"};_.each(t,function(t,o){var r=currentUrl+"?lang="+o,a="https://raw.githubusercontent.com/younginnovations/country-flags/master/png250px/"+t.country_code+".png";o!=currentLanguage&&e.push(React.createElement("li",null,React.createElement("a",{href:r},React.createElement("img",{style:n,src:a}),t.name)))})}}),ClipCount=React.createClass({displayName:"ClipCount",render:function(){return React.createElement("div",null,React.createElement("a",{href:clipUrl,id:"annotation-count"}),React.createElement("a",{className:"pull-left  ",id:"hide-annotation"},"Hide"))}}),ClipSwitchButton=React.createClass({displayName:"ClipSwitchButton",render:function(){return 1==isClipOn?React.createElement("div",{classNames:"pull-left"},React.createElement("button",{className:"clip-btn",id:"on-annotation"},"On")):React.createElement("div",null)}}),MainApp=React.createClass({displayName:"MainApp",getInitialState:function(){return{currentView:"pdf"}},text:function(t,e){debug("view.blade.php: setting text view"),contractApp.setView("text"),contractApp.setCurrentPage(contractApp.getCurrentPage()),contractApp.resetSelectedAnnotation(),t&&contractApp.setCurrentPage(t),e&&contractApp.setSelectedAnnotation(e),contractApp.trigger("update-text-pagination-page",contractApp.getCurrentPage()),this.forceUpdate(),contractApp.trigger("scroll-to-text-page")},pdf:function(t,e){debug("view.blade.php: setting pdf view"),contractApp.setView("pdf"),t&&contractApp.setCurrentPage(t),e?contractApp.setSelectedAnnotation(e):contractApp.resetSelectedAnnotation(),contractApp.trigger("change:page_no"),contractApp.trigger("update-pdf-pagination-page",contractApp.getCurrentPage()),this.forceUpdate()},search:function(t){var e="undefined"!=typeof t?t:"";contractApp.setView("search");contractApp.metadata.get("is_ocr_reviewed");contractApp.setSearchQuery(e),searchResultsCollection.fetch({searchTerm:e,reset:!0}),this.forceUpdate()},meta:function(t){},metadata:function(){contractApp.setView("metadata"),this.scrollTo("#metadata"),this.forceUpdate()},annotation:function(){contractApp.setView("annotation"),this.scrollTo("#annotations"),this.forceUpdate()},scrollTo:function(t){$("html,body").animate({scrollTop:$(t).offset().top-150},"slow")},componentDidUpdate:function(){contractApp.setIsSearch(!1);var t=this;contractApp.on("searchresults:close",function(){t.text()})},componentWillMount:function(){var t=Router({"/text":this.text,"/text/page/:page_no":this.text,"/text/page/:page_no/annotation/:annotation_id":this.text,"/pdf":this.pdf,"/metadata":this.metadata,"/annotation":this.annotation,"/pdf/page/:page_no":this.pdf,"/pdf/page/:page_no/annotation/:annotation_id":this.pdf,"/search/:query":this.search,"/meta/:action":this.meta});t.init()},getStyle:function(t){var e={display:"none"};return t&&(e.display="block"),e},render:function(){return React.createElement("div",{className:"main-app"},React.createElement("div",{className:"title-head-wrap"},React.createElement("div",{className:"head-wrap clearfix"},React.createElement(TextSearchForm,{
style:this.getStyle(contractApp.isViewVisible("TextSearchForm")),contractApp:contractApp}),React.createElement(NavigationView,{contractApp:contractApp}),React.createElement(TextPaginationView,{style:this.getStyle(contractApp.isViewVisible("TextPaginationView")),contractApp:contractApp,pagesCollection:pagesCollection}),React.createElement(PdfPaginationView,{style:this.getStyle(contractApp.isViewVisible("PdfPaginationView")),contractApp:contractApp}),React.createElement(PdfZoom,{style:this.getStyle(contractApp.isViewVisible("PdfZoom")),contractApp:contractApp}),React.createElement(DownloadUrl,{pdf_url:pdf_download_url,text_url:text_download_url,annotations_url:annotations_download_url}),React.createElement(MetadataToggleButton,{style:this.getStyle(contractApp.getShowMeta()),contractApp:contractApp}))),React.createElement("div",{className:"document-wrap"},React.createElement(AnnotationsViewer,{style:this.getStyle(contractApp.isViewVisible("AnnotationsViewer")),contractApp:contractApp,annotationsCollection:annotationsCollection}),React.createElement(TextSearchResultsList,{style:this.getStyle(contractApp.isViewVisible("TextSearchResultsList")),contractApp:contractApp,searchResultsCollection:searchResultsCollection}),React.createElement("div",{className:"title-pdf-wrapper"},React.createElement(TextViewer,{style:this.getStyle(contractApp.isViewVisible("TextViewer")),contractApp:contractApp,pagesCollection:pagesCollection,metadata:contractApp.metadata}),React.createElement(PdfViewer,{pdfPage:pdfPage,style:this.getStyle(contractApp.isViewVisible("PdfViewer")),contractApp:contractApp,pagesCollection:pagesCollection})),React.createElement(RightColumnView,{metadata:contractApp.metadata,contractApp:contractApp})))}});React.render(React.createElement(MainApp,null),document.getElementById("content"));